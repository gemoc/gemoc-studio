<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <title>4.3.&nbsp;MoCCML definition</title><link rel="stylesheet" href="css/docbook.css" type="text/css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="Tutorial_SigPML.html" title="SigPML overview"><link rel="up" href="ch04.html" title="Chapter&nbsp;4.&nbsp;SigPML execution semantics"><link rel="prev" href="ch04s02.html" title="4.2.&nbsp;DSA definition"><link rel="next" href="ch04s04.html" title="4.4.&nbsp;DSE definition"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.3.&nbsp;MoCCML definition</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch04s02.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;4.&nbsp;SigPML execution semantics</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch04s04.html">Next</a></td></tr></table><hr></div><div class="section" title="4.3.&nbsp;MoCCML definition"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_moccml_definition"></a>4.3.&nbsp;MoCCML definition</h2></div></div></div><div class="section" title="4.3.1.&nbsp;Creating the MoCCML project"><div class="titlepage"><div><div><h3 class="title"><a name="_creating_the_moccml_project"></a>4.3.1.&nbsp;Creating the MoCCML project</h3></div></div></div><p>From the xDSML project, we select the associated wizard of the MoCC definition that helps to create the moCCML project. On the right click on the Melange file, select the menu "Create MoCC Library for language"&#8594;select the name of the language project&#8594;next&#8594;finish</p><p title="MoCCML project creation"><b>MoCCML project creation.&nbsp;</b><span class="inlinemediaobject"><img src="./SigPML/images/sigpml/MoCCProjectCreation.png" alt="MoCCML project creation"></span></p><p>In the resulting project, we have a directory <span class="emphasis"><em>mocc</em></span> with the <span class="emphasis"><em>MoCCML</em></span> file.</p></div><div class="section" title="4.3.2.&nbsp;Implementation of the MoCCML"><div class="titlepage"><div><div><h3 class="title"><a name="_implementation_of_the_moccml"></a>4.3.2.&nbsp;Implementation of the MoCCML</h3></div></div></div><p>In the MoCCML program, we define the constraint relation which will be referenced in the ECL program (in our case, the <span class="emphasis"><em>ConnectorSDF_PAM</em></span> relation). This relation is based on an automaton definition.</p><p>This automaton describes how the events and variables are used to define a constraint automaton relative to each instance of the <span class="emphasis"><em>Connector</em></span> class.</p><p>The source code is available through
<a class="link" href="SigPML/files/Sigpmltuto.moccml" target="_top">the MoCCML program</a>
and showed below</p><pre class="screen">Unresolved directive in Tutorial_SigPML.asciidoc - include::SigPML/files/xSigpml.moccml[source code of the MocCCML program]</pre><p>Now, we can visualize and edit if necessary the resulting MoCCML automaton. Switch to the modeling perspective (right high corner) and associted the nature modeling to the project (right click on the project&#8594;menu configure&#8594;Convert to modeling project).
We set the MoCCML viewpoint definition on the project (right click on the project&#8594;Viewpoints selection&#8594;select MoCCML viewpoint).</p><p>To visualize the state machine, unfold the SigpmlTuto.moccml&#8594;select the State Relation based library for SigpmlTuto&#8594;new representation.</p><p title="MoCCML diagram for the state based relation definition"><b>MoCCML diagram for the state based relation definition.&nbsp;</b><span class="inlinemediaobject"><img src="./SigPML/images/sigpml/MoCCMLGeneratedDiagram.png" alt="MoCCML diagram for the state based relation definition"></span></p><p>To visualize the state machine, select the <span class="emphasis"><em>ConnectorSDF_PAM_Def</em></span> block and on the right click slect new&#8594;state based diagram.</p><p title="MoCCML state machine definition"><b>MoCCML state machine definition.&nbsp;</b><span class="inlinemediaobject"><img src="./SigPML/images/sigpml/MoCCAutomataLib.png" alt="MoCCML state machine definition"></span></p><p>In this editor, two layers are defined to have the state machine without the transition code, and the other layer "Detailed Transition Layer" add the transition code in the diagram. In this example, we have a state machine with an initial state, a state and three transition with the associated code (<span class="emphasis"><em>when</em></span> clause with the specified clocks, an <span class="emphasis"><em>if</em></span> condition with an expression on variables and an action code after the <span class="emphasis"><em>/</em></span> )</p><p>After the MoCCML definition we define the mapping between this MoCC definition and the abstract syntax of our SigpmlTuto language.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch04s02.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch04.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch04s04.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">4.2.&nbsp;DSA definition&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="Tutorial_SigPML.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;4.4.&nbsp;DSE definition</td></tr></table></div></body></html>