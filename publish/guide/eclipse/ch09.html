<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;9.&nbsp;Executing model</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="Guide.html" title="GEMOC Studio User Guide"><link rel="up" href="pt02.html" title="Part&nbsp;II.&nbsp;GEMOC Modeling workbench"><link rel="prev" href="ch08s02.html" title="Editing model with EMF Tree Editor"><link rel="next" href="ch09s02.html" title="Executing model with the Concurrent Engine"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;9.&nbsp;Executing model</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch08s02.html">Prev</a>&nbsp;</td><th width="60%" align="center">Part&nbsp;II.&nbsp;GEMOC Modeling workbench <span class="inlinemediaobject"><img src="./images/icons/IconeGemocModel_16.png" width="16" height="16" alt="IconeGemocModel_16"></span></th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch09s02.html">Next</a></td></tr></table><hr></div><div class="chapter" title="Chapter&nbsp;9.&nbsp;Executing model"><div class="titlepage"><div><div><h2 class="title"><a name="modeling-workbench-executing-model-section"></a>Chapter&nbsp;9.&nbsp;Executing model</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="ch09.html#_executing_model_with_the_indexterm_primary_sequential_engine_primary_indexterm_sequential_engine">Executing model with the Sequential Engine</a></span></dt><dd><dl><dt><span class="section"><a href="ch09.html#_sequential_launch_configuration">Sequential Launch configuration</a></span></dt><dt><span class="section"><a href="ch09.html#mw-executing-sequential-model-engine-view-section">Engine View</a></span></dt><dt><span class="section"><a href="ch09.html#mw-executing-sequential-model-multidimensional-timeline-view-section">MultiDimentional Timeline View</a></span></dt><dt><span class="section"><a href="ch09.html#mw-executing-sequential-model-multibranch-timeline-view-section">MultiBranch Timeline View</a></span></dt><dt><span class="section"><a href="ch09.html#mw-executing-sequential-model-animation-view-section">Animation View</a></span></dt><dt><span class="section"><a href="ch09.html#mw-executing-sequential-model-debug-view-section">Debug View</a></span></dt><dt><span class="section"><a href="ch09.html#mw-executing-sequential-model-variable-view-section">Variable View</a></span></dt></dl></dd><dt><span class="section"><a href="ch09s02.html">Executing model with the Concurrent Engine</a></span></dt><dd><dl><dt><span class="section"><a href="ch09s02.html#_concurrent_launch_configuration">Concurrent Launch configuration</a></span></dt><dt><span class="section"><a href="ch09s02.html#mw-executing-concurrent-model-engine-view-section">Engine View</a></span></dt><dt><span class="section"><a href="ch09s02.html#mw-executing-concurrent-model-logical-steps-view-section">Logical Steps View</a></span></dt><dt><span class="section"><a href="ch09s02.html#mw-executing-concurrent-model-multibranch-timeline-view-section">MultiBranch Timeline View</a></span></dt><dt><span class="section"><a href="ch09s02.html#mw-executing-concurrent-model-stimuli-manager-view-section">Stimuli Manager View</a></span></dt><dt><span class="section"><a href="ch09s02.html#mw-executing-concurrent-model-animation-view-section">Animation View</a></span></dt><dt><span class="section"><a href="ch09s02.html#mw-executing-concurrent-model-debug-view-section">Debug View</a></span></dt><dt><span class="section"><a href="ch09s02.html#mw-executing-concurrent-model-variable-view-section">Variable View</a></span></dt></dl></dd><dt><span class="section"><a href="ch09s03.html">Exhaustive Exploration and Verification at Model Design Time</a></span></dt><dd><dl><dt><span class="section"><a href="ch09s03.html#_generating_inputs_for_exhaustive_exploration_tools_emphasis_t2_emphasis_at_modeling_level">Generating inputs for Exhaustive Exploration tools : <span class="emphasis"><em>T2</em></span> at Modeling Level</a></span></dt><dt><span class="section"><a href="ch09s03.html#__emphasis_role_strong_indexterm_primary_clocksystem_primary_indexterm_clocksystem_emphasis">ClockSystem</a></span></dt><dt><span class="section"><a href="ch09s03.html#_defining_properties">Defining Properties</a></span></dt></dl></dd></dl></div><p>As the GEMOC Studio offer different engines that requires specific configurations, it currently offers one launch configuration per engine.
The views offered when running or debugging a model will also vary depending on the execution mode and the engine kind.</p><p>The GEMOC Studio currently embed 2 engines:
- a sequential engine with its launch configuration
- a concurrent engine with its launch configuration</p><p>Both launch configurations offer a Run and a Debug mode.</p><div class="section" title="Executing model with the Sequential Engine"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_executing_model_with_the_indexterm_primary_sequential_engine_primary_indexterm_sequential_engine"></a>Executing model with the <a class="indexterm" name="d0e2266"></a>Sequential Engine</h2></div></div></div><div class="section" title="Sequential Launch configuration"><div class="titlepage"><div><div><h3 class="title"><a name="_sequential_launch_configuration"></a>Sequential Launch configuration</h3></div></div></div><div class="section" title="Sequential general options"><div class="titlepage"><div><div><h4 class="title"><a name="_sequential_general_options"></a>Sequential general options</h4></div></div></div><p>Run and debug are configured using the launch configuration. An example of configuration:</p><p><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/sequential_launch_configuration.png" width="800" alt="Sequential Launch configuration"></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Model to execute : this is the model that will be executed</li><li class="listitem">Model initialization method and argument : if the choosen language has a valid method with the <code class="literal">@InitializeModel</code> annotation in its DSA, the field Model initialization method will be set and this method will be called before launching the animation.</li><li class="listitem">Model initialization arguments : optional string arguments that can be passed to the initialization method. (one string per line)</li><li class="listitem">Melange languages : this field allows to select among the languages defined in Melange.</li><li class="listitem">Main method : the name of the method that can be used to start the engine. The possible value are specified by the language designer in the language definition by adding an <code class="literal">@Main</code> annotation on methods in the DSA.</li><li class="listitem">Main model element path : after having selected a main method, use the browse button to select a model element on wich this method will be called. This field presents its path in the model, the following field <span class="emphasis"><em>Main model element name</em></span> displays a human readable name for this element.</li></ul></div><p>The <span class="emphasis"><em>break at start</em></span> tells to the debugger to add a virtual breakpoint on the first instruction that will run.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p><code class="literal">@Main</code> and <code class="literal">@InitializeModel</code> annotations used to declare possible methods used in this launcher are detailed in <a class="xref" href="ch03.html#section-define-sequential-dsa-project" title="Defining the Domain-Specific Actions (DSA) Project for Sequential language">the section called &#8220;Defining the Domain-Specific Actions (DSA) Project for Sequential language&#8221;</a>.</p></div></div><div class="section" title="Sequential Run mode"><div class="titlepage"><div><div><h4 class="title"><a name="_sequential_run_mode"></a>Sequential Run mode</h4></div></div></div><p>The run mode is the fastest way to execute a model.
The execution cannot be paused. It can however be stopped.
It offers a limited set of views :</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">the <a class="link" href="ch09.html#mw-executing-sequential-model-engine-view-section" title="Engine View"></a><a class="indexterm" name="d0e2338"></a><a class="link" href="ch09.html#mw-executing-sequential-model-engine-view-section" title="Engine View">Engine View</a> allows to stop a running model.</li><li class="listitem">the <a class="link" href="ch09.html#mw-executing-sequential-model-multibranch-timeline-view-section" title="MultiBranch Timeline View"></a><a class="indexterm" name="d0e2347"></a><a class="link" href="ch09.html#mw-executing-sequential-model-multibranch-timeline-view-section" title="MultiBranch Timeline View">MultiBranch Timeline View</a> is displayed at the end of the execution in order to check the resulting execution trace.</li></ul></div><p>If more feedback is required, please use one of the frontend or backend available for the xDSML, see <a class="link" href="ch09s02.html#modeling-workbench-backends-frontends-section" title="Backends and frontends">Backends and frontends</a>.</p></div><div class="section" title="Sequential Debug mode"><div class="titlepage"><div><div><h4 class="title"><a name="_sequential_debug_mode"></a>Sequential Debug mode</h4></div></div></div><p>In debug mode, the engine offers more control over the execution.
It allows to pause, add breakpoints, and execute the model in a step by step mode.</p><p>It reuses the Eclipse Debug perspective and some of its views and adds some Gemoc specific views.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">the <a class="link" href="ch09.html#mw-executing-sequential-model-engine-view-section" title="Engine View"></a><a class="indexterm" name="d0e2369"></a><a class="link" href="ch09.html#mw-executing-sequential-model-engine-view-section" title="Engine View">Engine View</a> allows to stop a running model.</li><li class="listitem">the <a class="link" href="ch09.html#mw-executing-sequential-model-animation-view-section" title="Animation View"></a><a class="indexterm" name="d0e2378"></a><a class="link" href="ch09.html#mw-executing-sequential-model-animation-view-section" title="Animation View">Animation Manager View</a> is displayed and updated in real-time during the simulation. It can display both an animation layer and a debug layer.</li><li class="listitem">the <a class="link" href="ch09.html#mw-executing-sequential-model-debug-view-section" title="Debug View">Debug View</a>. This view presents an interface for Step by Step execution of the model.</li><li class="listitem">the <a class="link" href="ch09.html#mw-executing-sequential-model-variable-view-section" title="Variable View">Variable View</a>. This view presents the <a class="indexterm" name="d0e2395"></a>Runtime Data as a (EMF based) tree.</li></ul></div><p>When running a simulation in Debug mode, it is configured to activate automatically the Debug layer and the Animation layer in the Animation view.</p><p>On the engine addon tab, one can activate several optional addons.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">the <a class="link" href="ch09.html#mw-executing-sequential-model-multibranch-timeline-view-section" title="MultiBranch Timeline View"></a><a class="indexterm" name="d0e2408"></a><a class="link" href="ch09.html#mw-executing-sequential-model-multibranch-timeline-view-section" title="MultiBranch Timeline View">MultiBranch Timeline View</a> can be displayed during all the simulation.</li><li class="listitem">the <a class="link" href="ch09.html#mw-executing-sequential-model-multidimensional-timeline-view-section" title="MultiDimentional Timeline View"></a><a class="indexterm" name="d0e2417"></a><a class="link" href="ch09.html#mw-executing-sequential-model-multidimensional-timeline-view-section" title="MultiDimentional Timeline View">MultiDimensional Timeline View</a> can be displayed during all the simulation.</li></ul></div></div></div><div class="section" title="Engine View"><div class="titlepage"><div><div><h3 class="title"><a name="mw-executing-sequential-model-engine-view-section"></a>Engine View</h3></div></div></div><p>The engine view displays a list of execution engines and their status:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">number of execution steps,</li><li class="listitem">current running status.</li></ul></div><p><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/engine_view.png" width="400" alt="Engine View"></span></p><p><a name="modeling-workbench-executing-model-logical-step-view-section"></a>The buttons available on the top right of this view respectively allow to:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Stop the selected engine (red square button)</li><li class="listitem">Remove previously stopped engines from the view (crosses button)</li></ul></div></div><div class="section" title="MultiDimentional Timeline View"><div class="titlepage"><div><div><h3 class="title"><a name="mw-executing-sequential-model-multidimensional-timeline-view-section"></a>MultiDimentional Timeline View</h3></div></div></div><p>The Multidimensional Timeline view provides an interactive representation of the execution trace being captured.
When double-clicking on a previous state represented in the timeline, the model is brought back into this state.
Moreover, the timeline represents all the different dimensions captured in a trace, each being the sequence of
values taken by one specific element of the model. When double-clicking on a value that was reached by an element,
the complete model is brought back in the state corresponding to this value.</p><p>In this mode, the Debug interface is extended with backward actions that behave similarly to their forward counterparts, but follow execution steps in the opposite direction:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="inlinemediaobject"><img src="./Guide/images/workbench/ui_icons/stepbackinto_co.png" alt="stepbackinto"></span> <span class="emphasis"><em>StepBack Into</em></span></li><li class="listitem"><span class="inlinemediaobject"><img src="./Guide/images/workbench/ui_icons/stepbackout_co.png" alt="stepbackout"></span> <span class="emphasis"><em>StepBack Out</em></span></li><li class="listitem"><span class="inlinemediaobject"><img src="./Guide/images/workbench/ui_icons/stepbackover_co.png" alt="stepbackover"></span> <span class="emphasis"><em>StepBack Over</em></span></li></ul></div><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>When going backward then forward again, the execution is a kind of <code class="literal">replay</code> where only the model is updated. The DSA operations are <span class="strong"><strong>not</strong></span> run.  The DSA will run again normally when the engine will try to run the last Step in the timeline.</p></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>This view currently works only with the Sequential engine. We&#8217;re working on extending its use to concurrent model execution too.</p></div><p title="MutiDimensional Timeline"><b>MutiDimensional Timeline.&nbsp;</b><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/timeline/sequential_omniscient_debugging_multidimensionnal_timeline.png" width="800" alt="Sequential Execution Multidimensionnal Timeline"></span></p></div><div class="section" title="MultiBranch Timeline View"><div class="titlepage"><div><div><h3 class="title"><a name="mw-executing-sequential-model-multibranch-timeline-view-section"></a>MultiBranch Timeline View</h3></div></div></div><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>Formerly known as <code class="literal">Event Scheduling Timeline</code> view, this view is limited when run in Sequential. Since there is no choice of Logical Step like with the concurrent engine, the branch mechanism is disabled and this view presents only a single line.</p><p>However, despite the Multidimensional trace, this view does not require to generate a specific trace addon for the language.</p></div><p>This view represents the line of the model&#8217;s execution. It displays:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">the different steps executed by the engine. Steps that have completely finished (ie. operation has returned) are shown in blue. Unfinished Steps are shown in yellow.</li><li class="listitem">the model specific events for each  step.</li></ul></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>This view is enabled/disable in the launch configuration by checking "Event Scheduling Execution tracing" in the Engine Addons tab.</p></div><p title="Sequential Execution MultiBranch Timeline"><b>Sequential Execution MultiBranch Timeline.&nbsp;</b><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/timeline/sequential_model_event_scheduling_timeline.png" width="800" alt="Sequential Execution MultiBranch Timeline"></span></p><p>It is  possible to select a logical step and use the contextual menu to show its caller by selecting the corresponding model element in the Sirius editor:</p><p><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/timeline/sequential_model_event_schduling_timeline_show_caller.png" alt="Show caller"></span></p></div><div class="section" title="Animation View"><div class="titlepage"><div><div><h3 class="title"><a name="mw-executing-sequential-model-animation-view-section"></a>Animation View</h3></div></div></div><p>If you have defined a debug representation using <a class="xref" href="ch04.html#defining-a-debug-representation-section" title="Defining a debug representation">the section called &#8220;Defining a debug representation&#8221;</a>. You can use the following actions to start a debug session and toggle breakpoints.</p><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/modeling/debug_actions.png" alt="Debug actions"></div></div><p>A decorator is shown on all element holding a breakpoint.
The decorator also reflects the state of the breakpoint:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">enabled</li></ul></div><p><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/breakpoint_enabled.png" alt="breakpoint enabled"></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">disabled</li></ul></div><p><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/breakpoint_disabled.png" alt="breakpoint disabled"></span></p><p>When you hit a breakpoint on an element and are debugging with the decider "Step by step user decider", in order to restart the execution you must clic the resume button from the debug perspective. Then don&#8217;t forget to select the next logical step to execute. Do the same when debugging in step by step with the decider "Step by step user decider".</p><p>While executing you can visualize execution data. This setting must be defined by hand since the data are language dependent (see <a class="xref" href="ch04.html#defining-a-debug-representation-section" title="Defining a debug representation">the section called &#8220;Defining a debug representation&#8221;</a> for more details). Here the current state is decorated with a green arrow.</p><p><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/execution_data_highlight.png" alt="Execution data highlight"></span></p><p>The default definition highlights the current instruction in yellow.</p></div><div class="section" title="Debug View"><div class="titlepage"><div><div><h3 class="title"><a name="mw-executing-sequential-model-debug-view-section"></a>Debug View</h3></div></div></div><p>This view is part of the Debug perspective.
It presents an interface for Step by Step execution of the model.</p><p>When an execution is paused, this view presents a stack containing all ongoing steps, with the last started step at the top of the stack.</p><p>At the bottom of the stack is a particular stackframe named <code class="literal">Global context</code>.
When selected, this stackframe displays the runtime data in the <a class="link" href="ch09.html#mw-executing-sequential-model-variable-view-section" title="Variable View">Variable View</a>.</p><p>When paused, the usual debugging tools (step into, step over and step return) can be used to control the execution step by step. With the multidimentional trace enabled, the execution can be controlled backward using the <span class="inlinemediaobject"><img src="./Guide/images/workbench/ui_icons/stepbackinto_co.png" alt="stepbackinto"></span> <span class="emphasis"><em>StepBack Into</em></span>,
 <span class="inlinemediaobject"><img src="./Guide/images/workbench/ui_icons/stepbackout_co.png" alt="stepbackout"></span> <span class="emphasis"><em>StepBack Out</em></span> and
 <span class="inlinemediaobject"><img src="./Guide/images/workbench/ui_icons/stepbackover_co.png" alt="stepbackover"></span> <span class="emphasis"><em>StepBack Over</em></span> commands.</p><p title="Debug and Variable views with the sequential engine"><a name="mw-debug-variable-sequential-view-figure"></a><b>Debug and Variable views with the sequential engine.&nbsp;</b><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/sequential_omniscient_debugging_stack_variables.png" width="800" alt="Debug view"></span></p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>In order to improve the look and feel in <a class="xref" href="ch09.html#mw-debug-variable-sequential-view-figure" title="Debug and Variable views with the sequential engine">Debug and Variable views with the sequential engine</a>, the icons have been customized using the technique described in <a class="xref" href="ch02s02.html#defining-a-concrete-syntax-with-emf-section" title="Defining a Concrete Syntax with EMF">the section called &#8220;Defining a Concrete Syntax with EMF&#8221;</a></p></div></div><div class="section" title="Variable View"><div class="titlepage"><div><div><h3 class="title"><a name="mw-executing-sequential-model-variable-view-section"></a>Variable View</h3></div></div></div><p>This view is available on the Debug perspective.
When an execution is paused, this view presents the current <a class="indexterm" name="d0e2676"></a>Runtime Data of the model.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>To control which Runtime Data should be presented in the Variable view, you need to set an EAnnotation with nsURI set to <code class="literal">aspect</code> on the corresponding EAttributes, EReferences or EClass in the ecore metamodel.</p></div><div class="tip" title="Tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Tip</h3><p>When the execution is paused, it is possible to edit the values in this view and then manually change the Runtime Data of the model.</p><p>If the Multidimenstional trace is activated, this tip works only if the execution is paused on the last instraction of the trace.</p></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch08s02.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="pt02.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch09s02.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Editing model with EMF Tree Editor&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="Guide.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Executing model with the Concurrent Engine</td></tr></table></div></body></html>