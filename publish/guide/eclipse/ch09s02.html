<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Executing model with the Concurrent Engine</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="Guide.html" title="GEMOC Studio User Guide"><link rel="up" href="ch09.html" title="Chapter&nbsp;9.&nbsp;Executing model"><link rel="prev" href="ch09.html" title="Chapter&nbsp;9.&nbsp;Executing model"><link rel="next" href="ch09s03.html" title="Exhaustive Exploration and Verification at Model Design Time"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Executing model with the Concurrent Engine</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch09.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;9.&nbsp;Executing model</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch09s03.html">Next</a></td></tr></table><hr></div><div class="section" title="Executing model with the Concurrent Engine"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_executing_model_with_the_indexterm_primary_concurrent_engine_primary_indexterm_concurrent_engine"></a>Executing model with the <a class="indexterm" name="d0e1957"></a>Concurrent Engine</h2></div></div></div><div class="section" title="Concurrent Launch configuration"><div class="titlepage"><div><div><h3 class="title"><a name="_concurrent_launch_configuration"></a>Concurrent Launch configuration</h3></div></div></div><div class="section" title="Concurrent General options"><div class="titlepage"><div><div><h4 class="title"><a name="_concurrent_general_options"></a>Concurrent General options</h4></div></div></div><p>Run and debug are configured using the launch configuration. An example of configuration:</p><p><span class="inlinemediaobject"><img src="./images/workbench/modeling/concurrent_launch_configuration.png" width="800" alt="Concurrent launch configuration"></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Model to execute : this is the model that will be run</li><li class="listitem">xDSML : this field allows to select among the valid variants of the executable language that are available for the model (Ie. the mix of DSA, DSE and MoCC that can be used on the given domain model)</li><li class="listitem"><p class="simpara"><a class="indexterm" name="d0e1985"></a>Decider : this field allows to select the solver strategy used by the engine when several <a class="indexterm" name="d0e1989"></a>Logical Steps can be triggered. Possible choices are :</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">Solver proposition : the solver internal strategy will be used to select a Logical Step</li><li class="listitem">Random : will randomly select one of the available Logical Step (warning: execution cannot be reproduced when using this Decider)</li><li class="listitem">Ask user : (available only in Debug mode), this option will use the <a class="link" href="ch09.html#modeling-workbench-executing-model-logical-step-view-section">Logical Step View</a> or the <a class="link" href="ch09s02.html#mw-executing-concurrent-model-event-scheduling-timeline-view-section" title="Event Scheduling Timeline View">Event Scheduling Timeline View</a> to present the available Logical Steps and pause if there are more than one Logical Step. The user will then need to click on one of the Logical Step to continue.</li><li class="listitem">Ask user (Step by step) : (available only in Debug mode), this option is similar to the previous one. However, it will pause on every Logical Step, even if there is only one Logical Step that can be triggered. This is more or less equivalent as putting a breakpoint on every MSE of the language.</li></ul></div></li></ul></div><p>More Deciders will be developed (for example for playing predefined scenario).</p></div><div class="section" title="Concurrent Run mode"><div class="titlepage"><div><div><h4 class="title"><a name="_concurrent_run_mode"></a>Concurrent Run mode</h4></div></div></div><p>In run mode, it offers the faster way to run the model.
It cannot be paused. However, you can stop it.
It offers a limited set of views :</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">the <a class="link" href="ch09s02.html#mw-executing-concurrent-model-engine-view-section" title="Engine View"></a><a class="indexterm" name="d0e2024"></a><a class="link" href="ch09s02.html#mw-executing-concurrent-model-engine-view-section" title="Engine View">Engine View</a> allows to stop a running model.</li><li class="listitem">the <a class="link" href="ch09s02.html#mw-executing-concurrent-model-event-scheduling-timeline-view-section" title="Event Scheduling Timeline View"></a><a class="indexterm" name="d0e2033"></a><a class="link" href="ch09s02.html#mw-executing-concurrent-model-event-scheduling-timeline-view-section" title="Event Scheduling Timeline View">Event Scheduling Timeline View</a> is displayed at the end of the execution in order to control the resulting execution trace.</li></ul></div><p>If more feedback are required, please use one of the frontend or backend available for the xDSML, see <a class="link" href="ch09s02.html#modeling-workbench-backends-frontends-section" title="Backends and frontends">Backends and frontends</a>.</p></div><div class="section" title="Concurrent Debug mode"><div class="titlepage"><div><div><h4 class="title"><a name="_concurrent_debug_mode"></a>Concurrent Debug mode</h4></div></div></div><p>In debug mode, the engine offers more control on the execution.
It allows to pause, add breakpoint, and run in a step by step mode.</p><p>It reuses the Eclipse Debug perspective and some of its views and add some GEMOC specific views.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">the <a class="link" href="ch09s02.html#mw-executing-concurrent-model-engine-view-section" title="Engine View"></a><a class="indexterm" name="d0e2055"></a><a class="link" href="ch09s02.html#mw-executing-concurrent-model-engine-view-section" title="Engine View">Engine View</a> allows to stop a running model.</li><li class="listitem">the <a class="link" href="ch09s02.html#mw-executing-concurrent-model-event-scheduling-timeline-view-section" title="Event Scheduling Timeline View"></a><a class="indexterm" name="d0e2064"></a><a class="link" href="ch09s02.html#mw-executing-concurrent-model-event-scheduling-timeline-view-section" title="Event Scheduling Timeline View">Event Scheduling Timeline View</a> can be displayed during all the simulation.</li><li class="listitem">the <a class="link" href="ch09s02.html#mw-executing-concurrent-model-logical-steps-view-section" title="Logical Steps View">Logical Steps View</a> is available for concurrent execution.</li><li class="listitem">the <a class="link" href="ch09s02.html#mw-executing-concurrent-model-stimuli-manager-view-section" title="Stimuli Manager View"></a><a class="indexterm" name="d0e2079"></a><a class="link" href="ch09s02.html#mw-executing-concurrent-model-stimuli-manager-view-section" title="Stimuli Manager View">Stimuli Manager View</a> is displayed during all the simulation.</li><li class="listitem">the <a class="link" href="ch09s02.html#mw-executing-concurrent-model-animation-view-section" title="Animation View"></a><a class="indexterm" name="d0e2088"></a><a class="link" href="ch09s02.html#mw-executing-concurrent-model-animation-view-section" title="Animation View">Animation Manager View</a> is displayed during all the simulation. It can display both an animation layer and a debug layer.</li><li class="listitem">the <a class="link" href="ch09s02.html#mw-executing-concurrent-model-debug-view-section" title="Debug View">Debug View</a>. This view presents an interface for Step by Step execution at the Logical Step level or even at the DSA level.</li><li class="listitem">the <a class="link" href="ch09s02.html#mw-executing-concurrent-model-variable-view-section" title="Variable View">Variable View</a>. This view presents the <a class="indexterm" name="d0e2105"></a>Runtime Data as a (EMF based) tree.</li></ul></div><p>When running a simulation in Debug mode, it is configured to activate automatically the Debug layer and the Animation layer in the Animation view.</p><p>The <span class="emphasis"><em>break at start</em></span> tells to the debugger to add a virtual breakpoint on the first instruction that will run.</p></div><div class="section" title="Backends and frontends"><div class="titlepage"><div><div><h4 class="title"><a name="modeling-workbench-backends-frontends-section"></a>Backends and frontends</h4></div></div></div><p>Backends and frontends offer additionnal view that can respectively display informations from the running model or provide event input to the running model.</p><p>These backends and front ends usually open dedicated views. These views are always opened in all modes (Run or Debug).</p></div></div><div class="section" title="Engine View"><div class="titlepage"><div><div><h3 class="title"><a name="mw-executing-concurrent-model-engine-view-section"></a>Engine View</h3></div></div></div><p>The engine view displays a list of execution engine and their statuses:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">its number of execution steps,</li><li class="listitem">its current running status,</li><li class="listitem">and its logical steps deciding strategy.</li></ul></div><p><span class="inlinemediaobject"><img src="./images/workbench/modeling/engine_view.png" width="400" alt="Engine View"></span></p><p><a name="modeling-workbench-executing-model-logical-step-view-section"></a>The buttons available on top right of this views respectivley allows to:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Stop the selected Engine (red square button)</li><li class="listitem">Remove previously stopped engines from the view (crosses button)</li><li class="listitem">Change the current logical step decider (shield button).</li></ul></div><div class="tip" title="Tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Tip</h3><p>When running in debug mode, You can easily "pause" an engine running with a solver or random decider by clicking on the change logical step decider (the shield button will be green when run in debub mode) this will automatically switch to the "Step by step decider". To restart, simply select back an automatic decider (solver or random) and select the next step in the LogicalStep view.</p></div></div><div class="section" title="Logical Steps View"><div class="titlepage"><div><div><h3 class="title"><a name="mw-executing-concurrent-model-logical-steps-view-section"></a>Logical Steps View</h3></div></div></div><p>The logical steps view displays the list of possible future executions. This list is provided by the solver. This view is organized around a tree. For each logical step, its underlying events can be seen and possibly for each event the associated operation is visible.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>This view displays nothing when execution runs in "run mode", per say this view is only of use when running in "debug mode".</p></div><p><span class="inlinemediaobject"><img src="./images/workbench/modeling/logical_steps.png" alt="Logical Steps"></span></p></div><div class="section" title="Event Scheduling Timeline View"><div class="titlepage"><div><div><h3 class="title"><a name="mw-executing-concurrent-model-event-scheduling-timeline-view-section"></a>Event Scheduling Timeline View</h3></div></div></div><p>This view represents the line of the model&#8217;s execution. It displays:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">the different logical steps proposed by the solver in the past in blue color,</li><li class="listitem">the selected logical steps at each execution step in green color,</li><li class="listitem">and the possible future logical steps in yellow color,</li><li class="listitem">the model specific events for each logical step.</li></ul></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>This view can be enabled/disable in the launch configuration by checking "Execution tracing" in the Engine Addons tab.</p></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>The possible future logical steps are shown under the condition that the model is executing.</p></div><p><span class="inlinemediaobject"><img src="./images/workbench/modeling/timeline.png" width="800" alt="Timeline"></span></p><p>In addition to displaying information, it also provides interaction with the user. During execution, it is possible to come back into the past by double-clicking on any of the blue logical steps. It does three things:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">it resets the solver&#8217;s state to the selected execution step,</li><li class="listitem">and it resets the model&#8217;s state to the selected execution step,</li><li class="listitem">it also forks the current timeline and create a new branch of execution.</li></ol></div><p><span class="inlinemediaobject"><img src="./images/workbench/modeling/timeline/timeline_branch.png" width="200" alt="Timeline branch"></span></p><p>It is also possible to select a logical step and use the contextual menu to show its caller in the Sirius editor:</p><p><span class="inlinemediaobject"><img src="./images/workbench/modeling/timeline/show_caller_timeline.png" alt="Show caller"></span></p><p><span class="inlinemediaobject"><img src="./images/workbench/modeling/timeline/show_caller_editor.png" alt="Show caller"></span></p></div><div class="section" title="Stimuli Manager View"><div class="titlepage"><div><div><h3 class="title"><a name="mw-executing-concurrent-model-stimuli-manager-view-section"></a>Stimuli Manager View</h3></div></div></div><p>The Stimuli Manager view display the list of MSE and has interactions with the Logical Steps view.</p><p><span class="inlinemediaobject"><img src="./images/workbench/modeling/stimuliManager_view.png" alt="Stimuli manager view"></span></p><p>When selecting an MSE you can constrain it by clicking on :</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Green down arrow : no user constraint for this MSE in the next LogicalStep</li><li class="listitem">Orange down arrow : forbid tick of this MSE in the next LogicalStep. The solver will propose only solutions where this MSE doesn&#8217;t tick.</li><li class="listitem">Orange up : force tick of this MSE in the next LogicalSteps. The solver will propose only solutions where this MSE ticks.</li></ul></div><p>Depending of your choice, the list of proposals will be changed in the Logical Steps view.</p><p>Moreover selecting an element in the Logical Steps view will highlight the MSE involved in the Stimuli Manager view.</p><div class="tip" title="Tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Tip</h3><p>This Stimuli Manager view can be used to manually simulate external events.</p></div></div><div class="section" title="Animation View"><div class="titlepage"><div><div><h3 class="title"><a name="mw-executing-concurrent-model-animation-view-section"></a>Animation View</h3></div></div></div><p>If you have defined a debug representation using <a class="xref" href="ch04.html#defining-a-debug-representation-section" title="Defining a debug representation">the section called &#8220;Defining a debug representation&#8221;</a>. You can use the following actions to start a debug session and toggle breakpoints.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/workbench/modeling/debug_actions.png" alt="Debug actions"></div></div><p>A decorator is shown on all element holding a breakpoint.
The decorator also reflects the state of the breakpoint:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">enabled</li></ul></div><p><span class="inlinemediaobject"><img src="./images/workbench/modeling/breakpoint_enabled.png" alt="breakpoint enabled"></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">disabled</li></ul></div><p><span class="inlinemediaobject"><img src="./images/workbench/modeling/breakpoint_disabled.png" alt="breakpoint disabled"></span></p><p>When you hit a breakpoint on an element and are debugging with the decider "Step by step user decider", in order to restart the execution you must click the resume button from the debug perspective. Then don&#8217;t forget to select the next logical step to execute. Do the same when debugging in step by step with the decider "Step by step user decider".</p><p>While executing you can visualize execution data. This setting must be defined by hand since the data are language dependent (see <a class="xref" href="ch04.html#defining-a-debug-representation-section" title="Defining a debug representation">the section called &#8220;Defining a debug representation&#8221;</a> for more details). Here the current state is decorated with a green arrow.</p><p><span class="inlinemediaobject"><img src="./images/workbench/modeling/execution_data_highlight.png" alt="Execution data highlight"></span></p><p>The default definition highlights the current instruction in yellow.</p></div><div class="section" title="Debug View"><div class="titlepage"><div><div><h3 class="title"><a name="mw-executing-concurrent-model-debug-view-section"></a>Debug View</h3></div></div></div><p>This view is part of the Debug perspective.
It presents an interface for Step by Step execution at the Logical Step level or even at the DSA level.
When an execution is paused, this view presents the current Logical Step.</p><p>When paused on a <a class="indexterm" name="d0e2332"></a>Logical Step, the Step over command allows to go to the next Logical Step. The Step Into command allows to run separately each of the internal DSA calls associated to the Logical Step.</p><p><span class="inlinemediaobject"><img src="./images/workbench/modeling/debug_view.png" alt="Debug view"></span></p></div><div class="section" title="Variable View"><div class="titlepage"><div><div><h3 class="title"><a name="mw-executing-concurrent-model-variable-view-section"></a>Variable View</h3></div></div></div><p>This view is available on the Debug perspective.
When an execution is paused, this view presents the current <a class="indexterm" name="d0e2348"></a>Runtime Data as an EMF based tree.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch09.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch09.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch09s03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;9.&nbsp;Executing model&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="Guide.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Exhaustive Exploration and Verification at Model Design Time</td></tr></table></div></body></html>