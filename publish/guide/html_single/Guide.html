<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>GEMOC Studio User Guide</title><link rel="stylesheet" href="css/docbook.css" type="text/css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="en" class="book" title="GEMOC Studio User Guide"><div class="titlepage"><div><div><h1 class="title"><a name="d0e3"></a>GEMOC Studio User Guide</h1></div></div><hr></div><div class="dedication" title="Navigation Overview"><div class="titlepage"><div><div><h2 class="title"><a name="_navigation_overview"></a>Navigation Overview</h2></div></div></div><div class="informalfigure"><div class="mediaobject"><img src="Guide/images/intro/GemocWorkbenchesGlobalPicture.png" width="960" height="720" border="0" usemap="#map" />

<map name="map">
<area shape="rect" coords="142,145,337,182" href="Guide.html#create-language-chapter" />
<area shape="rect" coords="149,208,335,270" href="Guide.html#make-language-executable-chapter" />
<area shape="rect" coords="187,287,299,353" href="Guide.html#define-animator-chapter" />
<area shape="rect" coords="175,481,331,519" href="Guide.html#section-editing-model" />
<area shape="rect" coords="164,560,340,625" href="Guide.html#modeling-workbench-executing-model-section" />
<area shape="rect" coords="438,141,567,290" href="Guide.html#gemoc-language-workbench" />
<area shape="rect" coords="440,466,567,638" href="Guide.html#_modeling_workbench_overview" />
<area shape="rect" coords="651,152,777,228" href="Guide.html#compose-languages-chapter" />
<area shape="rect" coords="515,339,648,430" href="Guide.html#deploy-languages-chapter" />
<area shape="rect" coords="650,482,780,547" href="Guide.html#modeling-workbench-coordinating-model-execution-section" />
</map></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="preface"><a href="#_introduction">Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="#_language_workbench_overview_inlinemediaobject_imageobject_imagedata_fileref_images_icons_iconegemoclanguage_16_png_contentwidth_16_contentdepth_16_imageobject_textobject_phrase_iconegemoclanguage_16_phrase_textobject_inlinemediaobject">1. Language Workbench overview <span class="inlinemediaobject"><img src="./images/icons/IconeGemocLanguage_16.png" width="16" height="16" alt="IconeGemocLanguage_16"></span></a></span></dt><dt><span class="section"><a href="#_modeling_workbench_overview_inlinemediaobject_imageobject_imagedata_fileref_images_icons_iconegemocmodel_16_png_contentwidth_16_contentdepth_16_imageobject_textobject_phrase_iconegemocmodel_16_phrase_textobject_inlinemediaobject">2. Modeling workbench overview <span class="inlinemediaobject"><img src="./images/icons/IconeGemocModel_16.png" width="16" height="16" alt="IconeGemocModel_16"></span></a></span></dt><dt><span class="section"><a href="#_general_concerns_and_prerequisite">3. General concerns and prerequisite</a></span></dt></dl></dd><dt><span class="part"><a href="#gemoc-language-workbench">I. GEMOC Language Workbench <span class="inlinemediaobject"><img src="./images/icons/IconeGemocLanguage_16.png" width="16" height="16" alt="IconeGemocLanguage_16"></span></a></span></dt><dd><dl><dt><span class="chapter"><a href="#_overview">1. Overview</a></span></dt><dd><dl><dt><span class="section"><a href="#section-gemoc-language-project">1.1. xDSML Project</a></span></dt><dd><dl><dt><span class="section"><a href="#_purpose">1.1.1. Purpose</a></span></dt><dt><span class="section"><a href="#_creating_the_xdsml_project">1.1.2. Creating the xDSML Project</a></span></dt><dt><span class="section"><a href="#_editing_the_xdsml_project">1.1.3. Editing the xDSML Project</a></span></dt><dt><span class="section"><a href="#_xdsml_perspective">1.1.4. xDSML perspective</a></span></dt><dt><span class="section"><a href="#_gemoc_language_menu">1.1.5. GEMOC Language menu</a></span></dt><dt><span class="section"><a href="#_melange_menu">1.1.6. Melange menu</a></span></dt><dt><span class="section"><a href="#section-melange-editor">1.1.7. Melange editor</a></span></dt><dd><dl><dt><span class="section"><a href="#_syntax">1.1.7.1. Syntax</a></span></dt><dt><span class="section"><a href="#_content_assist">1.1.7.2. Content assist</a></span></dt><dt><span class="section"><a href="#_outline">1.1.7.3. Outline</a></span></dt></dl></dd><dt><span class="section"><a href="#_plugin_xml">1.1.8. Plugin.xml</a></span></dt></dl></dd><dt><span class="section"><a href="#language-workbench-dashboard-section">1.2. Language workbench dashboard</a></span></dt><dd><dl><dt><span class="section"><a href="#_open_the_dashboard">1.2.1. Open the dashboard</a></span></dt><dt><span class="section"><a href="#_overview_2">1.2.2. Overview</a></span></dt><dt><span class="section"><a href="#_sections">1.2.3. Sections</a></span></dt><dd><dl><dt><span class="section"><a href="#_description">1.2.3.1. Description</a></span></dt><dt><span class="section"><a href="#_links">1.2.3.2. Links</a></span></dt></dl></dd><dt><span class="section"><a href="#_projects_view">1.2.4. Projects view</a></span></dt><dd><dl><dt><span class="section"><a href="#_synchronize">1.2.4.1. Synchronize</a></span></dt><dt><span class="section"><a href="#_open_existing_projects">1.2.4.2. Open existing projects</a></span></dt></dl></dd></dl></dd></dl></dd><dt><span class="chapter"><a href="#create-language-chapter">2. Create a language</a></span></dt><dd><dl><dt><span class="section"><a href="#section-define-AS-project">2.1. Defining a Domain Model Project</a></span></dt><dd><dl><dt><span class="section"><a href="#_purpose_2">2.1.1. Purpose</a></span></dt><dt><span class="section"><a href="#_creating_the_domain_model_project">2.1.2. Creating the Domain Model Project</a></span></dt><dt><span class="section"><a href="#_editing_the_domain_model_project">2.1.3. Editing the Domain Model Project</a></span></dt></dl></dd><dt><span class="section"><a href="#defining-a-concrete-syntax-section">2.2. Defining a Concrete Syntax</a></span></dt><dd><dl><dt><span class="section"><a href="#defining-a-concrete-syntax-with-xtext-section">2.2.1. Defining a Concrete Syntax with Xtext</a></span></dt><dt><span class="section"><a href="#defining-a-concrete-syntax-with-sirius-section">2.2.2. Defining a Concrete Syntax with Sirius</a></span></dt><dt><span class="section"><a href="#defining-a-concrete-syntax-with-emf-section">2.2.3. Defining a Concrete Syntax with EMF</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#make-language-executable-chapter">3. Make a language executable</a></span></dt><dd><dl><dt><span class="section"><a href="#make-sequential-language-executable-section">3.1. Make a sequential executable language</a></span></dt><dd><dl><dt><span class="section"><a href="#section-define-sequential-dsa-project">3.1.1. Defining the Domain-Specific Actions (DSA) Project for Sequential language</a></span></dt><dd><dl><dt><span class="section"><a href="#_purpose_3">3.1.1.1. Purpose</a></span></dt><dt><span class="section"><a href="#_creating_the_dsa_project">3.1.1.2. Creating the DSA Project</a></span></dt><dt><span class="section"><a href="#_editing_the_dsa_project">3.1.1.3. Editing the DSA Project</a></span></dt><dd><dl><dt><span class="section"><a href="#_defining_the_execution_data">3.1.1.3.1. Defining the Execution Data</a></span></dt><dt><span class="section"><a href="#_defining_the_execution_functions">3.1.1.3.2. Defining the Execution Functions</a></span></dt><dt><span class="section"><a href="#_defining_the_control_flow">3.1.1.3.3. Defining the control flow</a></span></dt><dt><span class="section"><a href="#_defining_the_entry_point">3.1.1.3.4. Defining the entry point</a></span></dt></dl></dd></dl></dd></dl></dd><dt><span class="section"><a href="#make-concurrent-language-executable-section">3.2. Make a concurrent executable language</a></span></dt><dd><dl><dt><span class="section"><a href="#section-define-dsa-project">3.2.1. Defining the Domain-Specific Actions (DSA) Project for concurrent language</a></span></dt><dd><dl><dt><span class="section"><a href="#_purpose_4">3.2.1.1. Purpose</a></span></dt><dt><span class="section"><a href="#_creating_the_dsa_project_2">3.2.1.2. Creating the DSA Project</a></span></dt><dt><span class="section"><a href="#_editing_the_dsa_project_2">3.2.1.3. Editing the DSA Project</a></span></dt><dd><dl><dt><span class="section"><a href="#_defining_the_execution_data_2">3.2.1.3.1. Defining the Execution Data</a></span></dt><dt><span class="section"><a href="#_defining_the_execution_functions_2">3.2.1.3.2. Defining the Execution Functions</a></span></dt></dl></dd><dt><span class="section"><a href="#_testing_the_domain_specific_actions">3.2.1.4. Testing the Domain-Specific Actions</a></span></dt></dl></dd><dt><span class="section"><a href="#section-defining-a-mocc">3.2.2. Defining a Model of Concurrency and Communication (MoCC)</a></span></dt><dd><dl><dt><span class="section"><a href="#_introduction_2">3.2.2.1. Introduction</a></span></dt><dt><span class="section"><a href="#_the_ecl_approach_to_identify_dse_and_constraints">3.2.2.2. The ECL approach to identify DSE and constraints</a></span></dt><dd><dl><dt><span class="section"><a href="#_overview_of_ecl">3.2.2.2.1. Overview of ECL</a></span></dt><dt><span class="section"><a href="#_creation_of_an_ecl_model_gemoc_studio">3.2.2.2.2. Creation of an ECL model GEMOC Studio</a></span></dt><dt><span class="section"><a href="#_how_to_use_ecl">3.2.2.2.3. How to use ECL</a></span></dt></dl></dd><dt><span class="section"><a href="#_the_moccml_approach_to_define_constraints">3.2.2.3. The MoCCML approach to define constraints</a></span></dt><dd><dl><dt><span class="section"><a href="#_creating_a_moccml_model_in_the_gemoc_studio">3.2.2.3.1. Creating a MoCCML model in the GEMOC Studio</a></span></dt><dt><span class="section"><a href="#_overview_de_moccml">3.2.2.3.2. Overview de MoCCML</a></span></dt><dt><span class="section"><a href="#_presentation_of_the_moccml_editor">3.2.2.3.3. Presentation of the MoCCML Editor</a></span></dt><dt><span class="section"><a href="#_example_driven_use_of_moccml">3.2.2.3.4. Example-Driven use of MoCCML</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="#_defining_the_domain_specific_events_dse">3.2.3. Defining the Domain-Specific Events (DSE)</a></span></dt><dd><dl><dt><span class="section"><a href="#_purpose_5">3.2.3.1. Purpose</a></span></dt><dt><span class="section"><a href="#_creating_the_dse_project">3.2.3.2. Creating the DSE Project</a></span></dt><dt><span class="section"><a href="#_editing_the_dse_project">3.2.3.3. Editing the DSE Project</a></span></dt><dd><dl><dt><span class="section"><a href="#_defining_an_atomic_domain_specific_event">3.2.3.3.1. Defining an Atomic Domain-Specific Event</a></span></dt><dt><span class="section"><a href="#_semantics_of_atomic_domain_specific_events">3.2.3.3.2. Semantics of Atomic Domain-Specific Events</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="#_defining_the_indexterm_primary_feedback_specification_primary_indexterm_feedback_specification">3.2.4. Defining the Feedback Specification</a></span></dt><dd><dl><dt><span class="section"><a href="#_purpose_6">3.2.4.1. Purpose</a></span></dt><dt><span class="section"><a href="#_creating_a_indexterm_primary_feedback_policy_primary_indexterm_feedback_policy">3.2.4.2. Creating a Feedback Policy</a></span></dt><dt><span class="section"><a href="#_semantics_of_the_feedback_policy">3.2.4.3. Semantics of the Feedback Policy</a></span></dt></dl></dd><dt><span class="section"><a href="#section-exhaustive-exploration-lw">3.2.5. Exhaustive Exploration and Verification at Language Design Time</a></span></dt><dd><dl><dt><span class="section"><a href="#_generating_inputs_for_exhaustive_exploration_tools_emphasis_t1_emphasis_at_language_level">3.2.5.1. Generating inputs for Exhaustive Exploration tools : <span class="emphasis"><em>T1</em></span> at Language Level</a></span></dt></dl></dd></dl></dd></dl></dd><dt><span class="chapter"><a href="#define-animator-chapter">4. Define an animator</a></span></dt><dd><dl><dt><span class="section"><a href="#defining-a-debug-representation-section">4.1. Defining a debug representation</a></span></dt><dd><dl><dt><span class="section"><a href="#_the_debug_representation_wizard">4.1.1. The debug representation wizard</a></span></dt><dd><dl><dt><span class="section"><a href="#_create_a_debug_diagram_description">4.1.1.1. Create a debug diagram description</a></span></dt><dt><span class="section"><a href="#_extend_an_existing_diagram_description">4.1.1.2. Extend an existing diagram description</a></span></dt><dt><span class="section"><a href="#_add_a_debug_layer_to_an_existing_diagram_description">4.1.1.3. Add a debug layer to an existing diagram description</a></span></dt></dl></dd><dt><span class="section"><a href="#_implementation_details">4.1.2. Implementation details</a></span></dt><dd><dl><dt><span class="section"><a href="#_debugger_services">4.1.2.1. Debugger services</a></span></dt><dt><span class="section"><a href="#_debug_layer">4.1.2.2. Debug layer</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="#defining-multidimensional-trace-project-section">4.2. Defining Multidimentional Trace support</a></span></dt></dl></dd><dt><span class="chapter"><a href="#compose-languages-chapter">5. Compose languages</a></span></dt><dd><dl><dt><span class="section"><a href="#composing-languages-with-bcool-section">5.1. Coordination of Languages with BCOoL</a></span></dt><dd><dl><dt><span class="section"><a href="#_what_is_indexterm_primary_bcool_primary_indexterm_bcool">5.1.1. What is BCOoL?</a></span></dt></dl></dd><dt><span class="section"><a href="#_example_a_bcool_operator_between_the_tfsm_and_activity_languages">5.2. Example: a BCOoL Operator between the TFSM and Activity languages.</a></span></dt></dl></dd><dt><span class="chapter"><a href="#deploy-languages-chapter">6. Deploy languages</a></span></dt><dd><dl><dt><span class="section"><a href="#deploy-language-for-language-designer-section">6.1. Deployment of languages for the Language designer</a></span></dt><dt><span class="section"><a href="#distribute-language-for-model-designer-section">6.2. Distribution of languages to the Model designer</a></span></dt></dl></dd></dl></dd><dt><span class="part"><a href="#chapter-gemoc-modeling-workbench">II. GEMOC Modeling workbench <span class="inlinemediaobject"><img src="./images/icons/IconeGemocModel_16.png" width="16" height="16" alt="IconeGemocModel_16"></span></a></span></dt><dd><dl><dt><span class="chapter"><a href="#_modeling_workbench_overview">7. Modeling workbench overview</a></span></dt><dt><span class="chapter"><a href="#section-editing-model">8. Editing model</a></span></dt><dd><dl><dt><span class="section"><a href="#modeling-workbench-editing-model-with-sirius-section">8.1. Editing model with Sirius</a></span></dt><dd><dl><dt><span class="section"><a href="#_debug_specific">8.1.1. Debug specific</a></span></dt></dl></dd><dt><span class="section"><a href="#section-modeling-workbench-editing-model-with-emf-tree-editor">8.2. Editing model with EMF Tree Editor</a></span></dt></dl></dd><dt><span class="chapter"><a href="#modeling-workbench-executing-model-section">9. Executing model</a></span></dt><dd><dl><dt><span class="section"><a href="#_executing_model_with_the_indexterm_primary_sequential_engine_primary_indexterm_sequential_engine">9.1. Executing model with the Sequential Engine</a></span></dt><dd><dl><dt><span class="section"><a href="#_sequential_launch_configuration">9.1.1. Sequential Launch configuration</a></span></dt><dd><dl><dt><span class="section"><a href="#_sequential_general_options">9.1.1.1. Sequential general options</a></span></dt><dt><span class="section"><a href="#_sequential_run_mode">9.1.1.2. Sequential Run mode</a></span></dt><dt><span class="section"><a href="#_sequential_debug_mode">9.1.1.3. Sequential Debug mode</a></span></dt></dl></dd><dt><span class="section"><a href="#mw-executing-sequential-model-engine-view-section">9.1.2. Engine View</a></span></dt><dt><span class="section"><a href="#mw-executing-sequential-model-multidimensional-timeline-view-section">9.1.3. MultiDimentional Timeline View</a></span></dt><dt><span class="section"><a href="#mw-executing-sequential-model-multibranch-timeline-view-section">9.1.4. MultiBranch Timeline View</a></span></dt><dt><span class="section"><a href="#mw-executing-sequential-model-animation-view-section">9.1.5. Animation View</a></span></dt><dt><span class="section"><a href="#mw-executing-sequential-model-debug-view-section">9.1.6. Debug View</a></span></dt><dt><span class="section"><a href="#mw-executing-sequential-model-variable-view-section">9.1.7. Variable View</a></span></dt></dl></dd><dt><span class="section"><a href="#_executing_model_with_the_indexterm_primary_concurrent_engine_primary_indexterm_concurrent_engine">9.2. Executing model with the Concurrent Engine</a></span></dt><dd><dl><dt><span class="section"><a href="#_concurrent_launch_configuration">9.2.1. Concurrent Launch configuration</a></span></dt><dd><dl><dt><span class="section"><a href="#_concurrent_general_options">9.2.1.1. Concurrent General options</a></span></dt><dt><span class="section"><a href="#_concurrent_run_mode">9.2.1.2. Concurrent Run mode</a></span></dt><dt><span class="section"><a href="#_concurrent_debug_mode">9.2.1.3. Concurrent Debug mode</a></span></dt><dt><span class="section"><a href="#modeling-workbench-backends-frontends-section">9.2.1.4. Backends and frontends</a></span></dt></dl></dd><dt><span class="section"><a href="#mw-executing-concurrent-model-engine-view-section">9.2.2. Engine View</a></span></dt><dt><span class="section"><a href="#mw-executing-concurrent-model-logical-steps-view-section">9.2.3. Logical Steps View</a></span></dt><dt><span class="section"><a href="#mw-executing-concurrent-model-multibranch-timeline-view-section">9.2.4. MultiBranch Timeline View</a></span></dt><dt><span class="section"><a href="#mw-executing-concurrent-model-stimuli-manager-view-section">9.2.5. Stimuli Manager View</a></span></dt><dt><span class="section"><a href="#mw-executing-concurrent-model-animation-view-section">9.2.6. Animation View</a></span></dt><dt><span class="section"><a href="#mw-executing-concurrent-model-debug-view-section">9.2.7. Debug View</a></span></dt><dt><span class="section"><a href="#mw-executing-concurrent-model-variable-view-section">9.2.8. Variable View</a></span></dt></dl></dd><dt><span class="section"><a href="#section-exhaustive-exploration-mw">9.3. Exhaustive Exploration and Verification at Model Design Time</a></span></dt><dd><dl><dt><span class="section"><a href="#_generating_inputs_for_exhaustive_exploration_tools_emphasis_t2_emphasis_at_modeling_level">9.3.1. Generating inputs for Exhaustive Exploration tools : <span class="emphasis"><em>T2</em></span> at Modeling Level</a></span></dt><dt><span class="section"><a href="#__emphasis_role_strong_indexterm_primary_clocksystem_primary_indexterm_clocksystem_emphasis">9.3.2. ClockSystem</a></span></dt><dd><dl><dt><span class="section"><a href="#_description_2">9.3.2.1. Description</a></span></dt><dt><span class="section"><a href="#_using_clocksystem">9.3.2.2. Using ClockSystem</a></span></dt></dl></dd><dt><span class="section"><a href="#_defining_properties">9.3.3. Defining Properties</a></span></dt><dd><dl><dt><span class="section"><a href="#_expressing_properties_cdl_formalization">9.3.3.1. Expressing Properties (CDL Formalization)</a></span></dt><dt><span class="section"><a href="#_obp_example">9.3.3.2. OBP example</a></span></dt></dl></dd></dl></dd></dl></dd><dt><span class="chapter"><a href="#modeling-workbench-coordinating-model-execution-section">10. Coordinating Model Execution</a></span></dt><dd><dl><dt><span class="section"><a href="#_running_example_coordination_of_a_coffee_machine_model">10.1. Running Example: Coordination of a Coffee Machine Model</a></span></dt><dd><dl><dt><span class="section"><a href="#_preparing_the_language_workbench">10.1.1. Preparing the Language Workbench</a></span></dt><dt><span class="section"><a href="#_getting_the_modeling_workbench">10.1.2. Getting the Modeling Workbench</a></span></dt><dt><span class="section"><a href="#_running_the_example">10.1.3. Running the example</a></span></dt></dl></dd></dl></dd><dt><span class="bibliography"><a href="#_bibliography">Bibliography</a></span></dt><dt><span class="glossary"><a href="#_glossary">Glossary</a></span></dt><dt><span class="index"><a href="#_index">Index</a></span></dt></dl></dd></dl></div><div class="list-of-figures"><p><b>List of Figures</b></p><dl><dt>1. <a href="#img-GemocWorkbenchesGlobalPicture">Gemoc Workbenches Global Picture</a></dt><dt>1.1. <a href="#figure-glw-screenshot-of-language_workbench">Screenshot of the GEMOC Language Workbench showing the design of a Timed Finite State Machine (TFSM) example.</a></dt><dt>3.1. <a href="#figure-glw-screenshot-of-moccmlLevelFirst">Screenshot of the First graphical level of Edition in MoCCML.</a></dt><dt>3.2. <a href="#figure-glw-screenshot-of-moccmlLevelSecond">Screenshot of the Second graphical level of Edition in MoCCML (Constraint Implementation).</a></dt><dt>3.3. <a href="#figure-exploration-flow">The exploration and verification flow in Gemoc</a></dt><dt>3.4. <a href="#figure-t1-t2">Using T1 Tranformation</a></dt><dt>5.1. <a href="#d0e2146">Overview of the approach.</a></dt><dt>5.2. <a href="#d0e2275">Screenshot of the GEMOC Language Workbench showing the BCOoL specification.</a></dt><dt>6.1. <a href="#d0e2325">Runtime workbench launch configuration</a></dt><dt>7.1. <a href="#figure-glw-screenshot-of-modeling_workbench">Screenshot of GEMOC Studio Modeling Workbench on the TFSM example (execution and animation).</a></dt><dt>9.1. <a href="#figure-xdsml-wizard-exploration">Xdsml Wizard</a></dt><dt>9.2. <a href="#figure-discovery">Discovery</a></dt><dt>9.3. <a href="#figure-discovery-comp">Discovery Components</a></dt><dt>9.4. <a href="#figure-dicovery-cs">Discovery Clocksystem</a></dt><dt>9.5. <a href="#figure-dicovery-lic">Approve licensing</a></dt><dt>9.6. <a href="#figure-instance-graph">Exploration Graph for an Instance</a></dt></dl></div><div class="preface" title="Introduction"><div class="titlepage"><div><div><h2 class="title"><a name="_introduction"></a>Introduction</h2></div></div></div><p>The GEMOC Studio offers 2 main usages:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Building and composing new executable DSML. This mode is intended to be used by language designers and language integrators (aka domain experts).</li><li class="listitem">Creating and executing models conformant to executable DSMLs. This mode is intended to be used by domain designers.</li></ul></div><p>Each of these usage has it own set of tools that are referenced as <span class="strong"><strong>Gemoc Language workbench</strong></span> for the tools for <span class="emphasis"><em>language designers</em></span> and <span class="strong"><strong>Gemoc Modeling Workbench</strong></span> for the tools for <span class="emphasis"><em>domain designers</em></span>.</p><div class="figure"><a name="img-GemocWorkbenchesGlobalPicture"></a><div class="figure-contents"><div class="mediaobject"><img src="Guide/images/intro/GemocWorkbenchesGlobalPicture.png" width="960" height="720" border="0" usemap="#map" />

<map name="map">
<area shape="rect" coords="142,145,337,182" href="Guide.html#create-language-chapter" />
<area shape="rect" coords="149,208,335,270" href="Guide.html#make-language-executable-chapter" />
<area shape="rect" coords="187,287,299,353" href="Guide.html#define-animator-chapter" />
<area shape="rect" coords="175,481,331,519" href="Guide.html#section-editing-model" />
<area shape="rect" coords="164,560,340,625" href="Guide.html#modeling-workbench-executing-model-section" />
<area shape="rect" coords="438,141,567,290" href="Guide.html#gemoc-language-workbench" />
<area shape="rect" coords="440,466,567,638" href="Guide.html#_modeling_workbench_overview" />
<area shape="rect" coords="651,152,777,228" href="Guide.html#compose-languages-chapter" />
<area shape="rect" coords="515,339,648,430" href="Guide.html#deploy-languages-chapter" />
<area shape="rect" coords="650,482,780,547" href="Guide.html#modeling-workbench-coordinating-model-execution-section" />
</map></div></div><p class="title"><b>Figure&nbsp;1.&nbsp;Gemoc Workbenches Global Picture</b></p></div><br class="figure-break"><p>In this document:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">items or roles relative to the Language Workbench are identified with the following icon : <span class="inlinemediaobject"><img src="./images/icons/IconeGemocLanguage_32.png" width="48" height="48" alt="IconeGemocLanguage_32"></span></li><li class="listitem">items or roles relative to the Modeling Workbench are identified with the following icon : <span class="inlinemediaobject"><img src="./images/icons/IconeGemocModel_32.png" width="48" height="48" alt="IconeGemocModel_32"></span></li></ul></div><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p xmlns="">The latest version of this document is available online from <a class="link" href="http://gemoc.github.io/gemoc-studio/" target="_top">http://gemoc.github.io/gemoc-studio/</a></p></div><div class="section" title="1.&nbsp;Language Workbench overview"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_language_workbench_overview_inlinemediaobject_imageobject_imagedata_fileref_images_icons_iconegemoclanguage_16_png_contentwidth_16_contentdepth_16_imageobject_textobject_phrase_iconegemoclanguage_16_phrase_textobject_inlinemediaobject"></a>1.&nbsp;Language Workbench overview <span class="inlinemediaobject"><img src="./images/icons/IconeGemocLanguage_16.png" width="16" height="16" alt="IconeGemocLanguage_16"></span></h2></div></div></div><p>The GEMOC Language Workbench allows building and composing new executable DSMLs.</p><p>To acheive that, it offers appropriate tools and guidance for the underlying activities wich are grouped in categories.</p><p title="Build executable language"><b>Build executable language.&nbsp;</b>The first main activity is to build an executable language. The language designer is assited by a dedicated Dashboard to guide him during his work.</p><p>This first dashboard groups the activities as follow:</p><div class="variablelist"><dl><dt><span class="term">Create a language</span></dt><dd><p class="simpara">This activity can be decomposed in activities in two groups :</p><div class="variablelist"><dl><dt><span class="term">Domain model (abstract syntax)</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Create the abstract syntax with EMF (incl., the ecore model and the genmodel)</li></ul></div></dd><dt><span class="term"><a class="link" href="#defining-a-concrete-syntax-section" title="2.2.&nbsp;Defining a Concrete Syntax">Model editors (concrete syntax)</a></span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><a class="link" href="#defining-a-concrete-syntax-with-sirius-section" title="2.2.2.&nbsp;Defining a Concrete Syntax with Sirius">Create a graphical editor with Sirius Designer</a></li><li class="listitem">Create a textual editor with Xtext</li></ul></div></dd></dl></div></dd><dt><span class="term">Make your language executable</span></dt><dd><p class="simpara">This activity is decomposed in 2 main parts:</p><div class="variablelist"><dl><dt><span class="term">Sequential Execution semantics</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Create the execution semantics with Kermeta and Melange</li></ul></div></dd><dt><span class="term">Concurrent Execution semantics</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Create the Domain-Specific Actions with Kermeta and Melange</li><li class="listitem">Create the Domain-Specific Events with ECL</li><li class="listitem">Create a library of Model of Computation with MoccML</li></ul></div></dd></dl></div></dd><dt><span class="term">Define the runtime environnement for the language</span></dt><dd><div class="variablelist"><dl><dt><span class="term">Model Debugger</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Select your breakpointable elements</li></ul></div></dd><dt><span class="term">Model dynamic representation (for debugging, animation, monitoring)</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Create the graphical representation with Sirius Animator</li><li class="listitem">Plug your own add-ons</li></ul></div></dd></dl></div></dd></dl></div><p>TODO add links to the corresponding sections in the main chapters</p><p>TODO: add snapshot of the dashboard</p><p title="Compose executable languages"><b>Compose executable languages.&nbsp;</b>The second main activity is to define the composition between executable languages.
The language integrator is also assisted by a dedicated dashboard that proposes the following activity groups:</p><div class="variablelist"><dl><dt><span class="term">Compose languages</span></dt><dd><p class="simpara">This activity can be decomposed in activities in two groups :</p><div class="variablelist"><dl><dt><span class="term">Create composition operators</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Create operators with BCOoL</li></ul></div></dd></dl></div></dd><dt><span class="term">Combine languages</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Select a set of language to combine</li><li class="listitem">Apply composition operators to a set of languages.</li><li class="listitem">Customize composition</li></ul></div></dd></dl></div><p>TODO: add snapshot of the dashboard</p></div><div class="section" title="2.&nbsp;Modeling workbench overview"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_modeling_workbench_overview_inlinemediaobject_imageobject_imagedata_fileref_images_icons_iconegemocmodel_16_png_contentwidth_16_contentdepth_16_imageobject_textobject_phrase_iconegemocmodel_16_phrase_textobject_inlinemediaobject"></a>2.&nbsp;Modeling workbench overview <span class="inlinemediaobject"><img src="./images/icons/IconeGemocModel_16.png" width="16" height="16" alt="IconeGemocModel_16"></span></h2></div></div></div><p>The GEMOC Modeling Workbench allows the use of available languages to create and execute models.</p><div class="variablelist"><dl><dt><span class="term">Create Models</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Use available editors to create domain models.</li></ul></div></dd><dt><span class="term">Execute and debug models</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Use execution engine</li><li class="listitem">Use step by step debugger</li><li class="listitem">Analyse time trace</li></ul></div></dd><dt><span class="term">Animate models</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Use animation views</li></ul></div></dd></dl></div></div><div class="section" title="3.&nbsp;General concerns and prerequisite"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_general_concerns_and_prerequisite"></a>3.&nbsp;General concerns and prerequisite</h2></div></div></div><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p xmlns="">In order to run, Eclipse workbench work better with additional memory. Use the following setting to start Eclipse: -Xms1024m -Xmx1024m -XX:PermSize=512m -XX:MaxPermSize=512m</p></div></div></div><div class="part" title="Part&nbsp;I.&nbsp;GEMOC Language Workbench"><div class="titlepage"><div><div><h1 class="title"><a name="gemoc-language-workbench"></a>Part&nbsp;I.&nbsp;GEMOC Language Workbench <span class="inlinemediaobject"><img src="./images/icons/IconeGemocLanguage_16.png" width="16" height="16" alt="IconeGemocLanguage_16"></span></h1></div></div></div><div class="chapter" title="Chapter&nbsp;1.&nbsp;Overview"><div class="titlepage"><div><div><h2 class="title"><a name="_overview"></a>Chapter&nbsp;1.&nbsp;Overview</h2></div></div></div><p>The <span class="strong"><strong><a class="indexterm" name="d0e288"></a>GEMOC Language Workbench</strong></span> is intended to be used by the <a class="indexterm" name="d0e293"></a>Language Designers and the <a class="indexterm" name="d0e297"></a>Language Integrators. It provides the tools to create and compose eXecutable Domain-Specific Modeling Languages (xDSMLs) using the GEMOC approach.</p><div class="figure"><a name="figure-glw-screenshot-of-language_workbench"></a><div class="figure-contents"><div class="mediaobject"><img src="./Guide/images/gemoc_language_workbench_TFSM_screenshot.png" width="800" alt="Screenshot of the GEMOC Language Workbench"></div></div><p class="title"><b>Figure&nbsp;1.1.&nbsp;Screenshot of the GEMOC Language Workbench showing the design of a Timed Finite State Machine (TFSM) example.</b></p></div><br class="figure-break"><p><a class="indexterm" name="d0e311"></a>
<a class="indexterm" name="d0e317"></a></p><p></p><div class="section" title="1.1.&nbsp;xDSML Project"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="section-gemoc-language-project"></a>1.1.&nbsp;xDSML Project</h2></div></div></div><div class="section" title="1.1.1.&nbsp;Purpose"><div class="titlepage"><div><div><h3 class="title"><a name="_purpose"></a>1.1.1.&nbsp;Purpose</h3></div></div></div><p>The xDSML Project is the core project of languages created using the GEMOC Studio. It has one main purposes:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Referencing the different projects implementing the various parts constituting an xDSML;</li></ul></div></div><div class="section" title="1.1.2.&nbsp;Creating the xDSML Project"><div class="titlepage"><div><div><h3 class="title"><a name="_creating_the_xdsml_project"></a>1.1.2.&nbsp;Creating the xDSML Project</h3></div></div></div><p>In the GEMOC Studio, go to: <span class="emphasis"><em>File &gt; New &gt; Project&#8230;&#8203; &gt; New GEMOC Language Project</em></span>. This will create a new xDSML Project in your workspace.</p></div><div class="section" title="1.1.3.&nbsp;Editing the xDSML Project"><div class="titlepage"><div><div><h3 class="title"><a name="_editing_the_xdsml_project"></a>1.1.3.&nbsp;Editing the xDSML Project</h3></div></div></div><p>The .melange file is the main element of the xDSML Project.</p><p>From the information contained in this file, the project generates additional code that is used by the Execution Engine during the execution of models conforming to the xDSML (see <a class="xref" href="#chapter-gemoc-modeling-workbench" title="Part&nbsp;II.&nbsp;GEMOC Modeling workbench">Part&nbsp;II, &#8220;GEMOC Modeling workbench <span class="inlinemediaobject"><img src="./images/icons/IconeGemocModel_16.png" width="16" height="16" alt="IconeGemocModel_16"></span>&#8221;</a>).</p></div><div class="section" title="1.1.4.&nbsp;xDSML perspective"><div class="titlepage"><div><div><h3 class="title"><a name="_xdsml_perspective"></a>1.1.4.&nbsp;xDSML perspective</h3></div></div></div><p>The GEMOC Language Workbench provides an <span class="strong"><strong>xDSML</strong></span> perspective.
It is available in the menu <span class="emphasis"><em>Window &gt; Open Perspective &gt; Other</em></span>.</p><p>This perspective eases the creation of a new xDSML project.
In the menu <span class="emphasis"><em>File &gt; New</em></span>, you have direct access to</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">GEMOC Sequential xDSML Project</li><li class="listitem">GEMOC Concurrent xDSML Project</li></ul></div><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/language/newProject.png" width="1000" alt="New xDSML project"></div></div></div><div class="section" title="1.1.5.&nbsp;GEMOC Language menu"><div class="titlepage"><div><div><h3 class="title"><a name="_gemoc_language_menu"></a>1.1.5.&nbsp;GEMOC Language menu</h3></div></div></div><p>On a right click on an xDSML project you have access to this menu containing theses commands:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Generate Multidimentional Trace Addon project for language</li><li class="listitem">Create Domain Model Project for language</li><li class="listitem">Create Sirius Editor for language</li><li class="listitem">Create XText Editor Project for language</li><li class="listitem">Create Animator Project for language</li></ul></div><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/language/project_menu.png" width="1000" alt="Project menu"></div></div></div><div class="section" title="1.1.6.&nbsp;Melange menu"><div class="titlepage"><div><div><h3 class="title"><a name="_melange_menu"></a>1.1.6.&nbsp;Melange menu</h3></div></div></div><p>On a right click on a .melange file you have access to this menu containing theses commands:</p><div class="variablelist"><dl><dt><span class="term">Generate All</span></dt><dd>Generate Language Runtime, Adapters, Interfaces and Plugin.xml</dd><dt><span class="term">Clean All</span></dt><dd>Delete generated artifacts</dd><dt><span class="term">Generate Language Runtime</span></dt><dd>Generate new Eclipse projects for Languages that inherit or with multiple <span class="strong"><strong>syntax</strong></span>. A new project contains the .ecore merging the multiple Domain models of the Language. It also contains copies of inherited Aspects but applying on the new .ecore file (which has classes in another namespace).</dd><dt><span class="term">Generate Adapters</span></dt><dd>Generates adaptation classes to see a model as an instance of a compatible Language. (experimental)</dd><dt><span class="term">Generate Interfaces</span></dt><dd>Generate the ModelTypes as .ecore file. It represents the merge of Domain models and semantics of the Language.</dd><dt><span class="term">Generate Plugin.xml</span></dt><dd>Generate extension points in the plugin.xml file. They are used by the Modelling Workbench to get informations about defined Languages.</dd></dl></div><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/language/melange_menu.png" width="1000" alt="Project menu"></div></div></div><div class="section" title="1.1.7.&nbsp;Melange editor"><div class="titlepage"><div><div><h3 class="title"><a name="section-melange-editor"></a>1.1.7.&nbsp;Melange editor</h3></div></div></div><p>Melange is a Language designing tool. Through a .melange file you can define a Language as an assembly of abstract syntaxes with operational semantics and also as a composition of Languages.
To do so, Melange is provided with a textual Languages editor.</p><div class="section" title="1.1.7.1.&nbsp;Syntax"><div class="titlepage"><div><div><h4 class="title"><a name="_syntax"></a>1.1.7.1.&nbsp;Syntax</h4></div></div></div><p>A .melange file start with</p><pre class="programlisting"><b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">package</b> your.language.namespace</pre><p>and contains a list of Language definitions starting with the keyword <span class="strong"><strong>language</strong></span>.</p><p title="a basic Language"><b>a basic Language.&nbsp;</b>
</p><pre class="programlisting"><b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">package</b> org.gemoc.sample.tfsm.xdsml

language Tfsm {

	<i xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-comment" style="color: darkgreen">/*
	 * Declare abstract syntax
	 */</i>
	syntax <i xmlns:fo="http://www.w3.org/1999/XSL/Format" style="color:blue" class="hl-string">"platform:/resource/org.gemoc.sample.tfsm.plaink3.model/model/tfsm.ecore"</i>

	<i xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-comment" style="color: darkgreen">/*
	 * Set name of the ModelType (ie: the type of this language)
	 */</i>
	exactType TfsmMT
}</pre><p title="a basic Language">
</p><p>A Language definition accept theses keywords:</p><div class="variablelist"><dl><dt><span class="term">syntax</span></dt><dd>  Link your language to your Domain Model. The path to your model follows the Eclipse platform URLs convention:
"platform:/resource/&lt;name of your EMF project&gt;/&lt;path to the .ecore file&gt;"</dd><dt><span class="term">with</span></dt><dd>Link the DSA project to your language. <span class="strong"><strong>with</strong></span> is followed by the name of a Java class. Melange support wildcard character for this operator. Typing in your language 'with some.package.name.*' will import all classes under this namespace.</dd><dt><span class="term">ecl</span></dt><dd>  Link your language to your ECL project. The intended format for the path to your .ecl file is:
"&lt;name of your ECL project&gt;/&lt;path to the .ecl file&gt;"</dd><dt><span class="term">inherits</span></dt><dd>The keyword <span class="strong"><strong>inherits</strong></span> allows you to define a Language as an extension of another. It means the abstract syntax and the semantics of the inherited Language are copied in your Language.</dd></dl></div><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p xmlns="">Your xDSML project need a dependency to your DSA project. Check the Require-Bundle section in the MANIFEST.MF if the Melange editor can&#8217;t see the used Aspect.</p></div><p title="a Language with semantic"><b>a Language with semantic.&nbsp;</b>
</p><pre class="programlisting"><b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">package</b> org.gemoc.sample.tfsm.xdsml

language Tfsm {

	<i xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-comment" style="color: darkgreen">/*
	 * Declare abstract syntax
	 */</i>
	syntax <i xmlns:fo="http://www.w3.org/1999/XSL/Format" style="color:blue" class="hl-string">"platform:/resource/org.gemoc.sample.tfsm.plaink3.model/model/tfsm.ecore"</i>

	<i xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-comment" style="color: darkgreen">/*
	 * Declare DSA
	 */</i>
	with org.gemoc.sample.tfsm.plaink3.dsa.TFSMAspect
	with org.gemoc.sample.tfsm.plaink3.dsa.TFSMVisitorAspect
	with org.gemoc.sample.tfsm.plaink3.dsa.FSMEventAspect
	with org.gemoc.sample.tfsm.plaink3.dsa.FSMClockAspect
	with org.gemoc.sample.tfsm.plaink3.dsa.FSMClockVisitorAspect
	with org.gemoc.sample.tfsm.plaink3.dsa.StateAspect
	with org.gemoc.sample.tfsm.plaink3.dsa.StateVisitorAspect
	with org.gemoc.sample.tfsm.plaink3.dsa.TransitionAspect
	with org.gemoc.sample.tfsm.plaink3.dsa.TransitionVisitorAspect
	with org.gemoc.sample.tfsm.plaink3.dsa.GuardVisitorAspect
	with org.gemoc.sample.tfsm.plaink3.dsa.TemporalGuardVisitorAspect
	with org.gemoc.sample.tfsm.plaink3.dsa.EventGuardVisitorAspect
	with org.gemoc.sample.tfsm.plaink3.dsa.TimedSystemAspect
	with org.gemoc.sample.tfsm.plaink3.dsa.TimedSystemVisitorAspect

	<i xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-comment" style="color: darkgreen">/*
	 * Set name of the ModelType (ie: the type of this language)
	 */</i>
	exactType TfsmMT
}</pre><p title="a Language with semantic">
</p></div><div class="section" title="1.1.7.2.&nbsp;Content assist"><div class="titlepage"><div><div><h4 class="title"><a name="_content_assist"></a>1.1.7.2.&nbsp;Content assist</h4></div></div></div><p>You can press Ctrl+Space to have a content assist in the Melange editor.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">In <span class="strong"><strong>language</strong></span> { &#8230;&#8203; }</p><div class="variablelist"><dl><dt><span class="term">&#8201;&#8212;&#8201;Create a Domain Model Project&#8201;&#8212;&#8201;</span></dt><dd>Create a new EMF project and upadte the <span class="strong"><strong>syntax</strong></span> of your language.</dd><dt><span class="term">&#8201;&#8212;&#8201;Create a DSA Project&#8201;&#8212;&#8201;</span></dt><dd>Create an new K3 project. Based on the <span class="strong"><strong>syntax</strong></span> of your language, it automatically create Aspects for each class of your Domain.
Theses Aspects are also added in your Language.</dd><dt><span class="term">&#8201;&#8212;&#8201;Import existing DSA project&#8201;&#8212;&#8201;</span></dt><dd>Automatically imports all Aspects from a K3 project</dd></dl></div></li></ul></div><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/language/assist_language.png" alt="Language content assist"></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">After <span class="strong"><strong>syntax</strong></span></li></ul></div><p>Display the list of available .ecore in your workspace and update <span class="strong"><strong>syntax</strong></span> with the path to the selection.</p><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/language/assist_syntax.png" alt="Syntax content assist"></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">After <span class="strong"><strong>with</strong></span></li></ul></div><p>Display the list of accessible Java classes from your project dependencies. K3 Aspects are displayed first.</p><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/language/assist_with.png" alt="With content assist"></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">After <span class="strong"><strong>ecl</strong></span></li></ul></div><p>Display the list of available .ecl in your workspace and update <span class="strong"><strong>ecl</strong></span> with the path to the selection.</p><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/language/assist_ecl.png" alt="Ecl content assist"></div></div></div><div class="section" title="1.1.7.3.&nbsp;Outline"><div class="titlepage"><div><div><h4 class="title"><a name="_outline"></a>1.1.7.3.&nbsp;Outline</h4></div></div></div><p>The outline view is available when you open a .melange file. It gives an overview of the file content.</p><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/language/outline.png" width="600" alt="Outline view"></div></div></div></div><div class="section" title="1.1.8.&nbsp;Plugin.xml"><div class="titlepage"><div><div><h3 class="title"><a name="_plugin_xml"></a>1.1.8.&nbsp;Plugin.xml</h3></div></div></div><p>The plugin.xml file is the link between the Languages and the Modelling Workbench.
It is mainly composed of two extension points:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">GEMOC extension point: <span class="strong"><strong>"org.gemoc.gemoc_language_workbench.sequential.xdsml"</strong></span></li><li class="listitem">Melange extension point: <span class="strong"><strong>"fr.inria.diverse.melange.language"</strong></span></li></ul></div><p>Gemoc extension points declare Languages availables in the Modelling Workbench. It also give the class able to load models for each Language.</p><p title="GEMOC language"><b>GEMOC language.&nbsp;</b>
</p><pre class="programlisting"><b class="hl-tag" style="color: #000096">&lt;extension</b> <span class="hl-attribute" style="color: #F5844C">point</span>=<span class="hl-value" style="color: #993300">"org.gemoc.gemoc_language_workbench.sequential.xdsml"</span><b class="hl-tag" style="color: #000096">&gt;</b>
<b class="hl-tag" style="color: #000096">&lt;XDSML_Definition</b>
<span class="hl-attribute" style="color: #F5844C">modelLoader_class</span>=<span class="hl-value" style="color: #993300">"org.gemoc.executionframework.extensions.sirius.modelloader.DefaultModelLoader"</span>
<span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"org.gemoc.sample.tfsm.xdsml.Tfsm"</span>
<span class="hl-attribute" style="color: #F5844C">xdsmlFilePath</span>=<span class="hl-value" style="color: #993300">"/org.gemoc.sample.tfsm.plaink3.xdsml/bin/org/gemoc/sample/tfsm/xdsml/Main.melange"</span><b class="hl-tag" style="color: #000096">
&gt;</b></pre><p title="GEMOC language">
</p><p>Melange extension points declare semantic of Languages as list of Domain model classes associated to their K3 Aspects.
It also gives the available entry points for the execution, which are the Aspects methods tagged with @Main.</p><p title="Melange Language"><b>Melange Language.&nbsp;</b>
</p><pre class="programlisting"><b class="hl-tag" style="color: #000096">&lt;extension</b> <span class="hl-attribute" style="color: #F5844C">point</span>=<span class="hl-value" style="color: #993300">"fr.inria.diverse.melange.language"</span><b class="hl-tag" style="color: #000096">&gt;</b>
<b class="hl-tag" style="color: #000096">&lt;language</b>
<span class="hl-attribute" style="color: #F5844C">aspects</span>=<span class="hl-value" style="color: #993300">"FSMClock:org.gemoc.sample.tfsm.plaink3.dsa.FSMClockAspect,org.gemoc.sample.tfsm.plaink3.dsa.FSMClockVisitorAspect;..."</span>
<span class="hl-attribute" style="color: #F5844C">entryPoints</span>=<span class="hl-value" style="color: #993300">"org.gemoc.sample.tfsm.plaink3.dsa.TimedSystemAspect.main(org.gemoc.sample.tfsm_plaink3.TimedSystem)"</span>
<span class="hl-attribute" style="color: #F5844C">exactType</span>=<span class="hl-value" style="color: #993300">"org.gemoc.sample.tfsm.xdsml.TfsmMT"</span>
<span class="hl-attribute" style="color: #F5844C">id</span>=<span class="hl-value" style="color: #993300">"org.gemoc.sample.tfsm.xdsml.Tfsm"</span>
<span class="hl-attribute" style="color: #F5844C">uri</span>=<span class="hl-value" style="color: #993300">"http://tfsmmt/"</span><b class="hl-tag" style="color: #000096">
&gt;</b></pre><p title="Melange Language">
</p><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p xmlns=""><span class="strong"><strong>&lt;XDSML_Definition name&gt;</strong></span> have to be equal to <span class="strong"><strong>&lt;language id&gt;</strong></span></p></div></div></div><div class="section" title="1.2.&nbsp;Language workbench dashboard"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="language-workbench-dashboard-section"></a>1.2.&nbsp;Language workbench dashboard</h2></div></div></div><div class="section" title="1.2.1.&nbsp;Open the dashboard"><div class="titlepage"><div><div><h3 class="title"><a name="_open_the_dashboard"></a>1.2.1.&nbsp;Open the dashboard</h3></div></div></div><p>The dashboard is available on .xdsml files from the Project Explorer or the Model Explorer views. See <a class="xref" href="#section-gemoc-language-project" title="1.1.&nbsp;xDSML Project">Section&nbsp;1.1, &#8220;xDSML Project&#8221;</a> to view how to create an xDSML project.</p><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/language/dashboard/open_dashboard_menu.png" width="400" alt="Dashboard menu"></div></div><p>When the <code class="literal">Gemoc Dashboard</code> menu is selected a new editor opens.</p><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/language/dashboard/dashboard_create_language.png" width="800" alt="Dashboard"></div></div><p>This editor is divided in three main parts:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">Overview part</li><li class="listitem">Sections part</li><li class="listitem">Projects view</li></ol></div><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/language/dashboard/dashboard_parts.png" width="800" alt="Dashboard parts"></div></div></div><div class="section" title="1.2.2.&nbsp;Overview"><div class="titlepage"><div><div><h3 class="title"><a name="_overview_2"></a>1.2.2.&nbsp;Overview</h3></div></div></div><p>The overview allows to access to the different parts of the <a class="xref" href="#gemoc-language-workbench" title="Part&nbsp;I.&nbsp;GEMOC Language Workbench">Part&nbsp;I, &#8220;GEMOC Language Workbench <span class="inlinemediaobject"><img src="./images/icons/IconeGemocLanguage_16.png" width="16" height="16" alt="IconeGemocLanguage_16"></span>&#8221;</a> process:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Create your language</li><li class="listitem">Make your language executable</li><li class="listitem">Define your runtime environment</li></ul></div><p>When you click on a step in the overview the related actions are automatically presented in the sections part.</p></div><div class="section" title="1.2.3.&nbsp;Sections"><div class="titlepage"><div><div><h3 class="title"><a name="_sections"></a>1.2.3.&nbsp;Sections</h3></div></div></div><p>This part provides sections which depends on the selected overview. The sections contain links that can be used to activate the different actions: create the domain model project, edit the DSA project, define a concrete syntax&#8230;&#8203;</p><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/language/dashboard/dashboard_create_language_sections.png" alt="Dashboard sections"></div></div><div class="section" title="1.2.3.1.&nbsp;Description"><div class="titlepage"><div><div><h4 class="title"><a name="_description"></a>1.2.3.1.&nbsp;Description</h4></div></div></div><p>Each section provides a help button which shows the description associated to the section and explains the process step and which actions are available.</p><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/language/dashboard/section_description.png" alt="Section description"></div></div></div><div class="section" title="1.2.3.2.&nbsp;Links"><div class="titlepage"><div><div><h4 class="title"><a name="_links"></a>1.2.3.2.&nbsp;Links</h4></div></div></div><p>When a link is selected, the corresponding action is launched: open a wizard, open the documentation&#8230;&#8203;</p><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/language/dashboard/link.png" alt="Link"></div></div><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/language/dashboard/link_open_wizard.png" width="800" alt="Open wizard"></div></div></div></div><div class="section" title="1.2.4.&nbsp;Projects view"><div class="titlepage"><div><div><h3 class="title"><a name="_projects_view"></a>1.2.4.&nbsp;Projects view</h3></div></div></div><p>On the right side of the dashboard, a tree viewer shows the projects associated to the current xDSML project.</p><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/language/dashboard/projects_viewer.png" width="400" alt="Projects viewer"></div></div><div class="section" title="1.2.4.1.&nbsp;Synchronize"><div class="titlepage"><div><div><h4 class="title"><a name="_synchronize"></a>1.2.4.1.&nbsp;Synchronize</h4></div></div></div><p>The section toolbar provides a <code class="literal">synchronize</code> action. This action filters the content of the tree viewer to keep only projects relevant according to the current process step represented by the section.</p><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/language/dashboard/synchronize.png" width="800" alt="Synchronize projects"></div></div></div><div class="section" title="1.2.4.2.&nbsp;Open existing projects"><div class="titlepage"><div><div><h4 class="title"><a name="_open_existing_projects"></a>1.2.4.2.&nbsp;Open existing projects</h4></div></div></div><p>By double-clicking on a project in the tree viewer, it is possible to open and update the corresponding file.</p><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/language/dashboard/edit_project.png" width="800" alt="Edit project"></div></div></div></div></div></div><div class="chapter" title="Chapter&nbsp;2.&nbsp;Create a language"><div class="titlepage"><div><div><h2 class="title"><a name="create-language-chapter"></a>Chapter&nbsp;2.&nbsp;Create a language</h2></div></div></div><div class="section" title="2.1.&nbsp;Defining a Domain Model Project"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="section-define-AS-project"></a>2.1.&nbsp;Defining a Domain Model Project</h2></div></div></div><div class="section" title="2.1.1.&nbsp;Purpose"><div class="titlepage"><div><div><h3 class="title"><a name="_purpose_2"></a>2.1.1.&nbsp;Purpose</h3></div></div></div><p>The Domain Model Project specifies the concepts of the domain at hand and the structural relations between the concepts.</p></div><div class="section" title="2.1.2.&nbsp;Creating the Domain Model Project"><div class="titlepage"><div><div><h3 class="title"><a name="_creating_the_domain_model_project"></a>2.1.2.&nbsp;Creating the Domain Model Project</h3></div></div></div><p>The GEMOC Studio relies on the Eclipse Modeling Framework for its Domain Model Projects. See <a class="link" href="http://eclipse.org/modeling/emf/" target="_top">the EMF website</a> for more information on how to create an EMF project in Eclipse. The Domain Model is materialized as an Ecore metamodel.</p><p>When your EMF Project is done, connect your xDSML Project to it by specifying in the <span class="emphasis"><em>.melange</em></span> file the path to your Ecore metamodel thanks the keyword <span class="strong"><strong>syntax</strong></span>.
See <a class="xref" href="#section-melange-editor" title="1.1.7.&nbsp;Melange editor">Section&nbsp;1.1.7, &#8220;Melange editor&#8221;</a> for more informations about Melange keywords and the content assist.</p></div><div class="section" title="2.1.3.&nbsp;Editing the Domain Model Project"><div class="titlepage"><div><div><h3 class="title"><a name="_editing_the_domain_model_project"></a>2.1.3.&nbsp;Editing the Domain Model Project</h3></div></div></div><p>If you wish to modify your Domain Model, do not forget to reload the associated genmodel and regenerate the EMF model code (and edit/editor code if you use them).</p></div></div><div class="section" title="2.2.&nbsp;Defining a Concrete Syntax"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="defining-a-concrete-syntax-section"></a>2.2.&nbsp;Defining a Concrete Syntax</h2></div></div></div><p>An xDSML can support different concrete syntaxes. Most EMF-based editors should work with GEMOC, however the GEMOC Studio provides additional support for some specific editors. Thus, we recommend using: an EMF arborescent editor, an Xtext editor, and/or a Sirius editor.</p><div class="section" title="2.2.1.&nbsp;Defining a Concrete Syntax with Xtext"><div class="titlepage"><div><div><h3 class="title"><a name="defining-a-concrete-syntax-with-xtext-section"></a>2.2.1.&nbsp;Defining a Concrete Syntax with Xtext</h3></div></div></div><p>See <a class="link" href="http://www.eclipse.org/Xtext/" target="_top">the Xtext website</a>.</p></div><div class="section" title="2.2.2.&nbsp;Defining a Concrete Syntax with Sirius"><div class="titlepage"><div><div><h3 class="title"><a name="defining-a-concrete-syntax-with-sirius-section"></a>2.2.2.&nbsp;Defining a Concrete Syntax with <a class="indexterm" name="d0e879"></a>Sirius</h3></div></div></div><p>If you want to create a graphical concrete syntax you can use Sirius. The <a class="link" href="http://www.eclipse.org/sirius/doc/" target="_top">Sirius documentation</a> provides information for <a class="link" href="http://www.eclipse.org/sirius/doc/specifier/Sirius%20Specifier%20Manual.html" target="_top">Sirius Specifier Manual</a>.</p></div><div class="section" title="2.2.3.&nbsp;Defining a Concrete Syntax with EMF"><div class="titlepage"><div><div><h3 class="title"><a name="defining-a-concrete-syntax-with-emf-section"></a>2.2.3.&nbsp;Defining a Concrete Syntax with <a class="indexterm" name="d0e894"></a>EMF</h3></div></div></div><p>EMF provides several services, as seen in <a class="xref" href="#section-define-AS-project" title="2.1.&nbsp;Defining a Domain Model Project">Section&nbsp;2.1, &#8220;Defining a Domain Model Project&#8221;</a> , EMf allwos to generate many artifacts. In addition to generate the java code for the metamodel and provide a reflective tree editor, EMF allows to generate a customizable Tree Editor.</p><p>On the .genmodel right click on the root element then <code class="literal">Generate Edit Code</code> and  <code class="literal">Generate Editor Code</code>.</p><p>Some very easy customizations can be done in the <code class="literal">.edit</code> project:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">change the icons for each of the metaclasses of yourmetamodel by replacing the  <code class="literal">.gif</code> files in the <code class="literal">icons</code> folder.</li><li class="listitem">change the displayed labels by providing a custom implementation of the getText methos in the <code class="literal">*ItemProvider.java</code> classes.</li></ul></div><p>Table <a class="xref" href="#customized-non-customized-tree-editor-table" title="Table&nbsp;2.1.&nbsp;Example of customization of icons on Timed Finite State Machine tree editor.">Table&nbsp;2.1, &#8220;Example of customization of icons on Timed Finite State Machine tree editor.&#8221;</a> illustrates the value of adding dedicated icons for a given domain.</p><div class="table"><a name="customized-non-customized-tree-editor-table"></a><div class="table-contents"><table summary="Example of customization of icons on Timed Finite State Machine tree editor." style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col><col></colgroup><tbody><tr><td style="border-right: 0.5pt solid ; " align="right" valign="top"><p><span class="inlinemediaobject"><img src="./Guide/images/workbench/language/editors/tfsm_non_customized_tree_editor.png" alt="Same editor without customization"></span></p></td><td style="" align="left" valign="top"><p><span class="inlinemediaobject"><img src="./Guide/images/workbench/language/editors/tfsm_customized_tree_editor.png" alt="Same editor without customization"></span></p></td></tr></tbody></table></div><p class="title"><b>Table&nbsp;2.1.&nbsp;Example of customization of icons on Timed Finite State Machine tree editor.</b></p></div><br class="table-break"><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p xmlns="">When modifing java code in the generated projects, do not forget to change the comment from <code class="literal">generated</code> to <code class="literal">generated NOT</code>, so the genmodel generator will keep your changes.</p></div><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2><p xmlns="">Providing custom icons and labels are not dedicated to the Tree Editor only. When possible, these elements will also be used to improve the Outline, the Debug Stack or the Variable views (see sections <a class="xref" href="#mw-executing-concurrent-model-debug-view-section" title="9.2.7.&nbsp;Debug View">Section&nbsp;9.2.7, &#8220;Debug View&#8221;</a>, <a class="xref" href="#mw-executing-concurrent-model-variable-view-section" title="9.2.8.&nbsp;Variable View">Section&nbsp;9.2.8, &#8220;Variable View&#8221;</a>, <a class="xref" href="#mw-executing-sequential-model-debug-view-section" title="9.1.6.&nbsp;Debug View">Section&nbsp;9.1.6, &#8220;Debug View&#8221;</a> and <a class="xref" href="#mw-executing-sequential-model-variable-view-section" title="9.1.7.&nbsp;Variable View">Section&nbsp;9.1.7, &#8220;Variable View&#8221;</a>).</p></div><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2><p xmlns="">More complex images can be obtained by implementing the <code class="literal">getImage</code> method in the <code class="literal">*ItemProvider.java</code> classes. For example by using overlay or switching the image depending on one of its attribute in order to represent more precisely the content of model element.</p></div></div></div></div><div class="chapter" title="Chapter&nbsp;3.&nbsp;Make a language executable"><div class="titlepage"><div><div><h2 class="title"><a name="make-language-executable-chapter"></a>Chapter&nbsp;3.&nbsp;Make a language executable</h2></div></div></div><p>The GEMOC Studio currently supports two major ways to make a language executable :</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">one will target a sequential engine</li><li class="listitem">the second will target a concurrent engine</li></ul></div><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p xmlns="">The underlying executionframework used by the GEMOC Studio can be extended to support other methodologies or engines.
However, this isn&#8217;t the scope of this document to explain how to use this framework and build an alternate or dedicated engine.</p></div><div class="section" title="3.1.&nbsp;Make a sequential executable language"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="make-sequential-language-executable-section"></a>3.1.&nbsp;Make a sequential executable language</h2></div></div></div><div class="section" title="3.1.1.&nbsp;Defining the Domain-Specific Actions (DSA) Project for Sequential language"><div class="titlepage"><div><div><h3 class="title"><a name="section-define-sequential-dsa-project"></a>3.1.1.&nbsp;Defining the Domain-Specific Actions (DSA) Project for Sequential language</h3></div></div></div><div class="section" title="3.1.1.1.&nbsp;Purpose"><div class="titlepage"><div><div><h4 class="title"><a name="_purpose_3"></a>3.1.1.1.&nbsp;Purpose</h4></div></div></div><p>The Domain-Specific Actions define the runtime state (<span class="strong"><strong>Execution Data</strong></span>) of the model and the operations (<span class="strong"><strong>Execution Functions</strong></span>) which modify the runtime state of the model.
In the case of the sequential engine, this project will also define the (<span class="strong"><strong>control flow</strong></span>) between the operations.</p></div><div class="section" title="3.1.1.2.&nbsp;Creating the DSA Project"><div class="titlepage"><div><div><h4 class="title"><a name="_creating_the_dsa_project"></a>3.1.1.2.&nbsp;Creating the DSA Project</h4></div></div></div><p>In the GEMOC Studio, the DSA are implemented using <a class="link" href="https://github.com/diverse-project/k3/wiki" target="_top">Kermeta 3</a>.
To create a new DSA Project, in the main menu of the GEMOC Studio, go to: <span class="emphasis"><em>File &gt; New &gt; Project&#8230;&#8203; &gt; K3 Project</em></span>. In the wizard, create it as a Plug-in with EMF using the template of your choice.
Then, connect the xDSML Project to the DSA by referencing them in the <span class="emphasis"><em>.melange</em></span> file thanks to the keyword <span class="strong"><strong>with</strong></span>.
See <a class="xref" href="#section-melange-editor" title="1.1.7.&nbsp;Melange editor">Section&nbsp;1.1.7, &#8220;Melange editor&#8221;</a> for more informations about Melange keywords and the content assist.</p></div><div class="section" title="3.1.1.3.&nbsp;Editing the DSA Project"><div class="titlepage"><div><div><h4 class="title"><a name="_editing_the_dsa_project"></a>3.1.1.3.&nbsp;Editing the DSA Project</h4></div></div></div><p>Kermeta 3 is based on <a class="link" href="http://www.eclipse.org/xtend/index.html" target="_top">xTend</a>. The Execution Data and Execution Functions are defined through aspects weaved onto the metaclasses of the Domain Model.</p><div class="section" title="3.1.1.3.1.&nbsp;Defining the Execution Data"><div class="titlepage"><div><div><h5 class="title"><a name="_defining_the_execution_data"></a>3.1.1.3.1.&nbsp;Defining the Execution Data</h5></div></div></div><p>The Execution Data consist in attributes and references added to existing concepts (metaclasses) of the Abstract Syntax. They may also include new metaclasses which define the type of these new attributes and references.</p></div><div class="section" title="3.1.1.3.2.&nbsp;Defining the Execution Functions"><div class="titlepage"><div><div><h5 class="title"><a name="_defining_the_execution_functions"></a>3.1.1.3.2.&nbsp;Defining the Execution Functions</h5></div></div></div><p>The Execution Functions define how the Execution Data evolve during the execution of the model. Execution Functions can be implemented by defining the body of a method.</p><p>These methods must have the <span class="emphasis"><em>@Step</em></span> annotation.</p><p>Whenever a method with an <span class="emphasis"><em>@Step</em></span> annotation returns, the changes in the model will be applied (via a transaction) to the resource. This means that the changes will be visible from an animator.</p><p>The technology used be K3 with its <span class="emphasis"><em>@Step</em></span> annotation allows nested call so that changes in the model will be applied when entering and leaving methods having this annotations.</p><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p xmlns="">Any change to the model must be done by operations with the <span class="emphasis"><em>@Step</em></span> annotation or that are called by an operation that have the annotation.</p></div></div><div class="section" title="3.1.1.3.3.&nbsp;Defining the control flow"><div class="titlepage"><div><div><h5 class="title"><a name="_defining_the_control_flow"></a>3.1.1.3.3.&nbsp;Defining the control flow</h5></div></div></div><p>Defining the control flow between operation for the sequential engine is equivalent to write a Visitor where operations can call other operations.
This is quite straightforward with K3 <span class="emphasis"><em>@Aspect</em></span> annotation since the operations are directly weaved on the metaclasses and applied on the target model elements.</p></div><div class="section" title="3.1.1.3.4.&nbsp;Defining the entry point"><div class="titlepage"><div><div><h5 class="title"><a name="_defining_the_entry_point"></a>3.1.1.3.4.&nbsp;Defining the entry point</h5></div></div></div><p>The sequential  engines will use as entry point methods having an <span class="emphasis"><em>@Main</em></span> annotation.</p><p>This annotation must be placed on operations applicable to the root model element.</p></div></div></div></div><div class="section" title="3.2.&nbsp;Make a concurrent executable language"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="make-concurrent-language-executable-section"></a>3.2.&nbsp;Make a concurrent executable language</h2></div></div></div><div class="section" title="3.2.1.&nbsp;Defining the Domain-Specific Actions (DSA) Project for concurrent language"><div class="titlepage"><div><div><h3 class="title"><a name="section-define-dsa-project"></a>3.2.1.&nbsp;Defining the Domain-Specific Actions (DSA) Project for concurrent language</h3></div></div></div><div class="section" title="3.2.1.1.&nbsp;Purpose"><div class="titlepage"><div><div><h4 class="title"><a name="_purpose_4"></a>3.2.1.1.&nbsp;Purpose</h4></div></div></div><p>The Domain-Specific Actions define the runtime state (<span class="strong"><strong>Execution Data</strong></span>) of the model and the operations (<span class="strong"><strong>Execution Functions</strong></span>) which modify the runtime state of the model.</p></div><div class="section" title="3.2.1.2.&nbsp;Creating the DSA Project"><div class="titlepage"><div><div><h4 class="title"><a name="_creating_the_dsa_project_2"></a>3.2.1.2.&nbsp;Creating the DSA Project</h4></div></div></div><p>In the GEMOC Studio, the DSA are implemented using <a class="link" href="https://github.com/diverse-project/k3/wiki" target="_top">Kermeta 3</a>.
To create a new DSA Project, in the main menu of the GEMOC Studio, go to: <span class="emphasis"><em>File &gt; New &gt; Project&#8230;&#8203; &gt; K3 Project</em></span>. In the wizard, create it as a Plug-in with EMF using the template of your choice.
Then, connect the xDSML Project to the DSA by referencing them in the <span class="emphasis"><em>.melange</em></span> file thanks to the keyword <span class="strong"><strong>with</strong></span>.
See <a class="xref" href="#section-melange-editor" title="1.1.7.&nbsp;Melange editor">Section&nbsp;1.1.7, &#8220;Melange editor&#8221;</a> for more informations about Melange keywords and the content assist.</p></div><div class="section" title="3.2.1.3.&nbsp;Editing the DSA Project"><div class="titlepage"><div><div><h4 class="title"><a name="_editing_the_dsa_project_2"></a>3.2.1.3.&nbsp;Editing the DSA Project</h4></div></div></div><p>Kermeta 3 is based on <a class="link" href="http://www.eclipse.org/xtend/index.html" target="_top">xTend</a>. The Execution Data and Execution Functions are defined through aspects weaved onto the metaclasses of the Domain Model.</p><div class="section" title="3.2.1.3.1.&nbsp;Defining the Execution Data"><div class="titlepage"><div><div><h5 class="title"><a name="_defining_the_execution_data_2"></a>3.2.1.3.1.&nbsp;Defining the Execution Data</h5></div></div></div><p>The Execution Data consist in attributes and references added to existing concepts (metaclasses) of the Abstract Syntax. They may also include new metaclasses which define the type of these new attributes and references.</p></div><div class="section" title="3.2.1.3.2.&nbsp;Defining the Execution Functions"><div class="titlepage"><div><div><h5 class="title"><a name="_defining_the_execution_functions_2"></a>3.2.1.3.2.&nbsp;Defining the Execution Functions</h5></div></div></div><p>The Execution Functions define how the Execution Data evolve during the execution of the model. Execution Functions can be implemented by defining the body of a method.</p><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p xmlns="">For now, Execution Functions are considered as <span class="strong"><strong>atomic, instantaneous and blocking</strong></span>. This means that any long computation will block the rest of the simulation, and concurrent Execution Functions are not executed in concurrence yet.</p></div><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Warning</h2><p xmlns="">For technical reasons, the Domain Model (Ecore metamodel) must specify the signature of the Execution Functions as EOperations.</p></div></div></div><div class="section" title="3.2.1.4.&nbsp;Testing the Domain-Specific Actions"><div class="titlepage"><div><div><h4 class="title"><a name="_testing_the_domain_specific_actions"></a>3.2.1.4.&nbsp;Testing the Domain-Specific Actions</h4></div></div></div><p>It is possible to test the DSA (in particular the Execution Functions) by simply writing a simple program with a <span class="emphasis"><em>main</em></span> function (using Java or Xtend/Kermeta3). Create or load a model conform to your Domain Model and call the Execution Functions in the right order to verify there are no runtime exceptions or domain issues.</p></div></div><div class="section" title="3.2.2.&nbsp;Defining a Model of Concurrency and Communication (MoCC)"><div class="titlepage"><div><div><h3 class="title"><a name="section-defining-a-mocc"></a>3.2.2.&nbsp;Defining a Model of Concurrency and Communication (MoCC)</h3></div></div></div><div class="section" title="3.2.2.1.&nbsp;Introduction"><div class="titlepage"><div><div><h4 class="title"><a name="_introduction_2"></a>3.2.2.1.&nbsp;Introduction</h4></div></div></div><p>In the GEMOC approach, the executability characterization for a given language is done through several steps that include: the description of the actions associated with the language concepts (i.e. the Executions Functions); the description of the data / attributes that capture the state of a model or its evolution (the Execution Data); the description of the underlying language model of concurrency (the MoCC constraints).</p><p>A Model of Concurrency and Communication (MoCC) represents the concurrency, synchronizations and the possibly timed causalities in the behavioral semantics of a language. It must represent the acceptable schedules of the atomic actions of the language, which represent both computation and communication.</p><p>In this part of the guide, we assume that achieving the first two points has already been done based on <a class="xref" href="#section-define-dsa-project" title="3.2.1.&nbsp;Defining the Domain-Specific Actions (DSA) Project for concurrent language">Section&nbsp;3.2.1, &#8220;Defining the Domain-Specific Actions (DSA) Project for concurrent language&#8221;</a>. In this part, we will mainly focus on the steps for the description and integration fo the model of concurrency in the language, once the <span class="emphasis"><em>EF</em></span> and <span class="emphasis"><em>ED</em></span> have been already taken into account and integrated to the language.
 The execution engine of the <span class="emphasis"><em>GEMOC Studio</em></span> is based on an event-based semantics, which means that events are used to activate the EF actions that can change the state of a model.</p><p>To describe and integrate the model of concurrency, we must 1) have a description of the useful events allowing activation of the <span class="emphasis"><em>EF</em></span>, 2) a mechanism to express the <span class="emphasis"><em>MoCC</em></span> constraints that apply on these events.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">1) is realized using the <span class="strong"><strong><a class="indexterm" name="d0e1206"></a>ECL</strong></span> language whose description and use is provided below</li><li class="listitem">2) Is achieved through the <span class="strong"><strong><a class="indexterm" name="d0e1215"></a>MoCCML</strong></span> language whose description and use is described below</li></ul></div></div><div class="section" title="3.2.2.2.&nbsp;The ECL approach to identify DSE and constraints"><div class="titlepage"><div><div><h4 class="title"><a name="_the_ecl_approach_to_identify_dse_and_constraints"></a>3.2.2.2.&nbsp;The ECL approach to identify DSE and constraints</h4></div></div></div><div class="section" title="3.2.2.2.1.&nbsp;Overview of ECL"><div class="titlepage"><div><div><h5 class="title"><a name="_overview_of_ecl"></a>3.2.2.2.1.&nbsp;Overview of ECL</h5></div></div></div><p>To enable the automatic generation of the execution model of a given DSML model, the MoCC is weaved into the context of specific concepts from the abstract syntax of the DSML. This contextualization is defined by a mapping between the elements of the abstract syntax and the constraints of the MoCC (defined using MoCCML). Examples of mapping are shown below.</p><p>The mapping defined in MoCCML is based on the notion of event, inspired by ECL <a class="link" href="https://hal.inria.fr/hal-00721169/" target="_top">ECL Description</a>, an extension of the Object Constraint Language OCL.
The separation of the mapping from the MoCC makes the MoCC independent of the DSML so that it can be reused.</p></div><div class="section" title="3.2.2.2.2.&nbsp;Creation of an ECL model GEMOC Studio"><div class="titlepage"><div><div><h5 class="title"><a name="_creation_of_an_ecl_model_gemoc_studio"></a>3.2.2.2.2.&nbsp;Creation of an ECL model GEMOC Studio</h5></div></div></div><p><span class="emphasis"><em>ECL</em></span> models are created via files with the extension <span class="emphasis"><em>.ecl. The _xDSML</em></span> environment enables the creation and / or opening of new <span class="emphasis"><em>ECL</em></span> project <a class="xref" href="#section-gemoc-language-project" title="1.1.&nbsp;xDSML Project">Section&nbsp;1.1, &#8220;xDSML Project&#8221;</a>.</p></div><div class="section" title="3.2.2.2.3.&nbsp;How to use ECL"><div class="titlepage"><div><div><h5 class="title"><a name="_how_to_use_ecl"></a>3.2.2.2.3.&nbsp;How to use ECL</h5></div></div></div><p>In this section, we show an examplified way to use ECL. The required steps to go from a given language to the integration of its concurrency model are presented.</p><div class="section" title="3.2.2.2.3.1.&nbsp;Import Language"><div class="titlepage"><div><div><h6 class="title"><a name="_import_language"></a>3.2.2.2.3.1.&nbsp;Import Language</h6></div></div></div><p>As shown in Listing <a class="xref" href="#eclimport">???</a>, an <span class="emphasis"><em>ECL</em></span> file imports the extended language that contains the language metaclasses, the <span class="emphasis"><em>EF</em></span> and <span class="emphasis"><em>ED</em></span>. The <span class="emphasis"><em>ECL</em></span> language defines the notion of <span class="strong"><strong><a class="indexterm" name="d0e1273"></a>import</strong></span> to import the extended metamodel (see import of <span class="emphasis"><em>dplExtended.ecore</em></span> in Listing <a class="xref" href="#eclimport">???</a>).
The import is used to load all the concepts of language that are used to clarify: the <span class="emphasis"><em>EF</em></span> activation events; static properties numeric or Boolean values, and constraints associated with concepts.</p><a name="eclimport"></a><pre class="programlisting"><b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">import</b> <i xmlns:fo="http://www.w3.org/1999/XSL/Format" style="color:blue" class="hl-string">"platform:/resource/org.gemoc.model.dpl.dplextended/model/dplExtended.ecore"</i></pre></div><div class="section" title="3.2.2.2.3.2.&nbsp;Define Event-Action Creation"><div class="titlepage"><div><div><h6 class="title"><a name="_define_event_action_creation"></a>3.2.2.2.3.2.&nbsp;Define Event-Action Creation</h6></div></div></div><p>The <span class="emphasis"><em>ECL</em></span> model gives access to the concept of the language via the declaration of their package container. In the illustration below, the package container is <span class="emphasis"><em>dplextended</em></span>.  Every metaclass/ concept is declared as a <span class="emphasis"><em>context</em></span>. In a given context, we define the mapping between events and actions and the <span class="emphasis"><em>MoCC</em></span> constraints of the context.
The illustration shows the definition and mapping of events associated with the concept of <span class="emphasis"><em>Philosopher</em></span>. For the context <span class="emphasis"><em>Philosopher</em></span>, the events are used to enable its actions ie <span class="emphasis"><em>eat()</em></span> and <span class="emphasis"><em>think()</em></span> actions.
<span class="emphasis"><em>ECL</em></span> syntax for declaring the mapping Event / Action is as follows:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">Define the type of the event: def: think: Event</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">When the event activate actions: the action associated to the event is accessed through the context via <span class="emphasis"><em>self.actionName()</em></span> (e.g. in Listing <a class="xref" href="#eclContextEventDeclaration">???</a> <span class="emphasis"><em>Philosopher</em></span> <span class="emphasis"><em>self.think()</em></span> and <span class="emphasis"><em>self.eat()</em></span>)</li><li class="listitem">When the event does not trigger an action i.e. used as internal control events : Its declaration does not mention any related action (e.g. <span class="emphasis"><em>getrightFork</em></span>, <span class="emphasis"><em>getleftFork</em></span>, <span class="emphasis"><em>putrightFork</em></span>, <span class="emphasis"><em>putleftFork</em></span>)</li></ul></div></li><li class="listitem">Finally, we can define local attributes to capture the value of static properties that can be for instance integers or booleans (e.g. <span class="emphasis"><em>def: eatcycleMax: Integer = self.eatCycles</em></span>)
The above steps specify the declaration of events and attributes that are used to control the actions for each language concept. We can focus on the description of the model of concurrency defined using <span class="emphasis"><em>MoCCML</em></span>.</li></ul></div><a name="eclContextEventDeclaration"></a><pre class="programlisting">package dplextended
	context Philosopher
		<b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">def</b>: think : Event = self.think()
		<b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">def</b>: getrightFork : Event = self
		<b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">def</b>: getleftFork : Event = self
		<b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">def</b>: eat : Event = self.eat()
		<b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">def</b>: putrightFork : Event = self
		<b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">def</b>: putleftFork : Event = self
		<b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">def</b>: thinkcycleMax : Integer = self.thinkCycles
		<b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">def</b>: eatcycleMax : Integer = self.eatCycles
endpackage</pre><p>The latter phase is done in two steps: the implementation of the execution control constraints with <span class="emphasis"><em>MoCCML</em></span>; the use of these constraints in the context definition to specify how the events should be scheduled (determine their causalities).</p></div></div></div><div class="section" title="3.2.2.3.&nbsp;The MoCCML approach to define constraints"><div class="titlepage"><div><div><h4 class="title"><a name="_the_moccml_approach_to_define_constraints"></a>3.2.2.3.&nbsp;The MoCCML approach to define constraints</h4></div></div></div><p>This section presents the MoCCML editor that supports the edition of <span class="emphasis"><em>MoCC_s. To keep the de&#64257;ned models formal and to provide a solver for the _MoCC</em></span>, an operational semantics and a solver based on this formal semantics were defined. For more information on the operational semantics the reader can refer to <a class="link" href="https://hal.inria.fr/hal-01060601v1" target="_top">MoCCML Operational Semantics</a>.</p><div class="section" title="3.2.2.3.1.&nbsp;Creating a MoCCML model in the GEMOC Studio"><div class="titlepage"><div><div><h5 class="title"><a name="_creating_a_moccml_model_in_the_gemoc_studio"></a>3.2.2.3.1.&nbsp;Creating a MoCCML model in the GEMOC Studio</h5></div></div></div><p>The <span class="emphasis"><em>MoCCML</em></span> models are created via files with an <span class="emphasis"><em>.moccml extension. They are also natively created from the dashboard _xDSML</em></span>, where you can create a <span class="emphasis"><em>MoCC</em></span> project. The project defines an empty model _.moccml with just the name of the library to be created. For a graphical representation of the models, you have to right-click on the file (New Representation File) and run next until the creation of the _.aird representation. This procedure is described in the Sirius tutorial <a class="link" href="http://www.eclipse.org/sirius/doc/" target="_top">Sirius documentation</a> and <a class="link" href="http://www.eclipse.org/sirius/doc/specifier/Sirius%20Specifier%20Manual.html" target="_top">Sirius Specifier Manual</a> to create new diagrams starting from a model whose graphical editor was made from Sirius.</p></div><div class="section" title="3.2.2.3.2.&nbsp;Overview de MoCCML"><div class="titlepage"><div><div><h5 class="title"><a name="_overview_de_moccml"></a>3.2.2.3.2.&nbsp;Overview de MoCCML</h5></div></div></div><p><span class="emphasis"><em>MoCCML</em></span> is a declarative meta-language specifying constraints between the events of a <span class="emphasis"><em>MoCC</em></span>. At any moment during a run, an event that does not violate the constraints can occur. The constraints are grouped in libraries that specify <span class="emphasis"><em>MoCC</em></span> speci&#64257;c constraints. The constraints are eventually instantiated to de&#64257;ne the execution model of a speci&#64257;c model. The execution model is a symbolic representation of all the acceptable schedules for a particular model.
<span class="emphasis"><em>MoCCML</em></span> is based on the principle of defining constraints on events. There are two categories of constraint de&#64257;nitions: the Declarative De&#64257;nitions and the Constraint Automata De&#64257;nitions. Each constraint definition has an associated ConstraintDeclaration that defines the prototype of the constraint.</p></div><div class="section" title="3.2.2.3.3.&nbsp;Presentation of the MoCCML Editor"><div class="titlepage"><div><div><h5 class="title"><a name="_presentation_of_the_moccml_editor"></a>3.2.2.3.3.&nbsp;Presentation of the MoCCML Editor</h5></div></div></div><p>The concrete syntax of <span class="emphasis"><em>MoCCML</em></span> is implemented as a combination of graphical and textual syntaxes to provide the most appropriate representation for each part of a <span class="emphasis"><em>MoCC</em></span> model library.
The graphical syntax can be divided into two levels of representation: one for the definition of the <span class="emphasis"><em>MoCC</em></span> libraries (the declaration and definition of the automata constraints); another for the implementation of the constraints in the form of automata. For instance:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">The first level of representation contains elements as illustrated in Figure <a class="xref" href="#figure-glw-screenshot-of-moccmlLevelFirst" title="Figure&nbsp;3.1.&nbsp;Screenshot of the First graphical level of Edition in MoCCML.">Figure&nbsp;3.1, &#8220;Screenshot of the First graphical level of Edition in MoCCML.&#8221;</a>. The represented model imports two <span class="emphasis"><em>CCSL</em></span> libraries (<span class="emphasis"><em>kernel.ccslLib</em></span> and <span class="emphasis"><em>CCSL.ccslLib</em></span>). The imported libraries provide predefined types that are used to define formal parameters such as DiscreteClocks, Integers, etc. Each defined Relation Declaration is associated to a Automata constraint definition. The association is done through the <span class="emphasis"><em>Set Declaration Relation</em></span> link.</li><li class="listitem">The second level of graphical representation defines the graphical syntax for the modeling of the Automata constraints.</li><li class="listitem">The overall <span class="emphasis"><em>MoCC</em></span> models are serialized to a textual syntax, which means that the graphical models are transformed into their equivalent representation in a textual formal. <span class="strong"><strong><a class="indexterm" name="d0e1462"></a>Both representations (graphical or textual) can be used for edition of models</strong></span>.
Moreover, we define the integration of an embedded textual editor in the graphical representation to focus on specific parts of the <span class="emphasis"><em>MoCC</em></span> model that are better edited using a textual syntax (eg trigger, the guards and the actions on transitions). Embedded editors are called by double-clic, and are placed on specific graphical edition elements (Relation Declaration, Relation Definition, DeclarationBlock, Transition).</li></ul></div></div><div class="section" title="3.2.2.3.4.&nbsp;Example-Driven use of MoCCML"><div class="titlepage"><div><div><h5 class="title"><a name="_example_driven_use_of_moccml"></a>3.2.2.3.4.&nbsp;Example-Driven use of MoCCML</h5></div></div></div><p>NB: <span class="emphasis"><em>MoCCML</em></span> has multiple pallets to instantiate a library. The pallets are located on the right branch of the editor. The creation of new library is preceded by an import of the native <span class="emphasis"><em>CCSL</em></span> libraries (<span class="emphasis"><em>kernel.ccslLib</em></span>, <span class="emphasis"><em>CCSL.ccslLib</em></span>) which provide primitives for the description of events and variables that are handled by the constraints in the <span class="emphasis"><em>MoCC</em></span> library. We use the third pallet in Figure <a class="xref" href="#figure-glw-screenshot-of-moccmlLevelFirst" title="Figure&nbsp;3.1.&nbsp;Screenshot of the First graphical level of Edition in MoCCML.">Figure&nbsp;3.1, &#8220;Screenshot of the First graphical level of Edition in MoCCML.&#8221;</a>to import such <span class="emphasis"><em>CCSL</em></span> libraries.</p><div class="figure"><a name="figure-glw-screenshot-of-moccmlLevelFirst"></a><div class="figure-contents"><div class="mediaobject"><img src="./Guide/images/eclmoccml/moccmlLevFirst.png" width="800" alt="Screenshot of MoCCML First Level of Edition"></div></div><p class="title"><b>Figure&nbsp;3.1.&nbsp;Screenshot of the First graphical level of Edition in MoCCML.</b></p></div><br class="figure-break"><div class="section" title="3.2.2.3.4.1.&nbsp;Creating MoCC Libraries"><div class="titlepage"><div><div><h6 class="title"><a name="_creating_mocc_libraries"></a>3.2.2.3.4.1.&nbsp;Creating MoCC Libraries</h6></div></div></div><p>As shown in Figure <a class="xref" href="#figure-glw-screenshot-of-moccmlLevelFirst" title="Figure&nbsp;3.1.&nbsp;Screenshot of the First graphical level of Edition in MoCCML.">Figure&nbsp;3.1, &#8220;Screenshot of the First graphical level of Edition in MoCCML.&#8221;</a>, creating new <span class="emphasis"><em>MoCC</em></span> libraries can be done by using the first two pallets on the right (Library Edition, New Library &amp; Required Feature). In these pallets, the element (Library New Library + New Relationship and Relationship) can be used for the instantiation of a new <span class="emphasis"><em>MoCC</em></span> library. The two are distinguished by the fact that the last mentioned will create a new library of <span class="emphasis"><em>MoCC</em></span>, while adding a default Relation Declaration. In Figure <a class="xref" href="#figure-glw-screenshot-of-moccmlLevelFirst" title="Figure&nbsp;3.1.&nbsp;Screenshot of the First graphical level of Edition in MoCCML.">Figure&nbsp;3.1, &#8220;Screenshot of the First graphical level of Edition in MoCCML.&#8221;</a> we create a new Library called <span class="emphasis"><em>RendezVous_Relations</em></span>.</p></div><div class="section" title="3.2.2.3.4.2.&nbsp;Declaring the constrained events"><div class="titlepage"><div><div><h6 class="title"><a name="_declaring_the_constrained_events"></a>3.2.2.3.4.2.&nbsp;Declaring the constrained events</h6></div></div></div><p>In a <span class="emphasis"><em>MoCC</em></span> library, we define constraints and their declarations. The declarations identify events and parameters to be considered in the implementation of the constraint. In the editor, the declaration is made using the two above mentioned pallets, and using the elements in the pallets i.e.: <span class="emphasis"><em>New Relationship Declaration</em></span> and <span class="emphasis"><em>New Relationship Declaration +</em></span>. The two differ in that the latter creates a Relation Declaration with a default formal parameter declaration. In the Figure <a class="xref" href="#figure-glw-screenshot-of-moccmlLevelFirst" title="Figure&nbsp;3.1.&nbsp;Screenshot of the First graphical level of Edition in MoCCML.">Figure&nbsp;3.1, &#8220;Screenshot of the First graphical level of Edition in MoCCML.&#8221;</a>, we create two relation declarations (<span class="emphasis"><em>ForkConstraintDecl</em></span> and <span class="emphasis"><em>PhilosopherConstraintDecl</em></span>). Listing <a class="xref" href="#philoDeclarationTextual">???</a> also shows the equivalent textual code generated for the <span class="emphasis"><em>PhilosopherConstraintDecl</em></span>.</p><a name="philoDeclarationTextual"></a><pre class="programlisting">RelationDeclaration PhilosopherConstraintDcl(
			pthink : clock,
			grfork : clock,
			glfork : clock,
			peat : clock,
			prfork : clock,
			plfork : clock,
			thinkCyc:int,
			eatCyc:int
		)</pre></div><div class="section" title="3.2.2.3.4.3.&nbsp;Defining the constraints"><div class="titlepage"><div><div><h6 class="title"><a name="_defining_the_constraints"></a>3.2.2.3.4.3.&nbsp;Defining the constraints</h6></div></div></div><p>The implementation of constraints can be specified textually or graphically. Graphically, the first two pallets are used to create new definitions of constraints associated with their declarations. Constraint definitions is done using the menu items (<span class="emphasis"><em>New Automata Definition</em></span> and <span class="emphasis"><em>New Automata Definition +</em></span>). In Figure <a class="xref" href="#figure-glw-screenshot-of-moccmlLevelFirst" title="Figure&nbsp;3.1.&nbsp;Screenshot of the First graphical level of Edition in MoCCML.">Figure&nbsp;3.1, &#8220;Screenshot of the First graphical level of Edition in MoCCML.&#8221;</a>, the following constraints are specified: <span class="emphasis"><em>ForkConstraintDef</em></span>, <span class="emphasis"><em>PhilosopherConstraintDef</em></span>). At this stage, we toured the main notions that can be set on the first level of graphical description with <span class="emphasis"><em>MoCCML</em></span>.
To navigate in the second level of graphical description (Constraint implementation), one should right-click on a specified constraint definition using (Open Diagram / New Diagram). Open Diagram will navigate to an existing diagram; New Diagram will create a new diagram to edit.
The <span class="emphasis"><em>MoCCML</em></span> Editor offers 3 different pallets for: editing the automata, defining the local variables and editing the transitons (ie adding <span class="emphasis"><em>Trigger</em></span>, <span class="emphasis"><em>Guard</em></span>, <span class="emphasis"><em>Actions</em></span>). Figure <a class="xref" href="#figure-glw-screenshot-of-moccmlLevelSecond" title="Figure&nbsp;3.2.&nbsp;Screenshot of the Second graphical level of Edition in MoCCML (Constraint Implementation).">Figure&nbsp;3.2, &#8220;Screenshot of the Second graphical level of Edition in MoCCML (Constraint Implementation).&#8221;</a> shows a simple example with two control states. An additional Layer displays the details of the transitions (<span class="emphasis"><em>Trigger</em></span>, <span class="emphasis"><em>Guard</em></span>, <span class="emphasis"><em>Action</em></span>) as shown in Figure <a class="xref" href="#figure-glw-screenshot-of-moccmlLevelSecond" title="Figure&nbsp;3.2.&nbsp;Screenshot of the Second graphical level of Edition in MoCCML (Constraint Implementation).">Figure&nbsp;3.2, &#8220;Screenshot of the Second graphical level of Edition in MoCCML (Constraint Implementation).&#8221;</a>, see yellow boxes.
Besides, editing <span class="emphasis"><em>DeclarationBlock</em></span> boxes and <span class="emphasis"><em>details in Transitions</em></span> can be done using embedded text editor by double-clicking on the related boxes. We can then edit the properties of transitions and local variables textually.</p><p>One can define the desired set of constraints on the concepts of language using the <span class="emphasis"><em>MoCCML</em></span> editor. To see the text code corresponding to the serialization of the edited <span class="emphasis"><em>MoCC</em></span> models, the user can open the _.moccml file. Editing can also be directly made from this file and all the changes will be reflected in the graphical editor.
The use of constraints is shown in the next section.</p><div class="figure"><a name="figure-glw-screenshot-of-moccmlLevelSecond"></a><div class="figure-contents"><div class="mediaobject"><img src="./Guide/images/eclmoccml/moccmlLevSecond.png" width="800" alt="Screenshot of MoCCML Second Level of Edition"></div></div><p class="title"><b>Figure&nbsp;3.2.&nbsp;Screenshot of the Second graphical level of Edition in MoCCML (Constraint Implementation).</b></p></div><br class="figure-break"></div><div class="section" title="3.2.2.3.4.4.&nbsp;Using the constraints on the ECL"><div class="titlepage"><div><div><h6 class="title"><a name="_using_the_constraints_on_the_ecl"></a>3.2.2.3.4.4.&nbsp;Using the constraints on the ECL</h6></div></div></div><p>The <span class="emphasis"><em>MoCC</em></span> constraints models can be used in the <span class="emphasis"><em>ECL</em></span> file on concepts which they are attached. To declare the constraint on the events, we re-declare the context of the concept then define an invariant <span class="emphasis"><em>inv</em></span>, see Listing <a class="xref" href="#eclContextConstraintUse">???</a>. In this listing we also import the <span class="emphasis"><em>MoCCML</em></span> library that was defined previously (i.e. rendez_vous.moccml)
For instance, the invariant related to the context Philosopher (<span class="emphasis"><em>PhilosopherConstraintInv</em></span>) uses the <span class="emphasis"><em>PhilosopherConstraintDef</em></span> via its <span class="emphasis"><em>PhilosopherConstraintDcl</em></span> declaration? It takes as input the set of control events and static variables used to calculate the causality between events.</p><a name="eclContextConstraintUse"></a><pre class="programlisting">ECLimport <i xmlns:fo="http://www.w3.org/1999/XSL/Format" style="color:blue" class="hl-string">"platform:/resource/org.gemoc.dpl.xdsml.mocc.model/mocc/rendez_vous.moccml"</i>
ECLimport <i xmlns:fo="http://www.w3.org/1999/XSL/Format" style="color:blue" class="hl-string">"platform:/plugin/fr.inria.aoste.timesquare.ccslkernel.model/ccsllibrary/kernel.ccslLib"</i>
ECLimport <i xmlns:fo="http://www.w3.org/1999/XSL/Format" style="color:blue" class="hl-string">"platform:/plugin/fr.inria.aoste.timesquare.ccslkernel.model/ccsllibrary/CCSL.ccslLib"</i>

package dplextended
	context Philosopher
		<b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">def</b>: think : Event = self.think()
		<b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">def</b>: getrightFork : Event = self
		<b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">def</b>: getleftFork : Event = self
		<b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">def</b>: eat : Event = self.eat()
		<b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">def</b>: putrightFork : Event = self
		<b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">def</b>: putleftFork : Event = self
		<b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">def</b>: thinkcycleMax : Integer = self.thinkCycles
		<b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">def</b>: eatcycleMax : Integer = self.eatCycles

	context Philosopher
	inv PhilosopherConstraintInv:
		Relation PhilosopherConstraintDcl(
                self.think,
                self.getrightFork,
                self.getleftFork,self.eat,
                self.putrightFork,
                self.putleftFork,
                self.thinkcycleMax,
                self.eatcycleMax
                )
endpackage</pre></div></div></div></div><div class="section" title="3.2.3.&nbsp;Defining the Domain-Specific Events (DSE)"><div class="titlepage"><div><div><h3 class="title"><a name="_defining_the_domain_specific_events_dse"></a>3.2.3.&nbsp;Defining the Domain-Specific Events (DSE)</h3></div></div></div><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p xmlns="">This section is relevant to the definition of <span class="strong"><strong>concurrent</strong></span> xDSMLs.</p></div><div class="section" title="3.2.3.1.&nbsp;Purpose"><div class="titlepage"><div><div><h4 class="title"><a name="_purpose_5"></a>3.2.3.1.&nbsp;Purpose</h4></div></div></div><p>The DSE define a mapping between MoccEvents from the MoCC and the Execution Functions. They specify the coordination between what happens in the MoCC, depending on its constraints, and which operations must be called in the model (thus resulting in changes in the Execution Data).
They are also exposed as the behavioral interface of the xDSML, based on which the Behavioral COmposition Operator Language (BCOoL) defines the composition of xDSMLs.</p></div><div class="section" title="3.2.3.2.&nbsp;Creating the DSE Project"><div class="titlepage"><div><div><h4 class="title"><a name="_creating_the_dse_project"></a>3.2.3.2.&nbsp;Creating the DSE Project</h4></div></div></div><p>Create an empty Plug-in Project. In this project, create a new file with the ".GEL" extension. The DSE can be defined using the <span class="strong"><strong>Gemoc Events Language</strong></span> (GEL).</p></div><div class="section" title="3.2.3.3.&nbsp;Editing the DSE Project"><div class="titlepage"><div><div><h4 class="title"><a name="_editing_the_dse_project"></a>3.2.3.3.&nbsp;Editing the DSE Project</h4></div></div></div><p>The first step to designing the DSE in GEL consists in importing the MoCC2AS Mapping (ECL file) and the Domain Model (Ecore metamodel) of the xDSML. You can do so by using the <span class="emphasis"><em>import platform:/resource/&#8230;&#8203;</em></span> syntax at the beginning of the file.</p><div class="section" title="3.2.3.3.1.&nbsp;Defining an Atomic Domain-Specific Event"><div class="titlepage"><div><div><h5 class="title"><a name="_defining_an_atomic_domain_specific_event"></a>3.2.3.3.1.&nbsp;Defining an Atomic Domain-Specific Event</h5></div></div></div><p>Atomic Domain-Specific Events realize a 1-to-1 mapping between the MoccEvents and the Execution Functions of the xDSML.
An atomic DSE is defined using the following syntax:</p><pre class="screen">DSE &lt;name&gt;:
  upon &lt;MoccEvent&gt;
  triggers &lt;Path-to-ExecutionFunction&gt;
end</pre><p>Where:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">&lt;name&gt; is the name of the Domain-Specific Event;</li><li class="listitem">&lt;MoccEvent&gt; is any MoccEvent from the MoCC2AS Mapping. This will also automatically define the DSE in the same context as the MoccEvent referenced, thus defining the starting point of navigation expressions from this DSE;</li><li class="listitem">&lt;Path-to-ExecutionFunction&gt; is a navigation path from the context of this DSE to an Execution Function.</li></ul></div><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2><p xmlns="">In case of difficulty, make use of the auto-completion feature.</p></div><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p xmlns="">The implicit context of a Domain-Specific Event is inferred from the context in which its associated MoccEvent is defined in the MoCC2AS Mapping. Therefore, the DSE will be usable for any instance in the model of the context of the DSE. For instance if a DSE is mapped to a MoccEvent defined in the context of the metaclass <span class="emphasis"><em>Transition</em></span>, and there are 3 Transitions in the model being executed, this DSE will be usable for each of the 3 Transitions of the model.</p></div></div><div class="section" title="3.2.3.3.2.&nbsp;Semantics of Atomic Domain-Specific Events"><div class="titlepage"><div><div><h5 class="title"><a name="_semantics_of_atomic_domain_specific_events"></a>3.2.3.3.2.&nbsp;Semantics of Atomic Domain-Specific Events</h5></div></div></div><p>Upon an occurrence of the associated MoccEvent, an occurrence of the Domain-Specific Event is created and consumed by the GEMOC Execution Engine. Its consumption triggers the execution of the designated Execution Function.</p></div></div></div><div class="section" title="3.2.4.&nbsp;Defining the Feedback Specification"><div class="titlepage"><div><div><h3 class="title"><a name="_defining_the_indexterm_primary_feedback_specification_primary_indexterm_feedback_specification"></a>3.2.4.&nbsp;Defining the <a class="indexterm" name="d0e1720"></a>Feedback Specification</h3></div></div></div><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p xmlns="">This section is relevant to the definition of <span class="strong"><strong>concurrent</strong></span> xDSMLs.</p></div><div class="section" title="3.2.4.1.&nbsp;Purpose"><div class="titlepage"><div><div><h4 class="title"><a name="_purpose_6"></a>3.2.4.1.&nbsp;Purpose</h4></div></div></div><p>Many languages need to be able to parameterize their control flow with their data flow. For instance, conditional statements like <span class="emphasis"><em>if&#8230;&#8203;then&#8230;&#8203;else</em></span> or <span class="emphasis"><em>switch&#8230;&#8203;case</em></span> statements depend on the result of a boolean expression.
Since the GEMOC approach at designing xDSMLs promotes the separation of the concurrency (MoCC from the domain-specific data (DSA), there needs to be a form of communication from the DSA to the MoCC. For instance, the MoCC of an xDSML with a conditional statement specifies that after evaluating the condition, either the 'then' or the 'else' branch will be taken (in exclusion from one another), while the DSA provide the Execution Function that evaluates the condition, returning a boolean value. Making the link between the 'true' value and the 'then' branch, and between the 'false' value and the 'else' branch is the role of the Feedback Specification.
More formally, the Feedback Specification specifies how domain data returned by an Execution Function must be interpreted to parameterize the MoCC. The Feedback Specification consists in a set of Feedback Policies which are associated to the atomic Domain-Specific Events. Therefore, the Feedback Specification is also done using <a class="indexterm" name="d0e1741"></a>GEL.</p></div><div class="section" title="3.2.4.2.&nbsp;Creating a Feedback Policy"><div class="titlepage"><div><div><h4 class="title"><a name="_creating_a_indexterm_primary_feedback_policy_primary_indexterm_feedback_policy"></a>3.2.4.2.&nbsp;Creating a <a class="indexterm" name="d0e1748"></a>Feedback Policy</h4></div></div></div><p>A Feedback Policy is associated to an atomic DSE by extending the syntax for defining the atomic DSE as follows:</p><pre class="screen">DSE &lt;name&gt;:
  upon &lt;MoccEvent&gt;
  triggers &lt;Path-to-ExecutionFunction&gt; returning &lt;resultName&gt;
  feedback:
    [&lt;filter1&gt;] =&gt; allow &lt;PathToMoccEventConsequence1&gt;
    [&lt;filter2&gt;] =&gt; allow &lt;PathToMoccEventConsequence2&gt;
    ...
    default =&gt; allow &lt;PathToMoccEventDefaultConsequence&gt;
  end
end</pre><p>Where:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">&lt;resultName&gt; is a local variable which will be affected with the value returned by the associated Execution Function;</li><li class="listitem">Between the <span class="emphasis"><em>feedback</em></span> and <span class="emphasis"><em>end</em></span> keywords, a set of Feedback Rules are defined (including a default Feedback Rule, with the <span class="emphasis"><em>default</em></span> keyword). A Feedback Rule is composed of a filter (between squared brackets) and a consequence;</li><li class="listitem">&lt;filterN&gt; are predicates, most likely using &lt;resultName&gt; which define whether or not this Feedback Rule must be applied;</li><li class="listitem">&lt;PathToMoccEventConsequenceN&gt; is a navigation expression to a MoccEvent which specifies which MoccEvent is allowed as a result of the data returned by the Execution Function.</li></ul></div><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2><p xmlns="">In case of difficulty, make use of the auto-completion feature.</p></div></div><div class="section" title="3.2.4.3.&nbsp;Semantics of the Feedback Policy"><div class="titlepage"><div><div><h4 class="title"><a name="_semantics_of_the_feedback_policy"></a>3.2.4.3.&nbsp;Semantics of the Feedback Policy</h4></div></div></div><p>When the Execution Function associated to a DSE returns a result, the filter of every Feedback Policy is evaluated. If none of the filters is validated, then the default rule is applied. Else, the collection of rules for which the filter validated are applied.
For each rule to apply, the associated consequence is allowed to have occurrences in upcoming steps of execution. This is done by the Execution Engine by filtering out some solutions provided by the MoCC interpreter and only allowing the ones complying with the Feedback Specification.</p></div></div><div class="section" title="3.2.5.&nbsp;Exhaustive Exploration and Verification at Language Design Time"><div class="titlepage"><div><div><h3 class="title"><a name="section-exhaustive-exploration-lw"></a>3.2.5.&nbsp;Exhaustive Exploration and Verification at Language Design Time</h3></div></div></div><p>One benefit of assigning an execution semantics onto a DSL is to pave the way for exhaustive exploration. Exhaustive exploration is a technique used in complex and safety system design to ensure the correct adequacy between the system requirements and the real behavior of the system. This is made possible by exploring and verifying properties on an exhaustive finite state space of the system representing the whole set of relevant configurations your system may reach.</p><p>Gemoc provides the first step towards exploration and verification by building the graph of all the possible schedules of a system model constrained with <span class="strong"><strong><a class="indexterm" name="d0e1796"></a>MoCCML</strong></span>. It can then be used in a model-checking tool to verify behavioral properties of the <span class="strong"><strong><a class="indexterm" name="d0e1802"></a>MoCCML</strong></span> models. Thanks to Gemoc approach the execution model is explicited and can be manipulated to for instance:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Verify temporal logic properties (safety and liveness) on the state space graph structure;</li><li class="listitem">Extract a schedule that optimizes specific objectives;</li><li class="listitem">Extract system properties by static analysis of an event-graph representation of the execution model.</li></ul></div><p>In the Gemoc approach the steps toward exploration and verification during language design are:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Define an executable model and its mapping on a DSL(we assume it has already been defined see <a class="xref" href="#section-defining-a-mocc" title="3.2.2.&nbsp;Defining a Model of Concurrency and Communication (MoCC)">Section&nbsp;3.2.2, &#8220;Defining a Model of Concurrency and Communication (MoCC)&#8221;</a>);</li><li class="listitem">Generate a configuration file from <span class="strong"><strong><a class="indexterm" name="d0e1829"></a>ECL</strong></span> model to target an exhaustive exploration tool;</li></ul></div><p>In the Gemoc approach the steps toward exploration and verification during modeling design are described in <a class="xref" href="#section-exhaustive-exploration-mw" title="9.3.&nbsp;Exhaustive Exploration and Verification at Model Design Time">Section&nbsp;9.3, &#8220;Exhaustive Exploration and Verification at Model Design Time&#8221;</a>:
The flow toward exhaustive exploration and verification in Gemoc is presented in figure <a class="xref" href="#figure-exploration-flow" title="Figure&nbsp;3.3.&nbsp;The exploration and verification flow in Gemoc">Figure&nbsp;3.3, &#8220;The exploration and verification flow in Gemoc&#8221;</a> and described in the following sections.</p><div class="figure"><a name="figure-exploration-flow"></a><div class="figure-contents"><div class="mediaobject"><img src="./Guide/images/exhaustive_exploration/flow.png" width="600" alt="The Exploration and Verification Flow in Gemoc"></div></div><p class="title"><b>Figure&nbsp;3.3.&nbsp;The exploration and verification flow in Gemoc</b></p></div><br class="figure-break"><div class="section" title="3.2.5.1.&nbsp;Generating inputs for Exhaustive Exploration tools : T1 at Language Level"><div class="titlepage"><div><div><h4 class="title"><a name="_generating_inputs_for_exhaustive_exploration_tools_emphasis_t1_emphasis_at_language_level"></a>3.2.5.1.&nbsp;Generating inputs for Exhaustive Exploration tools : <span class="emphasis"><em>T1</em></span> at Language Level</h4></div></div></div><p>ECL specification is the starting point toward exploration. In this specification we define events associated with the actions of the <span class="strong"><strong><a class="indexterm" name="d0e1858"></a>DSA</strong></span> and also events associated with the <span class="strong"><strong><a class="indexterm" name="d0e1864"></a>DSE</strong></span> events. On these event bindings we apply the <span class="strong"><strong><a class="indexterm" name="d0e1870"></a>MoccML</strong></span> relations of the MoC Library to schedule the events. A finite state space of a system uses such scheduling constraints and therefore a configuration file to target an exhaustive exploration tool must be generated:</p><p><span class="emphasis"><em>T1</em></span> transformation generates a configuration file to later target exhaustive exploration or simulation tools.  <span class="emphasis"><em>T1</em></span> takes as input the <span class="strong"><strong><a class="indexterm" name="d0e1883"></a>ECL</strong></span> mapping definition between the DSL and the <span class="strong"><strong><a class="indexterm" name="d0e1889"></a>MoCCML</strong></span> to generate a transformation <span class="emphasis"><em>T2</em></span> describing transformation rules that will be used to produce the processes for the DSL related functions and data (DSA) and the behavioral processes corresponding to the <span class="strong"><strong><a class="indexterm" name="d0e1898"></a>MoCCML</strong></span> constraints.</p><p><span class="emphasis"><em>T1</em></span> is automatically generated from ecl model and results are stored in <span class="strong"><strong><a class="indexterm" name="d0e1908"></a>mtl-gen</strong></span> folder.</p><p>However to execute <span class="emphasis"><em>T1</em></span> manually right-click on the <span class="strong"><strong><a class="indexterm" name="d0e1919"></a>ECL</strong></span> file &#8594; <span class="inlinemediaobject"><img src="./Guide/images/exhaustive_exploration/clocksystem_logo_32x32.png" width="16" height="16" alt="clocksystem_logo_32x32"></span>Exhaustive Exploration  &#8594; <span class="inlinemediaobject"><img src="./Guide/images/exhaustive_exploration/cs_t1_16x16.png" width="16" height="16" alt="cs_t1_16x16"></span>Generate ClockSystem transformation from ECL model  as illustrated in figure <a class="xref" href="#figure-t1-t2" title="Figure&nbsp;3.4.&nbsp;Using T1 Tranformation">Figure&nbsp;3.4, &#8220;Using T1 Tranformation&#8221;</a>.<span class="emphasis"><em>T2</em></span> is generated in the repository &lt;mtl-gen&gt;.</p><div class="figure"><a name="figure-t1-t2"></a><div class="figure-contents"><div class="mediaobject"><img src="./Guide/images/exhaustive_exploration/t1_t2.png" width="500" alt="Using T1 Tranformation"></div></div><p class="title"><b>Figure&nbsp;3.4.&nbsp;Using T1 Tranformation</b></p></div><br class="figure-break"></div></div></div></div><div class="chapter" title="Chapter&nbsp;4.&nbsp;Define an animator"><div class="titlepage"><div><div><h2 class="title"><a name="define-animator-chapter"></a>Chapter&nbsp;4.&nbsp;Define an animator</h2></div></div></div><div class="section" title="4.1.&nbsp;Defining a debug representation"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="defining-a-debug-representation-section"></a>4.1.&nbsp;Defining a debug representation</h2></div></div></div><p>The debug layer is an extension on top of a graphical editor defined with <a class="indexterm" name="d0e1960"></a>Sirius which represents runtime data and the current instruction. See <a class="xref" href="#defining-a-concrete-syntax-with-sirius-section" title="2.2.2.&nbsp;Defining a Concrete Syntax with Sirius">Section&nbsp;2.2.2, &#8220;Defining a Concrete Syntax with Sirius&#8221;</a> for more details about <a class="indexterm" name="d0e1966"></a>Sirius. This section covers the debug representation creation wizard and the technical implementation details. Technical implementation details are only useful for advanced use case and troubleshooting.</p><div class="section" title="4.1.1.&nbsp;The debug representation wizard"><div class="titlepage"><div><div><h3 class="title"><a name="_the_debug_representation_wizard"></a>4.1.1.&nbsp;The debug representation wizard</h3></div></div></div><p>This wizard creates a layer to represent the current instruction and add commands in order to manage breakpoints and launch a simulation in debug mode. This is a default implementation, it can be customized to represent runtime data for instance. The customization uses the <a class="indexterm" name="d0e1975"></a>Sirius description definition, see the <a class="link" href="http://www.eclipse.org/sirius/doc/specifier/Sirius%20Specifier%20Manual.html" target="_top">Sirius Specifier Manual</a> for more details.
The wizard presents three ways to implement this layer:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Create a debug diagram description</li><li class="listitem">Extend an existing diagram description</li><li class="listitem">Add a debug layer to an existing diagram description</li></ul></div><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/language/debug_representation_wizard/wizard.png" alt="Debug representation wizard"></div></div><div class="section" title="4.1.1.1.&nbsp;Create a debug diagram description"><div class="titlepage"><div><div><h4 class="title"><a name="_create_a_debug_diagram_description"></a>4.1.1.1.&nbsp;Create a debug diagram description</h4></div></div></div><p>It creates a diagram representation with a default debug layer. The representation does not depend on another representation. A typical use case is a language where the runtime data representation is too far from the language graphical syntax.</p><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/language/debug_representation_wizard/create/1.png" alt="Debug representation wizard"></div></div><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/language/debug_representation_wizard/create/2.png" alt="Debug representation wizard"></div></div></div><div class="section" title="4.1.1.2.&nbsp;Extend an existing diagram description"><div class="titlepage"><div><div><h4 class="title"><a name="_extend_an_existing_diagram_description"></a>4.1.1.2.&nbsp;Extend an existing diagram description</h4></div></div></div><p>It creates a diagram representation with a default debug layer that extends an existing representation. This allows to have a debug layer based on the representation of the language concrete syntax. The language concrete syntax can be deployed without the debug representation. A typical use case is the reuse of an existing diagram definition that you cannot modify by yourself. For instance if you want to use <a class="link" href="http://eclipse.org/modeling/mdt/?project=uml2" target="_top">UML</a>, you can reuse the <a class="link" href="http://www.umldesigner.org/" target="_top">UML Designer</a>.</p><p>You can select any diagram description.</p><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/language/debug_representation_wizard/extend/1.png" alt="Debug representation wizard"></div></div><p>And then define the new diagram description which extends the one you previously selected.</p><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/language/debug_representation_wizard/extend/2.png" alt="Debug representation wizard"></div></div><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/language/debug_representation_wizard/extend/3.png" alt="Debug representation wizard"></div></div></div><div class="section" title="4.1.1.3.&nbsp;Add a debug layer to an existing diagram description"><div class="titlepage"><div><div><h4 class="title"><a name="_add_a_debug_layer_to_an_existing_diagram_description"></a>4.1.1.3.&nbsp;Add a debug layer to an existing diagram description</h4></div></div></div><p>It creates a default debug layer in an existing diagram representation. This should be used if you are also in charge of the language concrete syntax.</p><p>In this case, you can only select a diagram description from the workspace.</p><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/language/debug_representation_wizard/add/1.png" alt="Debug representation wizard"></div></div><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/language/debug_representation_wizard/add/2.png" alt="Debug representation wizard"></div></div></div></div><div class="section" title="4.1.2.&nbsp;Implementation details"><div class="titlepage"><div><div><h3 class="title"><a name="_implementation_details"></a>4.1.2.&nbsp;Implementation details</h3></div></div></div><p>Implementation details are for advanced use and troubleshooting. It explains how the implementation works behind the scene. There are two main elements covered here : the debugger services class and the debug layer itself.</p><div class="section" title="4.1.2.1.&nbsp;Debugger services"><div class="titlepage"><div><div><h4 class="title"><a name="_debugger_services"></a>4.1.2.1.&nbsp;Debugger services</h4></div></div></div><p>The debugger services class is use to tell which representations should be activated and refreshed during debug (see the getRepresentationRefreshList() method). It also provides a method to know if an element of the diagram is the current instruction. This is provided by the isCurrentInstruction() method.</p><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/language/debug_services.png" alt="Debug services"></div></div></div><div class="section" title="4.1.2.2.&nbsp;Debug layer"><div class="titlepage"><div><div><h4 class="title"><a name="_debug_layer"></a>4.1.2.2.&nbsp;Debug layer</h4></div></div></div><p>The default debug layer adds action to start the simulation in debug mode and to toggle breakpoints (1). When a breakpoint exists for an element of the diagram, a visual feedback is displayed according to the breakpoint state (2). The current instruction is also highlighted in yellow by default (3).</p><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/language/debug_layer.png" alt="Debug layer"></div></div><p>This is a default debug layer, it can be customized to fit your needs. The customization use the <a class="indexterm" name="d0e2106"></a>Sirius description definition, see the <a class="link" href="http://www.eclipse.org/sirius/doc/specifier/Sirius%20Specifier%20Manual.html" target="_top">Sirius Specifier Manual</a> for more details.</p></div></div></div><div class="section" title="4.2.&nbsp;Defining Multidimentional Trace support"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="defining-multidimensional-trace-project-section"></a>4.2.&nbsp;Defining Multidimentional Trace support</h2></div></div></div><p>The multidimentional trace is a mecanism that enable some extra feature in the debugger in the Modeling workbench.
This turns the debugger into an omniscient debugger with forward/backward features and advanced visualization of data changes in the model.</p><p>This feature can be enabled by using the generator on top of the xdsml project and generate the <span class="emphasis"><em>Trace Addon Project</em></span>.</p><p>TODO complete this section.</p></div></div><div class="chapter" title="Chapter&nbsp;5.&nbsp;Compose languages"><div class="titlepage"><div><div><h2 class="title"><a name="compose-languages-chapter"></a>Chapter&nbsp;5.&nbsp;Compose languages</h2></div></div></div><div class="section" title="5.1.&nbsp;Coordination of Languages with BCOoL"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="composing-languages-with-bcool-section"></a>5.1.&nbsp;Coordination of Languages with BCOoL</h2></div></div></div><div class="section" title="5.1.1.&nbsp;What is BCOoL?"><div class="titlepage"><div><div><h3 class="title"><a name="_what_is_indexterm_primary_bcool_primary_indexterm_bcool"></a>5.1.1.&nbsp;What is <a class="indexterm" name="d0e2134"></a>BCOoL?</h3></div></div></div><p><a class="indexterm" name="d0e2139"></a>BCOoL is a dedicated language to explicitly specify coordination patterns, i.e., to specify, at the language level, how some models conforming to different DSMLs can be coordinated. This enables the integrator to capture the knowledge of integration of systems. In BCOoL, the specification relies on <span class="emphasis"><em>Operators</em></span>. Once an operator is defined between different DSMLs, it can be used to generate a coordination model between any  models conforming the DSMLs used in the operator.</p><div class="figure"><a name="d0e2146"></a><div class="figure-contents"><div class="mediaobject"><img src="http://timesquare.inria.fr/BCOoL/images/bcoolapr.jpg" width="800" alt="Overview of the BCOoL approach"></div></div><p class="title"><b>Figure&nbsp;5.1.&nbsp;Overview of the approach.</b></p></div><br class="figure-break"><p></p><p><a class="indexterm" name="d0e2158"></a>BCOoL is developed on top of the eclipse platform as a set of plugins. More precisely, it is integrated to the GEMOC studio.</p><p>BCOoL is based on the EMF and its abstract syntax has been developed using Ecore (i.e., the meta-language associated with EMF). The textual concrete syntax has been developed using Xtext, providing advanced editing facilities.</p><p>BCOoL adds coordination facilities to the GEMOC studio. In the language workbench, an <span class="emphasis"><em>integrator</em></span> can develop BCOoL operators to specify coordination patterns between languages, and then a <span class="emphasis"><em>system</em></span> designer can use these operators in the modeling workbench to coordinate (possibly heterogeneous) models.</p></div></div><div class="section" title="5.2.&nbsp;Example: a BCOoL Operator between the TFSM and Activity languages."><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_example_a_bcool_operator_between_the_tfsm_and_activity_languages"></a>5.2.&nbsp;Example: a BCOoL Operator between the TFSM and Activity languages.</h2></div></div></div><p>To illustrate the use of BCOoL, we propose to develop a simple operator between the TFSM and Activity languages. This operator specifies a coordination pattern in which <span class="strong"><strong>FSMEvents</strong></span> from the TFSM language and <span class="strong"><strong>Actions</strong></span> from the Activity are coordinated by relying on their names. The goal here is to develop an operator that can be used latter in the modeling workbench to coordinate any pair of TFSM and Activity models. In particular, in the following section, we use this operator to coordinate the heterogeneous models of a coffee machine. We also use this example to show some of the BCOoL syntax. The reader can find a more precise description <a class="link" href="https://hal.inria.fr/hal-01182773/document" target="_top">here</a>. Figure 2 illustrates the specification of BCOoL by using the GEMOC studio, we detail this specification as follows. The full project can be found in <a class="link" href="https://github.com/gemoc/gemoc-studio/tree/master/official_samples/bcool_TFSMAndActivity/modeling_workbench" target="_top">here</a>. For this example, we use the GEMOC studio version 2.1.0, build id: 2016-02-17, which can be downloaded from <a class="link" href="http://gemoc.org/pub/studio/time_shifting_versions/" target="_top">here</a>.</p><p>This operator synchronizes FSMEvents and Actions. This is done by coordinating instances of DSE <span class="emphasis"><em>occurs</em></span> and instances of DSE <span class="emphasis"><em>executeIt</em></span>. To specify this in BCOoL, we first define a specification named <span class="emphasis"><em>TfsmAndActivities</em></span> and we import the language behavioral interface of each language, named <span class="emphasis"><em>activity</em></span> and <span class="emphasis"><em>tfsm</em></span> (Figure 2, line 6 and 7). Then, the operator <span class="emphasis"><em>SyncFSMEventsAndActions</em></span> is defined, which refers to the DSE <span class="emphasis"><em>occurs</em></span> and <span class="emphasis"><em>executeIt</em></span>, mapped as <span class="emphasis"><em>FSMEventOccurs</em></span> and <span class="emphasis"><em>ActionExecute</em></span> respectively (Figure 2, line 11).</p><p>In BCOoL, operators are used to specify when and how instances of the referred DSE must be coordinated. To do so, each operator contains a <span class="emphasis"><em>correspondence matching</em></span> and a <span class="emphasis"><em>coordination rule</em></span>. The former is used to select instances of DSE and the latter is used to express how the selected instances must be coordinated.</p><p>A <span class="emphasis"><em>correspondence matching</em></span> selects instances of DSE by using a <span class="emphasis"><em>Condition</em></span> that contains an OCL Boolean expression. To express the boolean expression, the context of the DSE can be queried to get a specific syntactic element, e.g., attribute <span class="emphasis"><em>name</em></span>. The boolean condition is thus used to compare the queried elements. The correspondence matching acts as a precondition for the coordination rule, i.e., it is a predicate that defines when the coordination rule must be applied to the given instances of DSE. For instance, for our example, we query the context of the DSE to get the attribute <span class="emphasis"><em>name</em></span>. Then, the attributes are used as operands for the boolean condition (Figure 2, line 6 and 7). When an instance of DSE <span class="emphasis"><em>occurs</em></span> and an instance of DSE <span class="emphasis"><em>executeIt</em></span> have the same name, the pairs are selected and the coordination rule is applied.</p><p>The <span class="emphasis"><em>coordination rule</em></span> specifies how the selected instances of DSE must be coordinated. To do so, it contains an <span class="emphasis"><em>EventRelation</em></span> and possibly some <span class="emphasis"><em>EventVariables</em></span>. The event relation is used to restrict the relative order of the occurrences of events used as parameters. Its actual parameters can be instances of DSE, some <span class="emphasis"><em>EventVariables</em></span> and/or constants (e.g., integer constants). For this simple example, we only show the use of Event Relations. The operator must specify a strong synchronization between the events. To express that, we use the event relation <span class="emphasis"><em>Rendezvous</em></span> between the selected instances of DSE <span class="emphasis"><em>occurs</em></span> and <span class="emphasis"><em>executeIt</em></span> (Figure 2, line 14). This relation accepts two events as arguments and forces the occurrences of these events to happen simultaneously.</p><div class="figure"><a name="d0e2275"></a><div class="figure-contents"><div class="mediaobject"><img src="http://timesquare.inria.fr/BCOoL/images/producttfsmandactivitiesbcool.jpg" alt="Overview of the BCOoL approach"></div></div><p class="title"><b>Figure&nbsp;5.2.&nbsp;Screenshot of the GEMOC Language Workbench showing the BCOoL specification.</b></p></div><br class="figure-break"><p></p><p>We want to highlight that, for the moment, the edition of a BCOoL specification is done in the modeling workbench together with its application to coordinate models. The definition and the application should be two tasks done separately. The specification should be done in the <span class="emphasis"><em>language workbench</em></span> while the application should be done in the <span class="emphasis"><em>modeling workbench</em></span>. We are working to fix that soon. In the section <a class="link" href="https://github.com/gemoc/gemoc-studio/wiki/GuideMW_CoordinatingModelExecution_Section" target="_top">Coordinating Model Execution</a>, we continue this example by using the operator previously defined to coordinate the heterogeneous models of a coffee machine.</p></div></div><div class="chapter" title="Chapter&nbsp;6.&nbsp;Deploy languages"><div class="titlepage"><div><div><h2 class="title"><a name="deploy-languages-chapter"></a>Chapter&nbsp;6.&nbsp;Deploy languages</h2></div></div></div><p>Eclipse propose several way to deploy and distribute the language created using the GEMOc approach. The most appropriate method will depent on the main usage.</p><p>Basicaly it consist in launching the plugins of the language using PDE (Plugin Development Environment) offerd by Eclipse.</p><p>Some Eclipse articles describe this process:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><a class="link" href="https://eclipse.org/articles/Article-PDE-does-plugins/PDE-intro.html" target="_top">https://eclipse.org/articles/Article-PDE-does-plugins/PDE-intro.html</a></li><li class="listitem"><a class="link" href="http://www.eclipse.org/articles/Article-EMF-goes-RCP/rcp.html" target="_top">http://www.eclipse.org/articles/Article-EMF-goes-RCP/rcp.html</a></li></ul></div><div class="section" title="6.1.&nbsp;Deployment of languages for the Language designer"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="deploy-language-for-language-designer-section"></a>6.1.&nbsp;Deployment of languages for the Language designer</h2></div></div></div><p>The language designer can test the language he is designing by launching a new Eclipse runtime from his development workbench.</p><p>This is done by creating a run configuration. Select "run / run Configurations" Double click on "Eclipse Application" and change the name "New Configuration" into "&lt;YourSuperLanguage&gt; Modeling Workbench". We can now click "Run" to start the new runtime Eclipse which indeed corresponds to the Modeling Workbench for your language.</p><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2><p xmlns="">This mode offer some fine control. For example, it is possible to put breakpoint in the DSA code in order to finely develop them.</p></div><div class="figure"><a name="d0e2325"></a><div class="figure-contents"><div class="mediaobject"><img src="./Guide/images/workbench/language/runtime_workbench_launchconfig_screenshot.png" alt="Runtime workbench launch configuration"></div></div><p class="title"><b>Figure&nbsp;6.1.&nbsp;Runtime workbench launch configuration</b></p></div><br class="figure-break"></div><div class="section" title="6.2.&nbsp;Distribution of languages to the Model designer"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="distribute-language-for-model-designer-section"></a>6.2.&nbsp;Distribution of languages to the Model designer</h2></div></div></div><p>Distributing the language concist in distributing the plugins. This typically could be done via an <a class="link" href="https://wiki.eclipse.org/FAQ_How_do_I_create_an_update_site_%28site.xml%29%3F" target="_top">update site</a> or a full eclipse package (<a class="link" href="https://wiki.eclipse.org/Rich_Client_Platform" target="_top">RCP application</a>).</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">The update site will allow to install the language in an existing Eclipse.</li><li class="listitem">The RCP methodoly will allow to create an application with a dedicated set of plugins including the language. This application could look like a classic eclipse IDE (including java, etc) or be completly customized for a given purpose by providing only required tools.</li></ul></div><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2><p xmlns="">Once the updatesite or product have been defined, you may need to automate the build. The current best practice is to use <a class="link" href="https://eclipse.org/tycho/" target="_top">Tycho</a>. (see also some good <a class="link" href="http://www.vogella.com/tutorials/EclipseTycho/article.html" target="_top">tutorial</a> about this on internet.</p></div></div></div></div><div class="part" title="Part&nbsp;II.&nbsp;GEMOC Modeling workbench"><div class="titlepage"><div><div><h1 class="title"><a name="chapter-gemoc-modeling-workbench"></a>Part&nbsp;II.&nbsp;GEMOC Modeling workbench <span class="inlinemediaobject"><img src="./images/icons/IconeGemocModel_16.png" width="16" height="16" alt="IconeGemocModel_16"></span></h1></div></div></div><div class="chapter" title="Chapter&nbsp;7.&nbsp;Modeling workbench overview"><div class="titlepage"><div><div><h2 class="title"><a name="_modeling_workbench_overview"></a>Chapter&nbsp;7.&nbsp;Modeling workbench overview</h2></div></div></div><p>The GEMOC Modeling Workbench, intended to be used by domain designers: it allows creating and executing models conformant to executable DSMLs.</p><div class="figure"><a name="figure-glw-screenshot-of-modeling_workbench"></a><div class="figure-contents"><div class="mediaobject"><img src="./Guide/images/gemoc_modeling_workbench_TFSM_animation_screenshot.png" width="800" alt="Screenshot of GEMOC Studio Modeling Workbench on the TFSM example (execution and animation)"></div></div><p class="title"><b>Figure&nbsp;7.1.&nbsp;Screenshot of GEMOC Studio Modeling Workbench on the TFSM example (execution and animation).</b></p></div><br class="figure-break"><p><a class="indexterm" name="d0e2385"></a>
<a class="indexterm" name="d0e2389"></a>
<a class="indexterm" name="d0e2395"></a></p><p></p></div><div class="chapter" title="Chapter&nbsp;8.&nbsp;Editing model"><div class="titlepage"><div><div><h2 class="title"><a name="section-editing-model"></a>Chapter&nbsp;8.&nbsp;Editing model</h2></div></div></div><p>As seen in Section <a class="xref" href="#defining-a-concrete-syntax-section" title="2.2.&nbsp;Defining a Concrete Syntax">Section&nbsp;2.2, &#8220;Defining a Concrete Syntax&#8221;</a>, an xDSML can provide different concrete syntaxes.</p><div class="section" title="8.1.&nbsp;Editing model with Sirius"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="modeling-workbench-editing-model-with-sirius-section"></a>8.1.&nbsp;Editing model with <a class="indexterm" name="d0e2410"></a>Sirius</h2></div></div></div><p>After defining your editor with <a class="indexterm" name="d0e2416"></a>Sirius (see <a class="xref" href="#defining-a-concrete-syntax-with-sirius-section" title="2.2.2.&nbsp;Defining a Concrete Syntax with Sirius">Section&nbsp;2.2.2, &#8220;Defining a Concrete Syntax with Sirius&#8221;</a> for more details about <a class="indexterm" name="d0e2422"></a>Sirius), you can use your editor as described in the <a class="link" href="http://www.eclipse.org/sirius/doc/user/Sirius%20User%20Manual.html" target="_top">Sirius User Manual</a>.</p><div class="section" title="8.1.1.&nbsp;Debug specific"><div class="titlepage"><div><div><h3 class="title"><a name="_debug_specific"></a>8.1.1.&nbsp;Debug specific</h3></div></div></div><p>If you have defined a debug representation using <a class="xref" href="#defining-a-debug-representation-section" title="4.1.&nbsp;Defining a debug representation">Section&nbsp;4.1, &#8220;Defining a debug representation&#8221;</a>. You can use the following actions to start a debug session and toggle breakpoints.</p><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/modeling/debug_actions.png" width="400" alt="Debug actions"></div></div></div></div><div class="section" title="8.2.&nbsp;Editing model with EMF Tree Editor"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="section-modeling-workbench-editing-model-with-emf-tree-editor"></a>8.2.&nbsp;Editing model with <a class="indexterm" name="d0e2446"></a>EMF Tree Editor</h2></div></div></div><p>If you have defined an editor thanks to EMF genmodel, it can be used to create and edit models for your language as a complement to Sirius editor for example.</p><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/modeling/editing_with_tree_editor.png" width="400" alt="Editing with tree editor"></div></div></div></div><div class="chapter" title="Chapter&nbsp;9.&nbsp;Executing model"><div class="titlepage"><div><div><h2 class="title"><a name="modeling-workbench-executing-model-section"></a>Chapter&nbsp;9.&nbsp;Executing model</h2></div></div></div><p>As the GEMOC Studio offer different engines that requires specific configurations, it currently offers one launch configuration per engine.
The views offered when running or debugging a model will also vary depending on the execution mode and the engine kind.</p><p>The GEMOC Studio currently embed 2 engines:
- a sequential engine with its launch configuration
- a concurrent engine with its launch configuration</p><p>Both launch configurations offer a Run and a Debug mode.</p><div class="section" title="9.1.&nbsp;Executing model with the Sequential Engine"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_executing_model_with_the_indexterm_primary_sequential_engine_primary_indexterm_sequential_engine"></a>9.1.&nbsp;Executing model with the <a class="indexterm" name="d0e2471"></a>Sequential Engine</h2></div></div></div><div class="section" title="9.1.1.&nbsp;Sequential Launch configuration"><div class="titlepage"><div><div><h3 class="title"><a name="_sequential_launch_configuration"></a>9.1.1.&nbsp;Sequential Launch configuration</h3></div></div></div><div class="section" title="9.1.1.1.&nbsp;Sequential general options"><div class="titlepage"><div><div><h4 class="title"><a name="_sequential_general_options"></a>9.1.1.1.&nbsp;Sequential general options</h4></div></div></div><p>Run and debug are configured using the launch configuration. An example of configuration:</p><p><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/sequential_launch_configuration.png" width="800" alt="Sequential Launch configuration"></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Model to execute : this is the model that will be executed</li><li class="listitem">Model initialization method and argument : if the choosen language has a valid method with the <code class="literal">@InitializeModel</code> annotation in its DSA, the field Model initialization method will be set and this method will be called before launching the animation.</li><li class="listitem">Model initialization arguments : optional string arguments that can be passed to the initialization method. (one string per line)</li><li class="listitem">Melange languages : this field allows to select among the languages defined in Melange.</li><li class="listitem">Main method : the name of the method that can be used to start the engine. The possible value are specified by the language designer in the language definition by adding an <code class="literal">@Main</code> annotation on methods in the DSA.</li><li class="listitem">Main model element path : after having selected a main method, use the browse button to select a model element on wich this method will be called. This field presents its path in the model, the following field <span class="emphasis"><em>Main model element name</em></span> displays a human readable name for this element.</li></ul></div><p>The <span class="emphasis"><em>break at start</em></span> tells to the debugger to add a virtual breakpoint on the first instruction that will run.</p><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p xmlns=""><code class="literal">@Main</code> and <code class="literal">@InitializeModel</code> annotations used to declare possible methods used in this launcher are detailed in <a class="xref" href="#section-define-sequential-dsa-project" title="3.1.1.&nbsp;Defining the Domain-Specific Actions (DSA) Project for Sequential language">Section&nbsp;3.1.1, &#8220;Defining the Domain-Specific Actions (DSA) Project for Sequential language&#8221;</a>.</p></div></div><div class="section" title="9.1.1.2.&nbsp;Sequential Run mode"><div class="titlepage"><div><div><h4 class="title"><a name="_sequential_run_mode"></a>9.1.1.2.&nbsp;Sequential Run mode</h4></div></div></div><p>The run mode is the fastest way to execute a model.
The execution cannot be paused. It can however be stopped.
It offers a limited set of views :</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">the <a class="link" href="#mw-executing-sequential-model-engine-view-section" title="9.1.2.&nbsp;Engine View"></a><a class="indexterm" name="d0e2543"></a><a class="link" href="#mw-executing-sequential-model-engine-view-section" title="9.1.2.&nbsp;Engine View">Engine View</a> allows to stop a running model.</li><li class="listitem">the <a class="link" href="#mw-executing-sequential-model-multibranch-timeline-view-section" title="9.1.4.&nbsp;MultiBranch Timeline View"></a><a class="indexterm" name="d0e2552"></a><a class="link" href="#mw-executing-sequential-model-multibranch-timeline-view-section" title="9.1.4.&nbsp;MultiBranch Timeline View">MultiBranch Timeline View</a> is displayed at the end of the execution in order to check the resulting execution trace.</li></ul></div><p>If more feedback is required, please use one of the frontend or backend available for the xDSML, see <a class="link" href="#modeling-workbench-backends-frontends-section" title="9.2.1.4.&nbsp;Backends and frontends">Backends and frontends</a>.</p></div><div class="section" title="9.1.1.3.&nbsp;Sequential Debug mode"><div class="titlepage"><div><div><h4 class="title"><a name="_sequential_debug_mode"></a>9.1.1.3.&nbsp;Sequential Debug mode</h4></div></div></div><p>In debug mode, the engine offers more control over the execution.
It allows to pause, add breakpoints, and execute the model in a step by step mode.</p><p>It reuses the Eclipse Debug perspective and some of its views and adds some Gemoc specific views.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">the <a class="link" href="#mw-executing-sequential-model-engine-view-section" title="9.1.2.&nbsp;Engine View"></a><a class="indexterm" name="d0e2574"></a><a class="link" href="#mw-executing-sequential-model-engine-view-section" title="9.1.2.&nbsp;Engine View">Engine View</a> allows to stop a running model.</li><li class="listitem">the <a class="link" href="#mw-executing-sequential-model-animation-view-section" title="9.1.5.&nbsp;Animation View"></a><a class="indexterm" name="d0e2583"></a><a class="link" href="#mw-executing-sequential-model-animation-view-section" title="9.1.5.&nbsp;Animation View">Animation Manager View</a> is displayed and updated in real-time during the simulation. It can display both an animation layer and a debug layer.</li><li class="listitem">the <a class="link" href="#mw-executing-sequential-model-debug-view-section" title="9.1.6.&nbsp;Debug View">Debug View</a>. This view presents an interface for Step by Step execution of the model.</li><li class="listitem">the <a class="link" href="#mw-executing-sequential-model-variable-view-section" title="9.1.7.&nbsp;Variable View">Variable View</a>. This view presents the <a class="indexterm" name="d0e2600"></a>Runtime Data as a (EMF based) tree.</li></ul></div><p>When running a simulation in Debug mode, it is configured to activate automatically the Debug layer and the Animation layer in the Animation view.</p><p>On the engine addon tab, one can activate several optional addons.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">the <a class="link" href="#mw-executing-sequential-model-multibranch-timeline-view-section" title="9.1.4.&nbsp;MultiBranch Timeline View"></a><a class="indexterm" name="d0e2613"></a><a class="link" href="#mw-executing-sequential-model-multibranch-timeline-view-section" title="9.1.4.&nbsp;MultiBranch Timeline View">MultiBranch Timeline View</a> can be displayed during all the simulation.</li><li class="listitem">the <a class="link" href="#mw-executing-sequential-model-multidimensional-timeline-view-section" title="9.1.3.&nbsp;MultiDimentional Timeline View"></a><a class="indexterm" name="d0e2622"></a><a class="link" href="#mw-executing-sequential-model-multidimensional-timeline-view-section" title="9.1.3.&nbsp;MultiDimentional Timeline View">MultiDimensional Timeline View</a> can be displayed during all the simulation.</li></ul></div></div></div><div class="section" title="9.1.2.&nbsp;Engine View"><div class="titlepage"><div><div><h3 class="title"><a name="mw-executing-sequential-model-engine-view-section"></a>9.1.2.&nbsp;Engine View</h3></div></div></div><p>The engine view displays a list of execution engines and their status:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">number of execution steps,</li><li class="listitem">current running status.</li></ul></div><p><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/engine_view.png" width="400" alt="Engine View"></span></p><p><a name="modeling-workbench-executing-model-logical-step-view-section"></a>The buttons available on the top right of this view respectively allow to:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Stop the selected engine (red square button)</li><li class="listitem">Remove previously stopped engines from the view (crosses button)</li></ul></div></div><div class="section" title="9.1.3.&nbsp;MultiDimentional Timeline View"><div class="titlepage"><div><div><h3 class="title"><a name="mw-executing-sequential-model-multidimensional-timeline-view-section"></a>9.1.3.&nbsp;MultiDimentional Timeline View</h3></div></div></div><p>The Multidimensional Timeline view provides an interactive representation of the execution trace being captured.
When double-clicking on a previous state represented in the timeline, the model is brought back into this state.
Moreover, the timeline represents all the different dimensions captured in a trace, each being the sequence of
values taken by one specific element of the model. When double-clicking on a value that was reached by an element,
the complete model is brought back in the state corresponding to this value.</p><p>In this mode, the Debug interface is extended with backward actions that behave similarly to their forward counterparts, but follow execution steps in the opposite direction:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="inlinemediaobject"><img src="./Guide/images/workbench/ui_icons/stepbackinto_co.png" alt="stepbackinto"></span> <span class="emphasis"><em>StepBack Into</em></span></li><li class="listitem"><span class="inlinemediaobject"><img src="./Guide/images/workbench/ui_icons/stepbackout_co.png" alt="stepbackout"></span> <span class="emphasis"><em>StepBack Out</em></span></li><li class="listitem"><span class="inlinemediaobject"><img src="./Guide/images/workbench/ui_icons/stepbackover_co.png" alt="stepbackover"></span> <span class="emphasis"><em>StepBack Over</em></span></li></ul></div><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Warning</h2><p xmlns="">When going backward then forward again, the execution is a kind of <code class="literal">replay</code> where only the model is updated. The DSA operations are <span class="strong"><strong>not</strong></span> run.  The DSA will run again normally when the engine will try to run the last Step in the timeline.</p></div><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p xmlns="">This view currently works only with the Sequential engine. We&#8217;re working on extending its use to concurrent model execution too.</p></div><p title="MutiDimensional Timeline"><b>MutiDimensional Timeline.&nbsp;</b><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/timeline/sequential_omniscient_debugging_multidimensionnal_timeline.png" width="800" alt="Sequential Execution Multidimensionnal Timeline"></span></p></div><div class="section" title="9.1.4.&nbsp;MultiBranch Timeline View"><div class="titlepage"><div><div><h3 class="title"><a name="mw-executing-sequential-model-multibranch-timeline-view-section"></a>9.1.4.&nbsp;MultiBranch Timeline View</h3></div></div></div><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Warning</h2><p xmlns="">Formerly known as <code class="literal">Event Scheduling Timeline</code> view, this view is limited when run in Sequential. Since there is no choice of Logical Step like with the concurrent engine, the branch mechanism is disabled and this view presents only a single line.</p><p xmlns="">However, despite the Multidimensional trace, this view does not require to generate a specific trace addon for the language.</p></div><p>This view represents the line of the model&#8217;s execution. It displays:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">the different steps executed by the engine. Steps that have completely finished (ie. operation has returned) are shown in blue. Unfinished Steps are shown in yellow.</li><li class="listitem">the model specific events for each  step.</li></ul></div><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p xmlns="">This view is enabled/disable in the launch configuration by checking "Event Scheduling Execution tracing" in the Engine Addons tab.</p></div><p title="Sequential Execution MultiBranch Timeline"><b>Sequential Execution MultiBranch Timeline.&nbsp;</b><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/timeline/sequential_model_event_scheduling_timeline.png" width="800" alt="Sequential Execution MultiBranch Timeline"></span></p><p>It is  possible to select a logical step and use the contextual menu to show its caller by selecting the corresponding model element in the Sirius editor:</p><p><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/timeline/sequential_model_event_schduling_timeline_show_caller.png" alt="Show caller"></span></p></div><div class="section" title="9.1.5.&nbsp;Animation View"><div class="titlepage"><div><div><h3 class="title"><a name="mw-executing-sequential-model-animation-view-section"></a>9.1.5.&nbsp;Animation View</h3></div></div></div><p>If you have defined a debug representation using <a class="xref" href="#defining-a-debug-representation-section" title="4.1.&nbsp;Defining a debug representation">Section&nbsp;4.1, &#8220;Defining a debug representation&#8221;</a>. You can use the following actions to start a debug session and toggle breakpoints.</p><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/modeling/debug_actions.png" alt="Debug actions"></div></div><p>A decorator is shown on all element holding a breakpoint.
The decorator also reflects the state of the breakpoint:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">enabled</li></ul></div><p><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/breakpoint_enabled.png" alt="breakpoint enabled"></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">disabled</li></ul></div><p><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/breakpoint_disabled.png" alt="breakpoint disabled"></span></p><p>When you hit a breakpoint on an element and are debugging with the decider "Step by step user decider", in order to restart the execution you must clic the resume button from the debug perspective. Then don&#8217;t forget to select the next logical step to execute. Do the same when debugging in step by step with the decider "Step by step user decider".</p><p>While executing you can visualize execution data. This setting must be defined by hand since the data are language dependent (see <a class="xref" href="#defining-a-debug-representation-section" title="4.1.&nbsp;Defining a debug representation">Section&nbsp;4.1, &#8220;Defining a debug representation&#8221;</a> for more details). Here the current state is decorated with a green arrow.</p><p><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/execution_data_highlight.png" alt="Execution data highlight"></span></p><p>The default definition highlights the current instruction in yellow.</p></div><div class="section" title="9.1.6.&nbsp;Debug View"><div class="titlepage"><div><div><h3 class="title"><a name="mw-executing-sequential-model-debug-view-section"></a>9.1.6.&nbsp;Debug View</h3></div></div></div><p>This view is part of the Debug perspective.
It presents an interface for Step by Step execution of the model.</p><p>When an execution is paused, this view presents a stack containing all ongoing steps, with the last started step at the top of the stack.</p><p>At the bottom of the stack is a particular stackframe named <code class="literal">Global context</code>.
When selected, this stackframe displays the runtime data in the <a class="link" href="#mw-executing-sequential-model-variable-view-section" title="9.1.7.&nbsp;Variable View">Variable View</a>.</p><p>When paused, the usual debugging tools (step into, step over and step return) can be used to control the execution step by step. With the multidimentional trace enabled, the execution can be controlled backward using the <span class="inlinemediaobject"><img src="./Guide/images/workbench/ui_icons/stepbackinto_co.png" alt="stepbackinto"></span> <span class="emphasis"><em>StepBack Into</em></span>,
 <span class="inlinemediaobject"><img src="./Guide/images/workbench/ui_icons/stepbackout_co.png" alt="stepbackout"></span> <span class="emphasis"><em>StepBack Out</em></span> and
 <span class="inlinemediaobject"><img src="./Guide/images/workbench/ui_icons/stepbackover_co.png" alt="stepbackover"></span> <span class="emphasis"><em>StepBack Over</em></span> commands.</p><p title="Debug and Variable views with the sequential engine"><a name="mw-debug-variable-sequential-view-figure"></a><b>Debug and Variable views with the sequential engine.&nbsp;</b><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/sequential_omniscient_debugging_stack_variables.png" width="800" alt="Debug view"></span></p><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p xmlns="">In order to improve the look and feel in <a class="xref" href="#mw-debug-variable-sequential-view-figure" title="Debug and Variable views with the sequential engine">Debug and Variable views with the sequential engine</a>, the icons have been customized using the technique described in <a class="xref" href="#defining-a-concrete-syntax-with-emf-section" title="2.2.3.&nbsp;Defining a Concrete Syntax with EMF">Section&nbsp;2.2.3, &#8220;Defining a Concrete Syntax with EMF&#8221;</a></p></div></div><div class="section" title="9.1.7.&nbsp;Variable View"><div class="titlepage"><div><div><h3 class="title"><a name="mw-executing-sequential-model-variable-view-section"></a>9.1.7.&nbsp;Variable View</h3></div></div></div><p>This view is available on the Debug perspective.
When an execution is paused, this view presents the current <a class="indexterm" name="d0e2881"></a>Runtime Data of the model.</p><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p xmlns="">To control which Runtime Data should be presented in the Variable view, you need to set an EAnnotation with nsURI set to <code class="literal">aspect</code> on the corresponding EAttributes, EReferences or EClass in the ecore metamodel.</p></div><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2><p xmlns="">When the execution is paused, it is possible to edit the values in this view and then manually change the Runtime Data of the model.</p><p xmlns="">If the Multidimenstional trace is activated, this tip works only if the execution is paused on the last instraction of the trace.</p></div></div></div><div class="section" title="9.2.&nbsp;Executing model with the Concurrent Engine"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_executing_model_with_the_indexterm_primary_concurrent_engine_primary_indexterm_concurrent_engine"></a>9.2.&nbsp;Executing model with the <a class="indexterm" name="d0e2899"></a>Concurrent Engine</h2></div></div></div><div class="section" title="9.2.1.&nbsp;Concurrent Launch configuration"><div class="titlepage"><div><div><h3 class="title"><a name="_concurrent_launch_configuration"></a>9.2.1.&nbsp;Concurrent Launch configuration</h3></div></div></div><div class="section" title="9.2.1.1.&nbsp;Concurrent General options"><div class="titlepage"><div><div><h4 class="title"><a name="_concurrent_general_options"></a>9.2.1.1.&nbsp;Concurrent General options</h4></div></div></div><p>Run and debug are configured using the launch configuration. An example of configuration:</p><p><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/concurrent_launch_configuration.png" width="800" alt="Concurrent launch configuration"></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Model to execute : this is the model that will be run</li><li class="listitem">xDSML : this field allows to select among the valid variants of the executable language that are available for the model (Ie. the mix of DSA, DSE and MoCC that can be used on the given domain model)</li><li class="listitem"><p class="simpara"><a class="indexterm" name="d0e2927"></a>Decider : this field allows to select the solver strategy used by the engine when several <a class="indexterm" name="d0e2931"></a>Logical Steps can be triggered. Possible choices are :</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">Solver proposition : the solver internal strategy will be used to select a Logical Step</li><li class="listitem">Random : will randomly select one of the available Logical Step (warning: execution cannot be reproduced when using this Decider)</li><li class="listitem">Ask user : (available only in Debug mode), this option will use the <a class="link" href="#modeling-workbench-executing-model-logical-step-view-section">Logical Step View</a> or the <a class="link" href="#mw-executing-concurrent-model-multibranch-timeline-view-section" title="9.2.4.&nbsp;MultiBranch Timeline View">MultiBranch Timeline View</a> to present the available Logical Steps and pause if there are more than one Logical Step. The user will then need to click on one of the Logical Step to continue.</li><li class="listitem">Ask user (Step by step) : (available only in Debug mode), this option is similar to the previous one. However, it will pause on every Logical Step, even if there is only one Logical Step that can be triggered. This is more or less equivalent as putting a breakpoint on every MSE of the language.</li></ul></div></li></ul></div><p>More Deciders will be developed (for example for playing predefined scenario).</p></div><div class="section" title="9.2.1.2.&nbsp;Concurrent Run mode"><div class="titlepage"><div><div><h4 class="title"><a name="_concurrent_run_mode"></a>9.2.1.2.&nbsp;Concurrent Run mode</h4></div></div></div><p>In run mode, it offers the faster way to run the model.
It cannot be paused. However, you can stop it.
It offers a limited set of views :</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">the <a class="link" href="#mw-executing-concurrent-model-engine-view-section" title="9.2.2.&nbsp;Engine View"></a><a class="indexterm" name="d0e2966"></a><a class="link" href="#mw-executing-concurrent-model-engine-view-section" title="9.2.2.&nbsp;Engine View">Engine View</a> allows to stop a running model.</li><li class="listitem">the <a class="link" href="#mw-executing-concurrent-model-multibranch-timeline-view-section" title="9.2.4.&nbsp;MultiBranch Timeline View"></a><a class="indexterm" name="d0e2975"></a><a class="link" href="#mw-executing-concurrent-model-multibranch-timeline-view-section" title="9.2.4.&nbsp;MultiBranch Timeline View">MultiBranch Timeline View</a> is displayed at the end of the execution in order to control the resulting execution trace.</li></ul></div><p>If more feedback are required, please use one of the frontend or backend available for the xDSML, see <a class="link" href="#modeling-workbench-backends-frontends-section" title="9.2.1.4.&nbsp;Backends and frontends">Backends and frontends</a>.</p></div><div class="section" title="9.2.1.3.&nbsp;Concurrent Debug mode"><div class="titlepage"><div><div><h4 class="title"><a name="_concurrent_debug_mode"></a>9.2.1.3.&nbsp;Concurrent Debug mode</h4></div></div></div><p>In debug mode, the engine offers more control on the execution.
It allows to pause, add breakpoint, and run in a step by step mode.</p><p>It reuses the Eclipse Debug perspective and some of its views and add some GEMOC specific views.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">the <a class="link" href="#mw-executing-concurrent-model-engine-view-section" title="9.2.2.&nbsp;Engine View"></a><a class="indexterm" name="d0e2997"></a><a class="link" href="#mw-executing-concurrent-model-engine-view-section" title="9.2.2.&nbsp;Engine View">Engine View</a> allows to stop a running model.</li><li class="listitem">the <a class="link" href="#mw-executing-concurrent-model-multibranch-timeline-view-section" title="9.2.4.&nbsp;MultiBranch Timeline View"></a><a class="indexterm" name="d0e3006"></a><a class="link" href="#mw-executing-concurrent-model-multibranch-timeline-view-section" title="9.2.4.&nbsp;MultiBranch Timeline View">MultiBranch Timeline View</a> can be displayed during all the simulation.</li><li class="listitem">the <a class="link" href="#mw-executing-concurrent-model-logical-steps-view-section" title="9.2.3.&nbsp;Logical Steps View">Logical Steps View</a> is available for concurrent execution.</li><li class="listitem">the <a class="link" href="#mw-executing-concurrent-model-stimuli-manager-view-section" title="9.2.5.&nbsp;Stimuli Manager View"></a><a class="indexterm" name="d0e3021"></a><a class="link" href="#mw-executing-concurrent-model-stimuli-manager-view-section" title="9.2.5.&nbsp;Stimuli Manager View">Stimuli Manager View</a> is displayed during all the simulation.</li><li class="listitem">the <a class="link" href="#mw-executing-concurrent-model-animation-view-section" title="9.2.6.&nbsp;Animation View"></a><a class="indexterm" name="d0e3030"></a><a class="link" href="#mw-executing-concurrent-model-animation-view-section" title="9.2.6.&nbsp;Animation View">Animation Manager View</a> is displayed during all the simulation. It can display both an animation layer and a debug layer.</li><li class="listitem">the <a class="link" href="#mw-executing-concurrent-model-debug-view-section" title="9.2.7.&nbsp;Debug View">Debug View</a>. This view presents an interface for Step by Step execution at the Logical Step level or even at the DSA level.</li><li class="listitem">the <a class="link" href="#mw-executing-concurrent-model-variable-view-section" title="9.2.8.&nbsp;Variable View">Variable View</a>. This view presents the <a class="indexterm" name="d0e3047"></a>Runtime Data as a (EMF based) tree.</li></ul></div><p>When running a simulation in Debug mode, it is configured to activate automatically the Debug layer and the Animation layer in the Animation view.</p><p>The <span class="emphasis"><em>break at start</em></span> tells to the debugger to add a virtual breakpoint on the first instruction that will run.</p></div><div class="section" title="9.2.1.4.&nbsp;Backends and frontends"><div class="titlepage"><div><div><h4 class="title"><a name="modeling-workbench-backends-frontends-section"></a>9.2.1.4.&nbsp;Backends and frontends</h4></div></div></div><p>Backends and frontends offer additionnal view that can respectively display informations from the running model or provide event input to the running model.</p><p>These backends and front ends usually open dedicated views. These views are always opened in all modes (Run or Debug).</p></div></div><div class="section" title="9.2.2.&nbsp;Engine View"><div class="titlepage"><div><div><h3 class="title"><a name="mw-executing-concurrent-model-engine-view-section"></a>9.2.2.&nbsp;Engine View</h3></div></div></div><p>The engine view displays a list of execution engine and their statuses:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">its number of execution steps,</li><li class="listitem">its current running status,</li><li class="listitem">and its logical steps deciding strategy.</li></ul></div><p><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/engine_view.png" width="400" alt="Engine View"></span></p><p><a name="modeling-workbench-executing-model-logical-step-view-section"></a>The buttons available on top right of this views respectivley allows to:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Stop the selected Engine (red square button)</li><li class="listitem">Remove previously stopped engines from the view (crosses button)</li><li class="listitem">Change the current logical step decider (shield button).</li></ul></div><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2><p xmlns="">When running in debug mode, You can easily "pause" an engine running with a solver or random decider by clicking on the change logical step decider (the shield button will be green when run in debub mode) this will automatically switch to the "Step by step decider". To restart, simply select back an automatic decider (solver or random) and select the next step in the LogicalStep view.</p></div></div><div class="section" title="9.2.3.&nbsp;Logical Steps View"><div class="titlepage"><div><div><h3 class="title"><a name="mw-executing-concurrent-model-logical-steps-view-section"></a>9.2.3.&nbsp;Logical Steps View</h3></div></div></div><p>The logical steps view displays the list of possible future executions. This list is provided by the solver. This view is organized around a tree. For each logical step, its underlying events can be seen and possibly for each event the associated operation is visible.</p><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p xmlns="">This view displays nothing when execution runs in "run mode", per say this view is only of use when running in "debug mode".</p></div><p><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/logical_steps.png" alt="Logical Steps"></span></p></div><div class="section" title="9.2.4.&nbsp;MultiBranch Timeline View"><div class="titlepage"><div><div><h3 class="title"><a name="mw-executing-concurrent-model-multibranch-timeline-view-section"></a>9.2.4.&nbsp;MultiBranch Timeline View</h3></div></div></div><p>Formely known as <span class="emphasis"><em>Event Scheduling Timeline view</em></span>, this view represents the line of the model&#8217;s execution. It displays:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">the different logical steps proposed by the solver in the past in blue color,</li><li class="listitem">the selected logical steps at each execution step in green color,</li><li class="listitem">and the possible future logical steps in yellow color,</li><li class="listitem">the model specific events for each logical step.</li></ul></div><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p xmlns="">This view can be enabled/disable in the launch configuration by checking "Execution tracing" in the Engine Addons tab.</p></div><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p xmlns="">The possible future logical steps are shown under the condition that the model is executing.</p></div><p><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/timeline.png" width="800" alt="Timeline"></span></p><p>In addition to displaying information, it also provides interaction with the user. During execution, it is possible to come back into the past by double-clicking on any of the blue logical steps. It does three things:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">it resets the solver&#8217;s state to the selected execution step,</li><li class="listitem">and it resets the model&#8217;s state to the selected execution step,</li><li class="listitem">it also forks the current timeline and create a new branch of execution.</li></ol></div><p><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/timeline/timeline_branch.png" width="200" alt="Timeline branch"></span></p><p>It is also possible to select a logical step and use the contextual menu to show its caller in the Sirius editor:</p><p><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/timeline/show_caller_timeline.png" alt="Show caller"></span></p><p><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/timeline/show_caller_editor.png" alt="Show caller"></span></p></div><div class="section" title="9.2.5.&nbsp;Stimuli Manager View"><div class="titlepage"><div><div><h3 class="title"><a name="mw-executing-concurrent-model-stimuli-manager-view-section"></a>9.2.5.&nbsp;Stimuli Manager View</h3></div></div></div><p>The Stimuli Manager view display the list of MSE and has interactions with the Logical Steps view.</p><p><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/stimuliManager_view.png" alt="Stimuli manager view"></span></p><p>When selecting an MSE you can constrain it by clicking on :</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Green down arrow : no user constraint for this MSE in the next LogicalStep</li><li class="listitem">Orange down arrow : forbid tick of this MSE in the next LogicalStep. The solver will propose only solutions where this MSE doesn&#8217;t tick.</li><li class="listitem">Orange up : force tick of this MSE in the next LogicalSteps. The solver will propose only solutions where this MSE ticks.</li></ul></div><p>Depending of your choice, the list of proposals will be changed in the Logical Steps view.</p><p>Moreover selecting an element in the Logical Steps view will highlight the MSE involved in the Stimuli Manager view.</p><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2><p xmlns="">This Stimuli Manager view can be used to manually simulate external events.</p></div></div><div class="section" title="9.2.6.&nbsp;Animation View"><div class="titlepage"><div><div><h3 class="title"><a name="mw-executing-concurrent-model-animation-view-section"></a>9.2.6.&nbsp;Animation View</h3></div></div></div><p>If you have defined a debug representation using <a class="xref" href="#defining-a-debug-representation-section" title="4.1.&nbsp;Defining a debug representation">Section&nbsp;4.1, &#8220;Defining a debug representation&#8221;</a>. You can use the following actions to start a debug session and toggle breakpoints.</p><div class="informalfigure"><div class="mediaobject"><img src="./Guide/images/workbench/modeling/debug_actions.png" alt="Debug actions"></div></div><p>A decorator is shown on all element holding a breakpoint.
The decorator also reflects the state of the breakpoint:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">enabled</li></ul></div><p><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/breakpoint_enabled.png" alt="breakpoint enabled"></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">disabled</li></ul></div><p><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/breakpoint_disabled.png" alt="breakpoint disabled"></span></p><p>When you hit a breakpoint on an element and are debugging with the decider "Step by step user decider", in order to restart the execution you must click the resume button from the debug perspective. Then don&#8217;t forget to select the next logical step to execute. Do the same when debugging in step by step with the decider "Step by step user decider".</p><p>While executing you can visualize execution data. This setting must be defined by hand since the data are language dependent (see <a class="xref" href="#defining-a-debug-representation-section" title="4.1.&nbsp;Defining a debug representation">Section&nbsp;4.1, &#8220;Defining a debug representation&#8221;</a> for more details). Here the current state is decorated with a green arrow.</p><p><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/execution_data_highlight.png" alt="Execution data highlight"></span></p><p>The default definition highlights the current instruction in yellow.</p></div><div class="section" title="9.2.7.&nbsp;Debug View"><div class="titlepage"><div><div><h3 class="title"><a name="mw-executing-concurrent-model-debug-view-section"></a>9.2.7.&nbsp;Debug View</h3></div></div></div><p>This view is part of the Debug perspective.
It presents an interface for Step by Step execution at the Logical Step level or even at the DSA level.
When an execution is paused, this view presents the current Logical Step.</p><p>When paused on a <a class="indexterm" name="d0e3277"></a>Logical Step, the Step over command allows to go to the next Logical Step. The Step Into command allows to run separately each of the internal DSA calls associated to the Logical Step.</p><p><span class="inlinemediaobject"><img src="./Guide/images/workbench/modeling/debug_view.png" alt="Debug view"></span></p></div><div class="section" title="9.2.8.&nbsp;Variable View"><div class="titlepage"><div><div><h3 class="title"><a name="mw-executing-concurrent-model-variable-view-section"></a>9.2.8.&nbsp;Variable View</h3></div></div></div><p>This view is available on the Debug perspective.
When an execution is paused, this view presents the current <a class="indexterm" name="d0e3293"></a>Runtime Data as an EMF based tree.</p></div></div><div class="section" title="9.3.&nbsp;Exhaustive Exploration and Verification at Model Design Time"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="section-exhaustive-exploration-mw"></a>9.3.&nbsp;Exhaustive Exploration and Verification at Model Design Time</h2></div></div></div><p>One benefit of assigning an execution semantics onto a DSL is to pave the way for exhaustive exploration. Exhaustive exploration is a technique used in complex and safety system design to ensure the correct adequacy between the system requirements and the real behavior of the system. This is made possible by exploring and verifying properties on an exhaustive finite state space of the system representing the whole set of relevant configurations your system may reach.</p><p>Gemoc provides the first step towards exploration and verification by building the graph of all the possible schedules of a system model constrained with <span class="strong"><strong><a class="indexterm" name="d0e3305"></a>MoCCML</strong></span>. It can then be used in a model-checking tool to verify behavioral properties of the <span class="strong"><strong><a class="indexterm" name="d0e3311"></a>MoCCML</strong></span> models. Thanks to Gemoc approach the execution model is explicited and can be manipulated to for instance:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Verify temporal logic properties (safety and liveness) on the state space graph structure;</li><li class="listitem">Extract a schedule that optimizes specific objectives;</li><li class="listitem">Extract system properties by static analysis of an event-graph representation of the execution model.</li></ul></div><p>In the Gemoc approach the steps toward exploration and verification during language design are described in <a class="xref" href="#section-exhaustive-exploration-lw" title="3.2.5.&nbsp;Exhaustive Exploration and Verification at Language Design Time">Section&nbsp;3.2.5, &#8220;Exhaustive Exploration and Verification at Language Design Time&#8221;</a>.</p><p>Besides the steps toward exploration and verification during modeling design are:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Generate a model for an exhaustive exploration tool using the configuration file;</li><li class="listitem">Invoke <span class="strong"><strong><a class="indexterm" name="d0e3340"></a>ClockSystem</strong></span>'s services to generate a finite state space of the system;</li><li class="listitem">Formalize a set of properties to verify(in <span class="strong"><strong><a class="indexterm" name="d0e3349"></a>CDL</strong></span> language for instance);</li><li class="listitem">Use a model checking infrastructure to perform the verification of properties on the finite state space(like <span class="emphasis"><em>OBP</em></span>).</li></ul></div><p>The flow toward exhaustive exploration and verification in Gemoc is presented in figure <a class="xref" href="#figure-exploration-flow" title="Figure&nbsp;3.3.&nbsp;The exploration and verification flow in Gemoc">Figure&nbsp;3.3, &#8220;The exploration and verification flow in Gemoc&#8221;</a> and described in the following sections.</p><div class="section" title="9.3.1.&nbsp;Generating inputs for Exhaustive Exploration tools : T2 at Modeling Level"><div class="titlepage"><div><div><h3 class="title"><a name="_generating_inputs_for_exhaustive_exploration_tools_emphasis_t2_emphasis_at_modeling_level"></a>9.3.1.&nbsp;Generating inputs for Exhaustive Exploration tools : <span class="emphasis"><em>T2</em></span> at Modeling Level</h3></div></div></div><p>ECL specification is the starting point toward exploration. In this specification we define events associated with the actions of the <span class="strong"><strong><a class="indexterm" name="d0e3373"></a>DSA</strong></span> and also events associated with the <span class="strong"><strong><a class="indexterm" name="d0e3379"></a>DSE</strong></span> events. On these event bindings we apply the <span class="strong"><strong><a class="indexterm" name="d0e3385"></a>MoccML</strong></span> relations of the MoC Library to schedule the events. A finite state space of a system uses such scheduling constraints and therefore is generated from using a transformation:</p><p>In the Modeling workbench where the DSL instance model is realized, the transformation <span class="emphasis"><em>T2</em></span> takes as input the instance system model to generate a <span class="emphasis"><em>MOCC</em></span> instance model described in <span class="strong"><strong><a class="indexterm" name="d0e3399"></a>ClockSystem</strong></span> specification format.
Th call the transformation right-click on your model &#8594; <span class="inlinemediaobject"><img src="./Guide/images/exhaustive_exploration/clocksystem_logo_32x32.png" width="16" height="16" alt="clocksystem_logo_32x32"></span>Exhaustive Exploration &#8594; <span class="inlinemediaobject"><img src="./Guide/images/exhaustive_exploration/cs_t2_16x16.png" width="16" height="16" alt="cs_t2_16x16"></span>Generate ClockSystem file from DSL model.</p><p>A wizard allows you to select one xdsml project referencing a concurrent model, click on finish to execute the transformation.
<span class="emphasis"><em>T2</em></span>  generates the .clocksystem file corresponding to the Mocc-based specification model to take as input in <span class="strong"><strong><a class="indexterm" name="d0e3424"></a>ClockSystem</strong></span>.</p><div class="figure"><a name="figure-xdsml-wizard-exploration"></a><div class="figure-contents"><div class="mediaobject"><img src="./Guide/images/exhaustive_exploration/select_xdsml_wizard.png" width="400" alt="Select Xsdml Wizard"></div></div><p class="title"><b>Figure&nbsp;9.1.&nbsp;Xdsml Wizard</b></p></div><br class="figure-break"></div><div class="section" title="9.3.2.&nbsp;ClockSystem"><div class="titlepage"><div><div><h3 class="title"><a name="__emphasis_role_strong_indexterm_primary_clocksystem_primary_indexterm_clocksystem_emphasis"></a>9.3.2.&nbsp;<span class="strong"><strong><a class="indexterm" name="d0e3441"></a>ClockSystem</strong></span></h3></div></div></div><div class="section" title="9.3.2.1.&nbsp;Description"><div class="titlepage"><div><div><h4 class="title"><a name="_description_2"></a>9.3.2.1.&nbsp;Description</h4></div></div></div><p><span class="strong"><strong><a class="indexterm" name="d0e3450"></a>ClockSystem</strong></span> is a meta-described clock-constraint engine developped during Gemoc which embeds a formal model of logical time. It relies on the primitives provided by Clock Constraint Specification Language (CCSL) defining a simple yet powerful toolkit for logical time specifications. It also extends the CCSL language, through an automata-based approach, with domain-specific user-defined operators and provides an embedded DSL for writing executable specification in a language close to the abstract CCSL notation.</p><p><span class="strong"><strong><a class="indexterm" name="d0e3457"></a>ClockSystem</strong></span> toolkit provides the possibility to perform exhaustive reachability analysis of relation specifications (e.g. <span class="strong"><strong><a class="indexterm" name="d0e3463"></a>MoCCML</strong></span> or CCSL specifications). The possibility to exhaustively explore the state-space of a given specification paves the way to verification of properties by model-checking as such an interface with the <span class="emphasis"><em>OBP</em></span> model-checking toolkit was developed.</p></div><div class="section" title="9.3.2.2.&nbsp;Using ClockSystem"><div class="titlepage"><div><div><h4 class="title"><a name="_using_clocksystem"></a>9.3.2.2.&nbsp;Using ClockSystem</h4></div></div></div><p><span class="strong"><strong><a class="indexterm" name="d0e3476"></a>ClockSystem</strong></span> consists of an image and a Pharo VM which depends on the operating system. Their integration in Gemoc studio can be realized through the discovery mecanism. To activate discovery mecanism click on the Gemoc icon in toolbar as illustrated <a class="xref" href="#figure-discovery" title="Figure&nbsp;9.2.&nbsp;Discovery">Figure&nbsp;9.2, &#8220;Discovery&#8221;</a>.</p><div class="figure"><a name="figure-discovery"></a><div class="figure-contents"><div class="mediaobject"><img src="./Guide/images/exhaustive_exploration/discovery.png" width="400" alt="Discovery"></div></div><p class="title"><b>Figure&nbsp;9.2.&nbsp;Discovery</b></p></div><br class="figure-break"><p>Select <span class="strong"><strong><a class="indexterm" name="d0e3495"></a>ClockSystem</strong></span> add on <a class="xref" href="#figure-discovery-comp" title="Figure&nbsp;9.3.&nbsp;Discovery Components">Figure&nbsp;9.3, &#8220;Discovery Components&#8221;</a> and click on <span class="emphasis"><em>Finish</em></span>.</p><div class="figure"><a name="figure-discovery-comp"></a><div class="figure-contents"><div class="mediaobject"><img src="./Guide/images/exhaustive_exploration/discovery_comp.png" width="400" alt="Discovery Components"></div></div><p class="title"><b>Figure&nbsp;9.3.&nbsp;Discovery Components</b></p></div><br class="figure-break"><p>Select the unique feature and <span class="emphasis"><em>Next</em></span> as illustrated in <a class="xref" href="#figure-dicovery-cs" title="Figure&nbsp;9.4.&nbsp;Discovery Clocksystem">Figure&nbsp;9.4, &#8220;Discovery Clocksystem&#8221;</a>. Then again select <span class="emphasis"><em>Next</em></span>.</p><div class="figure"><a name="figure-dicovery-cs"></a><div class="figure-contents"><div class="mediaobject"><img src="./Guide/images/exhaustive_exploration/discovery_cs.png" width="400" alt="Discovery for ClockSystem"></div></div><p class="title"><b>Figure&nbsp;9.4.&nbsp;Discovery Clocksystem</b></p></div><br class="figure-break"><p>Approve the licence and click <span class="emphasis"><em>Finish</em></span>. Gemoc must be restarted(this should be automatically prompted to the user).</p><div class="figure"><a name="figure-dicovery-lic"></a><div class="figure-contents"><div class="mediaobject"><img src="./Guide/images/exhaustive_exploration/discovery_lic.png" width="400" alt="Approve licence of ClockSystem"></div></div><p class="title"><b>Figure&nbsp;9.5.&nbsp;Approve licensing</b></p></div><br class="figure-break"><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p xmlns=""><span class="strong"><strong><a class="indexterm" name="d0e3550"></a>ClockSystem</strong></span> VM and Image will be extracted in your default temporary folder at the first call of Clocksystem services. Although Gemoc provides an action to invoke <span class="strong"><strong><a class="indexterm" name="d0e3556"></a>ClockSystem</strong></span>, it can be also used as a standalone application outside of Gemoc studio.</p></div><p>Calling <span class="strong"><strong><a class="indexterm" name="d0e3564"></a>ClockSystem</strong></span> from Gemoc studio on the file generated by <span class="emphasis"><em>T2</em></span>(.clocksystem) generates exploration results including a LTS.
To invoke ClockSystem right-click on the <span class="strong"><strong><a class="indexterm" name="d0e3573"></a>ClockSystem</strong></span> file .clocksystem&#8594;<span class="inlinemediaobject"><img src="./Guide/images/exhaustive_exploration/clocksystem_logo_32x32.png" width="16" height="16" alt="clocksystem_logo_32x32"></span>ClockSystem &#8594;<span class="inlinemediaobject"><img src="./Guide/images/exhaustive_exploration/clocksystem_logo_32x32.png" width="16" height="16" alt="clocksystem_logo_32x32"></span>Execute ClockSystem .</p><p>Generated files are:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">.lts file stores labeled transition system (LTS) which represents all the possible configurations the system can reach.</li><li class="listitem">obp.lts file stores labeled transition system (LTS) in a format understandable by <a class="link" href="http://www.obpcdl.org/doku.php" target="_top">OBP</a>.</li><li class="listitem">.results extract global information about the size of the explored graph(number of states, transitions and time of exploration).</li><li class="listitem">full.gml is the representation of the LTS graph stored in a Graph Modelling Language (<a class="link" href="http://www.fim.uni-passau.de/fileadmin/files/lehrstuhl/brandenburg/projekte/gml/gml-technical-report.pdf" target="_top">GML</a>)  format providing a simple syntax to represent graph.</li><li class="listitem">fcr.gml is the representation of the LTS graph with the coincidences flatten for Fiacre stored in GML.</li><li class="listitem">.mtx stores the representation of the LTS graph as a <a class="link" href="http://math.nist.gov/MatrixMarket/formats.html" target="_top">Matrix Market</a> providing a simple and standardised way to exchange matrix data.</li></ul></div><p>The picture below illustrates an instance and its corresponding exploration graph <a class="xref" href="#figure-instance-graph" title="Figure&nbsp;9.6.&nbsp;Exploration Graph for an Instance">Figure&nbsp;9.6, &#8220;Exploration Graph for an Instance&#8221;</a>.</p><div class="figure"><a name="figure-instance-graph"></a><div class="figure-contents"><div class="mediaobject"><img src="./Guide/images/exhaustive_exploration/instance_graph.png" width="500" alt="Exploration Graph for an Instance"></div></div><p class="title"><b>Figure&nbsp;9.6.&nbsp;Exploration Graph for an Instance</b></p></div><br class="figure-break"></div></div><div class="section" title="9.3.3.&nbsp;Defining Properties"><div class="titlepage"><div><div><h3 class="title"><a name="_defining_properties"></a>9.3.3.&nbsp;Defining Properties</h3></div></div></div><p>The properties are expressed using assertions or/and observer automata with appropriate variables and clocks of the model instance.  Several groups of properties are interesting to verify at different level in the Gemoc process.
Properties can be expressed on the model instance based on variables and clocks of one (or several) model element(s) and allows to check deadlocks, precedency between events, reachability etc&#8230;&#8203; The expression of the properties are model dependent so on each instance you must rewrite the properties.
However properties can also be related to representative instances which are based on a mapping between a generic abstract syntax, or a metamodel pattern and a mapped Mocc on this abstract syntax. In this approach we are looking for a reducing number of instance to verify and increase the generality of the verification approach.
A representative instance is a model that spreads a configuration that is structuraly relevant regarding the metamodel pattern.
On this representative model, we can verify properties tightly linked with the <span class="strong"><strong><a class="indexterm" name="d0e3641"></a>MoCCML</strong></span> semantics.</p><p>For instance the model <a class="xref" href="#figure-instance-graph" title="Figure&nbsp;9.6.&nbsp;Exploration Graph for an Instance">Figure&nbsp;9.6, &#8220;Exploration Graph for an Instance&#8221;</a> can be considered as a representative instance of a <span class="emphasis"><em>Classifier-Relationship</em></span> metamodel pattern.
On it wish to apply a Mocc SDF semantics and therefore generic properties can be expressed as:
- If all the input ports of a <span class="emphasis"><em>Block</em></span> haven&#8217;t enought data to consume then the <span class="emphasis"><em>Block</em></span> canno&#8217;t execute.
- If the number of data of an output port is less than the <span class="emphasis"><em>Connector</em></span> capacity minus the current size of the <span class="emphasis"><em>Connector</em></span> then the <span class="emphasis"><em>Block</em></span> can execute.
- In any case, the current size of a <span class="emphasis"><em>Connector</em></span> canno&#8217;t exceed its capacity.</p><p>These properties are representatives of the Mocc and could be verified for every model. So we verify these properties on the representative model instance, to improve the trust on our pattern.</p><div class="section" title="9.3.3.1.&nbsp;Expressing Properties (CDL Formalization)"><div class="titlepage"><div><div><h4 class="title"><a name="_expressing_properties_cdl_formalization"></a>9.3.3.1.&nbsp;Expressing Properties (CDL Formalization)</h4></div></div></div><p>Properties have to be formalized for a checking tool. As <span class="strong"><strong><a class="indexterm" name="d0e3679"></a>ClockSystem</strong></span> provides a connector to <span class="emphasis"><em>OBP</em></span> model-checking infrastructure we present a <span class="emphasis"><em>CDL</em></span> formalization of the properties, which is also an <span class="emphasis"><em>OBP</em></span> compatible format. The <span class="emphasis"><em>CDL</em></span> formalism provides 3 distincts constructs for expressing safety and bounded-liveness properties predicates to express invariants over states, observers to express invariants over execution traces and property patterns, for simplifying the expression of complex properties.</p><p>Properties are described using CDL syntax and must be specified at instance level therefore the name of the processes or variable used in properties reflects the names and variables of instances within the verified model. CDL properties can be written in a simple text file with the extension .cdl.</p><p>For instance we impose our model to respect a SDF-like semantics and therefore we are interested in verifying properties that defines SDF:
- If all the input ports of a <span class="emphasis"><em>Block</em></span> haven&#8217;t enought data to consume then the <span class="emphasis"><em>Block</em></span> canno&#8217;t be executed.
- The current size of a <span class="emphasis"><em>Connector</em></span> canno&#8217;t exceed its capacity. An internal moc variable called <span class="emphasis"><em>current_size</em></span> increments or decrements respectively if a data is <span class="emphasis"><em>push</em></span> or <span class="emphasis"><em>pop</em></span> within the <span class="emphasis"><em>Connector</em></span>, and this variable must be always lower than the maximal capacity of the Connector.</p><p>In the listing below three properties are encoded in CDL.</p><a name="cdl_properties_example"></a><pre class="screen">// Size of connector A to B never exceeds its capacity
predicate p2 is { {connectorAB}1 : currentsize &lt;= 4 }

// If Output channel is full the Block desnt execute
predicate p3 is { {connectorBA}1 : currentsize + {outport1}1 : rate &lt;= {connectorBA}1 : capacity }
property o1 is {
	start -- / p3 // -&gt; s1
	; s1 -- / / eB / -&gt; reject
	; s1 -- / not p3 / / -&gt; start
}

// Select the properties to be checked
cdl representativeInstance is {
	properties
	, o1
	assert p1
	; assert p2
	main is {skip}
}</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">The size of channels between A and B canno&#8217;t exceed the capacity of the connector. This is described with predicates <span class="emphasis"><em>p1</em></span> and <span class="emphasis"><em>p2</em></span> that check if the fifo size limit is reached.</li><li class="listitem">It is not possible to write in a <span class="emphasis"><em>Connector</em></span> if it is full. This is checked via the observer automata o1 for one <span class="emphasis"><em>Connector</em></span>. If the size of the <span class="emphasis"><em>Connector</em></span> plus the output rate exceed the size limit and if then <span class="emphasis"><em>Block</em></span> execute(eB) the observer o1 goes to reject state.</li></ul></div></div><div class="section" title="9.3.3.2.&nbsp;OBP example"><div class="titlepage"><div><div><h4 class="title"><a name="_obp_example"></a>9.3.3.2.&nbsp;OBP example</h4></div></div></div><p>The <span class="emphasis"><em>OBP</em></span> Observation Engine checks a set of CDL properties using reachability strategy (breath-first-search algorithm) on the graph induced by the parallel composition of the system, with its contexts.</p><p>In the context of Gemoc OBP <span class="emphasis"><em>OBP</em></span> requires two input files i.e the LTS generated from <span class="emphasis"><em>ClockSystem</em></span> and the CDL properties.
This operation has to be done manually and is not part of the Gemoc studio tooling since OBP is not integrated to the studio.</p></div></div></div></div><div class="chapter" title="Chapter&nbsp;10.&nbsp;Coordinating Model Execution"><div class="titlepage"><div><div><h2 class="title"><a name="modeling-workbench-coordinating-model-execution-section"></a>Chapter&nbsp;10.&nbsp;Coordinating Model Execution</h2></div></div></div><p>In the modeling workbench, a system designer can use BCOoL operators to automate the coordination of models. In this section, we present as running example the coordination of the heterogeneous model of a Coffee Machine. To coordinate these models, we use the language workbench to build a simple BCOoL operator between the TFSM and Activity Language. Then, in the modeling workbench, we use this operator to coordinate the model of a coffee machine.</p><div class="section" title="10.1.&nbsp;Running Example: Coordination of a Coffee Machine Model"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_running_example_coordination_of_a_coffee_machine_model"></a>10.1.&nbsp;Running Example: Coordination of a Coffee Machine Model</h2></div></div></div><p>To present BCOoL, we develop a simple operator between the TFSM and Activity language. The operator coordinates FSMEvents from the TFSM and Actions from the Activity language by comparing theirs names.</p><div class="informalfigure"><div class="mediaobject"><img src="http://timesquare.inria.fr/BCOoL/images/coffeemachine/coffeemachine.png" alt="The Heterogeneous Model of a Coffee Machine"></div></div><p>The picture illustrates the heterogeneous models of a coffee machine. To coordinate the models, we have to synchronize the activity CoffeeAlgorithm and the TFSM CoffeeCoin by coordinating the corresponding Actions and FSMEvent. In the following, we first use the language workbench to develop this operator. We then use this operator in the modeling workbench to coordinate the model of a coffee machine.</p><div class="section" title="10.1.1.&nbsp;Preparing the Language Workbench"><div class="titlepage"><div><div><h3 class="title"><a name="_preparing_the_language_workbench"></a>10.1.1.&nbsp;Preparing the Language Workbench</h3></div></div></div><p>In the language workbench, we need the TFSM and Activity language. For the TFSM language, it is only necessary to go to <span class="emphasis"><em>File</em></span>, <span class="emphasis"><em>New</em></span>, and then <span class="emphasis"><em>Example</em></span>. In the wizard, we select the GEMOC TFSM language. Conversely, to get the activity language, we need to clone the <a class="link" href="https://github.com/gemoc/activitydiagram" target="_top">activity repository</a>. Then, in the workbench, we need to import all the projects from the folders <span class="emphasis"><em>activitydiagram/dev/gemoc_commons/</em></span> and <span class="emphasis"><em>activitydiagram/dev/gemoc_concurrent/language_workbench/</em></span>. The language workbench should look as in the picture.</p><div class="informalfigure"><div class="mediaobject"><img src="http://timesquare.inria.fr/BCOoL/images/coffeemachine/coffeemachine0.jpg" alt="Language Workbench"></div></div></div><div class="section" title="10.1.2.&nbsp;Getting the Modeling Workbench"><div class="titlepage"><div><div><h3 class="title"><a name="_getting_the_modeling_workbench"></a>10.1.2.&nbsp;Getting the Modeling Workbench</h3></div></div></div><p>In the modeling workbench, we import the project <span class="emphasis"><em>org.gemoc.bcool.example.producttfsmandactivity</em></span> from <a class="link" href="https://github.com/gemoc/gemoc-studio/tree/master/official_samples/bcool_TFSMAndActivity/modeling_workbench" target="_top">here</a>. The second workbench should look as in the picture. The project includes the operator and the models of the coffee machine.</p><div class="informalfigure"><div class="mediaobject"><img src="http://timesquare.inria.fr/BCOoL/images/coffeemachine/coffeemachine1.jpg" alt="Modeling Workbench"></div></div></div><div class="section" title="10.1.3.&nbsp;Running the example"><div class="titlepage"><div><div><h3 class="title"><a name="_running_the_example"></a>10.1.3.&nbsp;Running the example</h3></div></div></div><p>To execute the coordinated system, we first need to go to <span class="emphasis"><em>Debug Configuration</em></span> and configure the <span class="strong"><strong>Gemoc Coordinated eXecutable Models</strong></span> as shown in the picture.</p><div class="informalfigure"><div class="mediaobject"><img src="http://timesquare.inria.fr/BCOoL/images/coffeemachine/coffeemachine2.jpg" alt="Launch"></div></div><p>Once launched, the engine provides several options to drive the execution of the models. For instance, it enables a system designer to select the next valid execution step. Also, the workbench provides the animation of models.</p><div class="informalfigure"><div class="mediaobject"><img src="http://timesquare.inria.fr/BCOoL/images/coffeemachine/coffeemachine3.jpg" alt="Launch"></div></div><p>For further information about BCOoL please visit <a class="link" href="http://timesquare.inria.fr/BCOoL" target="_top">BCOoL site</a>. If you are experimenting problems during the compilation of the example, please email to <a class="link" href="mailto:matias.vara_larsen@inria.fr" target="_top">me</a>.</p></div></div></div><div class="bibliography" title="Bibliography"><div class="titlepage"><div><div><h2 class="title"><a name="_bibliography"></a>Bibliography</h2></div></div></div><p>The bibliography lists some useful external documents. For a more complete list, please refer to the publications section on <a class="link" href="http://gemoc.org" target="_top">http://gemoc.org</a> site.</p><div class="bibliodiv" title="Articles"><h3 class="title"><a name="d0e3876"></a>Articles</h3><div class="bibliomixed"><a name="d0e3879"></a><p class="bibliomixed">
<span class="bibliomisc"><a name="globalizing-modeling-languages"></a>[globalizing-modeling-languages] <a class="link" href="http://hal.inria.fr/hal-00994551" target="_top">Globalizing Modeling Languages</a> (Benoit Combemale, Julien Deantoni, Benoit Baudry, Robert France, Jean-Marc Jezequel, Jeff Gray), In Computer, IEEE, 2014.</span>
</p></div></div></div><div class="glossary" title="Glossary"><div class="titlepage"><div><div><h2 class="title"><a name="_glossary"></a>Glossary</h2></div></div></div><div class="variablelist"><dl><dt><span class="term">AS</span></dt><dd>Abstract Syntax.</dd><dt><span class="term">API</span></dt><dd>Application Programming Interface.</dd><dt><span class="term">Behavioral Semantics</span></dt><dd>see Execution semantics.</dd><dt><span class="term">CCSL</span></dt><dd>Clock-Constraint Specification Language.</dd><dt><span class="term">Domain Engineer</span></dt><dd>user of the Modeling Workbench.</dd><dt><span class="term">DSA</span></dt><dd>Domain-Specific Action.</dd><dt><span class="term">DSE</span></dt><dd>Domain-Specific Event.</dd><dt><span class="term">DSML</span></dt><dd>Domain-Specific (Modeling) Language.</dd><dt><span class="term">Dynamic Semantics</span></dt><dd>see Execution semantics.</dd><dt><span class="term">Eclipse Plugin</span></dt><dd>an Eclipse plugin is a Java project with associated metadata that can be bundled and deployed as a contribution to an Eclipse-based IDE.</dd><dt><span class="term">ED</span></dt><dd>Execution Data.</dd><dt><span class="term">Execution Semantics</span></dt><dd>Defines when and how elements of a language will produce a model behavior.</dd><dt><span class="term">GEMOC Studio</span></dt><dd>Eclipse-based studio integrating both a language workbench and the corresponding modeling workbenches</dd><dt><span class="term">Language Workbench</span></dt><dd>a language workbench offers the facilities for designing and implementing modeling languages.</dd><dt><span class="term">Language Designer</span></dt><dd>a language designer is the user of the language workbench.</dd><dt><span class="term">MoCC</span></dt><dd>Model of Concurrency and Communication</dd><dt><span class="term">Model</span></dt><dd>model which contributes to the convent of a View</dd><dt><span class="term">Modeling Workbench</span></dt><dd>a modeling workbench offers all the required facilities for editing and animating domain specific models according to a given modeling language.</dd><dt><span class="term">MSA</span></dt><dd>Model-Specific Action.</dd><dt><span class="term">MSE</span></dt><dd>Model-Specific Event.</dd><dt><span class="term">RTD</span></dt><dd>RunTime Data.</dd><dt><span class="term">Static semantics</span></dt><dd>Constraints on a model that cannot be expressed in the metamodel.  For example, static semantics can be expressed as OCL invariants.</dd><dt><span class="term">xDSML</span></dt><dd>Executable Domain-Specific Modeling Language.</dd></dl></div></div><div class="index" title="Index"><div class="titlepage"><div><div><h2 class="title"><a name="_index"></a>Index</h2></div></div></div><div class="index"><div class="indexdiv"><h3>A</h3><dl><dt>Animation Manager, <a class="indexterm" href="#_sequential_debug_mode">Sequential Debug mode</a>, <a class="indexterm" href="#_concurrent_debug_mode">Concurrent Debug mode</a></dt></dl></div><div class="indexdiv"><h3>B</h3><dl><dt>BCOoL, <a class="indexterm" href="#_what_is_indexterm_primary_bcool_primary_indexterm_bcool">What is BCOoL?</a></dt><dt>Both representations (graphical or textual) can be used for edition of models, <a class="indexterm" href="#_presentation_of_the_moccml_editor">Presentation of the MoCCML Editor</a></dt></dl></div><div class="indexdiv"><h3>C</h3><dl><dt>CDL, <a class="indexterm" href="#section-exhaustive-exploration-mw">Exhaustive Exploration and Verification at Model Design Time</a></dt><dt>ClockSystem, <a class="indexterm" href="#section-exhaustive-exploration-mw">Exhaustive Exploration and Verification at Model Design Time</a>, <a class="indexterm" href="#_generating_inputs_for_exhaustive_exploration_tools_emphasis_t2_emphasis_at_modeling_level">Generating inputs for Exhaustive Exploration tools : T2 at Modeling Level</a>, <a class="indexterm" href="#__emphasis_role_strong_indexterm_primary_clocksystem_primary_indexterm_clocksystem_emphasis">ClockSystem</a>, <a class="indexterm" href="#_description_2">Description</a>, <a class="indexterm" href="#_using_clocksystem">Using ClockSystem</a>, <a class="indexterm" href="#_expressing_properties_cdl_formalization">Expressing Properties (CDL Formalization)</a></dt><dt>Concurrent Engine, <a class="indexterm" href="#_executing_model_with_the_indexterm_primary_concurrent_engine_primary_indexterm_concurrent_engine">Executing model with the Concurrent Engine</a></dt></dl></div><div class="indexdiv"><h3>D</h3><dl><dt>Decider, <a class="indexterm" href="#_concurrent_general_options">Concurrent General options</a></dt><dt>DSA, <a class="indexterm" href="#_generating_inputs_for_exhaustive_exploration_tools_emphasis_t1_emphasis_at_language_level">Generating inputs for Exhaustive Exploration tools : T1 at Language Level</a>, <a class="indexterm" href="#_generating_inputs_for_exhaustive_exploration_tools_emphasis_t2_emphasis_at_modeling_level">Generating inputs for Exhaustive Exploration tools : T2 at Modeling Level</a></dt><dt>DSE, <a class="indexterm" href="#_generating_inputs_for_exhaustive_exploration_tools_emphasis_t1_emphasis_at_language_level">Generating inputs for Exhaustive Exploration tools : T1 at Language Level</a>, <a class="indexterm" href="#_generating_inputs_for_exhaustive_exploration_tools_emphasis_t2_emphasis_at_modeling_level">Generating inputs for Exhaustive Exploration tools : T2 at Modeling Level</a></dt></dl></div><div class="indexdiv"><h3>E</h3><dl><dt>ECL, <a class="indexterm" href="#_introduction_2">Introduction</a>, <a class="indexterm" href="#section-exhaustive-exploration-lw">Exhaustive Exploration and Verification at Language Design Time</a>, <a class="indexterm" href="#_generating_inputs_for_exhaustive_exploration_tools_emphasis_t1_emphasis_at_language_level">Generating inputs for Exhaustive Exploration tools : T1 at Language Level</a></dt><dt>EMF, <a class="indexterm" href="#defining-a-concrete-syntax-with-emf-section">Defining a Concrete Syntax with EMF</a></dt><dt>EMF Tree Editor, <a class="indexterm" href="#section-modeling-workbench-editing-model-with-emf-tree-editor">Editing model with EMF Tree Editor</a></dt><dt>Engine, <a class="indexterm" href="#_sequential_run_mode">Sequential Run mode</a>, <a class="indexterm" href="#_sequential_debug_mode">Sequential Debug mode</a>, <a class="indexterm" href="#_concurrent_run_mode">Concurrent Run mode</a>, <a class="indexterm" href="#_concurrent_debug_mode">Concurrent Debug mode</a></dt></dl></div><div class="indexdiv"><h3>F</h3><dl><dt>Feedback Policy, <a class="indexterm" href="#_creating_a_indexterm_primary_feedback_policy_primary_indexterm_feedback_policy">Creating a Feedback Policy</a></dt><dt>Feedback Specification, <a class="indexterm" href="#_defining_the_indexterm_primary_feedback_specification_primary_indexterm_feedback_specification">Defining the Feedback Specification</a></dt></dl></div><div class="indexdiv"><h3>G</h3><dl><dt>GEL, <a class="indexterm" href="#_purpose_6">Purpose</a></dt><dt>GEMOC Language Workbench, <a class="indexterm" href="#_overview">Overview</a></dt></dl></div><div class="indexdiv"><h3>I</h3><dl><dt>import, <a class="indexterm" href="#_import_language">Import Language</a></dt></dl></div><div class="indexdiv"><h3>L</h3><dl><dt>Language Designer, <a class="indexterm" href="#_overview">Overview</a></dt><dt>Language Integrator, <a class="indexterm" href="#_overview">Overview</a></dt><dt>Language Workbench, <a class="indexterm" href="#_overview">Overview</a></dt><dt>Logical Step, <a class="indexterm" href="#_concurrent_general_options">Concurrent General options</a>, <a class="indexterm" href="#mw-executing-concurrent-model-debug-view-section">Debug View</a></dt></dl></div><div class="indexdiv"><h3>M</h3><dl><dt>MoCCML, <a class="indexterm" href="#_introduction_2">Introduction</a>, <a class="indexterm" href="#section-exhaustive-exploration-lw">Exhaustive Exploration and Verification at Language Design Time</a>, <a class="indexterm" href="#_generating_inputs_for_exhaustive_exploration_tools_emphasis_t1_emphasis_at_language_level">Generating inputs for Exhaustive Exploration tools : T1 at Language Level</a>, <a class="indexterm" href="#section-exhaustive-exploration-mw">Exhaustive Exploration and Verification at Model Design Time</a>, <a class="indexterm" href="#_description_2">Description</a>, <a class="indexterm" href="#_defining_properties">Defining Properties</a></dt><dt>MoccML, <a class="indexterm" href="#_generating_inputs_for_exhaustive_exploration_tools_emphasis_t1_emphasis_at_language_level">Generating inputs for Exhaustive Exploration tools : T1 at Language Level</a>, <a class="indexterm" href="#_generating_inputs_for_exhaustive_exploration_tools_emphasis_t2_emphasis_at_modeling_level">Generating inputs for Exhaustive Exploration tools : T2 at Modeling Level</a></dt><dt>Modeling workbench, <a class="indexterm" href="#_modeling_workbench_overview">Modeling workbench overview</a></dt><dt>mtl-gen, <a class="indexterm" href="#_generating_inputs_for_exhaustive_exploration_tools_emphasis_t1_emphasis_at_language_level">Generating inputs for Exhaustive Exploration tools : T1 at Language Level</a></dt><dt>MultiBranch Timeline, <a class="indexterm" href="#_sequential_run_mode">Sequential Run mode</a>, <a class="indexterm" href="#_sequential_debug_mode">Sequential Debug mode</a>, <a class="indexterm" href="#_concurrent_run_mode">Concurrent Run mode</a>, <a class="indexterm" href="#_concurrent_debug_mode">Concurrent Debug mode</a></dt><dt>MultiDimensional Timeline, <a class="indexterm" href="#_sequential_debug_mode">Sequential Debug mode</a></dt></dl></div><div class="indexdiv"><h3>R</h3><dl><dt>Runtime Data, <a class="indexterm" href="#_sequential_debug_mode">Sequential Debug mode</a>, <a class="indexterm" href="#mw-executing-sequential-model-variable-view-section">Variable View</a>, <a class="indexterm" href="#_concurrent_debug_mode">Concurrent Debug mode</a>, <a class="indexterm" href="#mw-executing-concurrent-model-variable-view-section">Variable View</a></dt></dl></div><div class="indexdiv"><h3>S</h3><dl><dt>Sequential Engine, <a class="indexterm" href="#_executing_model_with_the_indexterm_primary_sequential_engine_primary_indexterm_sequential_engine">Executing model with the Sequential Engine</a></dt><dt>Sirius, <a class="indexterm" href="#defining-a-concrete-syntax-with-sirius-section">Defining a Concrete Syntax with Sirius</a>, <a class="indexterm" href="#defining-a-debug-representation-section">Defining a debug representation</a>, <a class="indexterm" href="#_the_debug_representation_wizard">The debug representation wizard</a>, <a class="indexterm" href="#_debug_layer">Debug layer</a>, <a class="indexterm" href="#modeling-workbench-editing-model-with-sirius-section">Editing model with Sirius</a></dt><dt>Sirius), <a class="indexterm" href="#modeling-workbench-editing-model-with-sirius-section">Editing model with Sirius</a></dt><dt>Stimuli Manager, <a class="indexterm" href="#_concurrent_debug_mode">Concurrent Debug mode</a></dt></dl></div><div class="indexdiv"><h3>T</h3><dl><dt>TFSM, <a class="indexterm" href="#_modeling_workbench_overview">Modeling workbench overview</a></dt><dd><dl><dt>Language Workbench, <a class="indexterm" href="#_overview">Overview</a></dt><dt>Modeling workbench, <a class="indexterm" href="#_modeling_workbench_overview">Modeling workbench overview</a></dt></dl></dd></dl></div></div></div></div></div></body></html>