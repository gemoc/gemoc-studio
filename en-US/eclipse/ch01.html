
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <title>Chapter&nbsp;1.&nbsp;GEMOC Language Workbench</title><link rel="stylesheet" type="text/css" href="css/gemocorg.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="index.html" title="GEMOC Studio Guide"><link rel="up" href="index.html" title="GEMOC Studio Guide"><link rel="prev" href="pr01.html" title="Introduction"><link rel="next" href="ch02.html" title="Chapter&nbsp;2.&nbsp;Gemoc Modeling workbench"><meta xmlns="http://www.w3.org/1999/xhtml" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><p xmlns="http://www.w3.org/1999/xhtml" xmlns:d="http://docbook.org/ns/docbook" id="title"><a href="http://www.gemoc.org" class="site_href"><strong>GEMOC.org</strong></a><a href="http://gemoc.github.io//" class="doc_href"><strong>Community Documentation</strong></a></p><ul xmlns="http://www.w3.org/1999/xhtml" xmlns:d="http://docbook.org/ns/docbook" class="docnav"><li class="previous"><a accesskey="p" href="pr01.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="ch02.html"><strong>Next</strong></a></li></ul><div class="chapter" title="Chapter&nbsp;1.&nbsp;GEMOC Language Workbench"><div class="titlepage"><div><div><h2 class="title"><a name="_gemoc_language_workbench_inlinemediaobject_imageobject_imagedata_fileref_images_icons_iconegemoclanguage_16_png_contentwidth_16_contentdepth_16_imageobject_textobject_phrase_iconegemoclanguage_16_phrase_textobject_inlinemediaobject"></a>Chapter&nbsp;1.&nbsp;GEMOC Language Workbench <span class="inlinemediaobject"><img src="./images/icons/IconeGemocLanguage_16.png" alt="IconeGemocLanguage_16"></span></h2></div></div></div>

<div class="section" title="1.1.&nbsp;Overview"><div class="titlepage"><div><div><h2 class="title"><a name="_overview"></a>1.1.&nbsp;Overview</h2></div></div></div>

<p>The <span class="strong"><strong><a class="indexterm" name="d5e146"></a>GEMOC Language Workbench</strong></span> is intended to be used by the <a class="indexterm" name="d5e148"></a>Language Designers. It provides the tools to create and composte Executable Domain-Specific Modeling Languages (xDSMLs).</p>
<div class="figure"><a name="figure-glw-screenshot-of-language_workbench"></a><p class="title"><b>Figure&nbsp;1.1.&nbsp;Screenshot of the GEMOC Language Workbench showing the design of a Timed Finite State Machine (TFSM) example.</b></p><div class="figure-contents">

<div class="mediaobject"><img src="./images/gemoc_language_workbench_TFSM_screenshot.png" alt="Screenshot of the GEMOC Language Workbench"></div>
</div></div><br class="figure-break">
<p><a class="indexterm" name="d5e158"></a>
<a class="indexterm" name="d5e161"></a></p>
<p><hr xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory"></p>
</div>
<div class="section" title="1.2.&nbsp;xDSML Project"><div class="titlepage"><div><div><h2 class="title"><a name="section-gemoc-language-project"></a>1.2.&nbsp;xDSML Project</h2></div></div></div>

<div class="section" title="1.2.1.&nbsp;Purpose"><div class="titlepage"><div><div><h3 class="title"><a name="_purpose"></a>1.2.1.&nbsp;Purpose</h3></div></div></div>

<p>The xDSML Project is the core project of languages created using the GEMOC Studio. It has two main purposes:
* Referencing the different projects representing the various parts constituting an xDSML;
* Guiding the <a class="indexterm" name="d5e169"></a>Language Designer in the language creation process through the <a class="indexterm" name="d5e171"></a>GEMOC Dashboard illustrating the workflow of creating an xDSML using the GEMOC Studio.</p>
</div>
<div class="section" title="1.2.2.&nbsp;Creating the xDSML Project"><div class="titlepage"><div><div><h3 class="title"><a name="_creating_the_xdsml_project"></a>1.2.2.&nbsp;Creating the xDSML Project</h3></div></div></div>

<p>In the GEMOC Studio, go to: <span class="emphasis"><em>File &gt; New &gt; Project&#8230;&#8203; &gt; New GEMOC Language Project</em></span>. This will create a new xDSML Project in your workspace.</p>
</div>
<div class="section" title="1.2.3.&nbsp;Editing the xDSML Project"><div class="titlepage"><div><div><h3 class="title"><a name="_editing_the_xdsml_project"></a>1.2.3.&nbsp;Editing the xDSML Project</h3></div></div></div>

<p>The main file constituting the xDSML Project is the <span class="emphasis"><em>project.xdsml</em></span>. To edit this file, open it with the "XDSML Model Editor".</p>
<p>From the information specified in this file, the project generates additional code that is used by the Execution Engine during the execution of models conforming to the xDSML (see <a class="xref" href="ch02.html" title="Chapter&nbsp;2.&nbsp;Gemoc Modeling workbench">Chapter&nbsp;2, <i>Gemoc Modeling workbench</i></a>).</p>
</div>
</div>
<div class="section" title="1.3.&nbsp;Domain Model Project"><div class="titlepage"><div><div><h2 class="title"><a name="section-define-AS-project"></a>1.3.&nbsp;Domain Model Project</h2></div></div></div>

<div class="section" title="1.3.1.&nbsp;Purpose"><div class="titlepage"><div><div><h3 class="title"><a name="_purpose_2"></a>1.3.1.&nbsp;Purpose</h3></div></div></div>

<p>The Domain Model Project specifies the concepts of the domain at hand and the structural relations between the concepts.</p>
</div>
<div class="section" title="1.3.2.&nbsp;Creating the Domain Model Project"><div class="titlepage"><div><div><h3 class="title"><a name="_creating_the_domain_model_project"></a>1.3.2.&nbsp;Creating the Domain Model Project</h3></div></div></div>

<p>The GEMOC Studio relies on the Eclipse Modeling Framework for its Domain Model Projects. See <a class="ulink" href="http://eclipse.org/modeling/emf/">the EMF website</a> for more information on how to create an EMF project in Eclipse.</p>
<p>When your EMF Project is done, connect your xDSML Project to it by specifying in the <span class="emphasis"><em>project.xdsml</em></span> file the name of the EMF Project, the path to the genmodel of your Ecore metamodel and the name of the root element as <span class="emphasis"><em>package::root</em></span>.</p>
</div>
<div class="section" title="1.3.3.&nbsp;Editing the Domain Model Project"><div class="titlepage"><div><div><h3 class="title"><a name="_editing_the_domain_model_project"></a>1.3.3.&nbsp;Editing the Domain Model Project</h3></div></div></div>

<p>If you wish to modify your Domain Model, do not forget to reload the associated genmodel and regenerate the EMF model code (and edit/editor code if you use them).</p>
</div>
</div>
<div class="section" title="1.4.&nbsp;Defining the Domain-Specific Actions (DSA) Project"><div class="titlepage"><div><div><h2 class="title"><a name="section-define-dsa-project"></a>1.4.&nbsp;Defining the Domain-Specific Actions (DSA) Project</h2></div></div></div>

<div class="section" title="1.4.1.&nbsp;Purpose"><div class="titlepage"><div><div><h3 class="title"><a name="_purpose_3"></a>1.4.1.&nbsp;Purpose</h3></div></div></div>

<p>The Domain-Specific Actions define the runtime state (<span class="strong"><strong>Execution Data</strong></span>) of the model and the operations (<span class="strong"><strong>Execution Functions</strong></span>) which modify the runtime state of the model.</p>
</div>
<div class="section" title="1.4.2.&nbsp;Creating the DSA Project"><div class="titlepage"><div><div><h3 class="title"><a name="_creating_the_dsa_project"></a>1.4.2.&nbsp;Creating the DSA Project</h3></div></div></div>

<p>In the GEMOC Studio, the DSA are implemented using <a class="ulink" href="https://github.com/diverse-project/k3/wiki">Kermeta 3</a>.
To create a new DSA Project, in the main menu of the GEMOC Studio, go to: <span class="emphasis"><em>File &gt; New &gt; Project&#8230;&#8203; &gt; K3 Project</em></span>. In the wizard, create it as a Plug-in with EMF using the template of your choice.
Then, connect the xDSML Project to the DSA Project by referencing the DSA Project in the <span class="emphasis"><em>project.xdsml</em></span> file.</p>
</div>
<div class="section" title="1.4.3.&nbsp;Editing the DSA Project"><div class="titlepage"><div><div><h3 class="title"><a name="_editing_the_dsa_project"></a>1.4.3.&nbsp;Editing the DSA Project</h3></div></div></div>

<p>Kermeta 3 is based on <a class="ulink" href="http://www.eclipse.org/xtend/index.html">xTend</a>. The Execution Data and Execution Functions are defined through aspects weaved onto the metaclasses of the Domain Model.</p>
<div class="section" title="Defining the Execution Data"><div class="titlepage"><div><div><h4 class="title"><a name="_defining_the_execution_data"></a>Defining the Execution Data</h4></div></div></div>

<p>The Execution Data consist in attributes and references added to existing concepts (metaclasses) of the Abstract Syntax. They may also include new metaclasses which define the type of these new attributes and references.</p>
</div>
<div class="section" title="Defining the Execution Functions"><div class="titlepage"><div><div><h4 class="title"><a name="_defining_the_execution_functions"></a>Defining the Execution Functions</h4></div></div></div>

<p>The Execution Functions define how the Execution Data evolve during the execution of the model. Execution Functions can be implemented by defining the body of a method.</p>
<div xmlns="http://www.w3.org/1999/xhtml" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2>
<p xmlns="">For now, Execution Functions are considered as <span class="strong"><strong>atomic, instantaneous and blocking</strong></span>. This means that any long computation will block the rest of the simulation, and concurrent Execution Functions are not executed in concurrence yet.</p>
</div>
<div xmlns="http://www.w3.org/1999/xhtml" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2>
<p xmlns="">For technical reasons, the Domain Model (Ecore metamodel) must specify the signature of the Execution Functions as EOperations.</p>
</div>
</div>
</div>
</div>
<div class="section" title="1.5.&nbsp;Defining Domain-Specific Constraints"><div class="titlepage"><div><div><h2 class="title"><a name="_defining_domain_specific_constraints"></a>1.5.&nbsp;Defining Domain-Specific Constraints</h2></div></div></div>

<p>TODO</p>
</div>
<div class="section" title="1.6.&nbsp;Defining a Concrete Syntax"><div class="titlepage"><div><div><h2 class="title"><a name="_defining_a_concrete_syntax"></a>1.6.&nbsp;Defining a Concrete Syntax</h2></div></div></div>

<p>An xDSML can support different concrete syntaxes. Most EMF-based editors should work, however GEMOC provides additional support for some editors.
Editors explictly supported are: EMF tree editor, Xtext editor, Sirius editor.</p>
<div class="section" title="1.6.1.&nbsp;Defining a Concrete Syntax with Xtext"><div class="titlepage"><div><div><h3 class="title"><a name="_defining_a_concrete_syntax_with_xtext"></a>1.6.1.&nbsp;Defining a Concrete Syntax with Xtext</h3></div></div></div>

<p>See <a class="ulink" href="http://www.eclipse.org/Xtext/">the Xtext website</a>.</p>
</div>
<div class="section" title="1.6.2.&nbsp;Defining a Concrete Syntax with Sirius"><div class="titlepage"><div><div><h3 class="title"><a name="_defining_a_concrete_syntax_with_indexterm_primary_sirius_primary_indexterm_sirius"></a>1.6.2.&nbsp;Defining a Concrete Syntax with <a class="indexterm" name="d5e238"></a>Sirius</h3></div></div></div>

<p>If you want to create a graphical concrete syntax you can use Sirius. The <a class="ulink" href="http://www.eclipse.org/sirius/doc/">Sirius documentation</a> provides information for <a class="ulink" href="http://www.eclipse.org/sirius/doc/specifier/Sirius%20Specifier%20Manual.html">Sirius Specifier Manual</a>.</p>
</div>
</div>
<div class="section" title="1.7.&nbsp;Defining a Model of Concurrency and Communication (MoCC)"><div class="titlepage"><div><div><h2 class="title"><a name="_defining_a_model_of_concurrency_and_communication_mocc"></a>1.7.&nbsp;Defining a Model of Concurrency and Communication (MoCC)</h2></div></div></div>

<p>TODO MoCCML + ECL</p>
</div>
<div class="section" title="1.8.&nbsp;Defining the Domain-Specific Events (DSE)"><div class="titlepage"><div><div><h2 class="title"><a name="_defining_the_domain_specific_events_dse"></a>1.8.&nbsp;Defining the Domain-Specific Events (DSE)</h2></div></div></div>

<p>The DSE can be defined using the <span class="strong"><strong>Gemoc Events Language</strong></span> (GEL). Create a new file with extension ".GEL" in your DSE project.
The DSE define a mapping between MoccEvents from the MoCC and the Execution Functions (defined as methods in the DSA)</p>
<p>Therefore, the first step to designing the DSE in GEL is importing the ECL file and the Ecore file of the xDSML. You can do using the "platform:/plugin" syntax.</p>
<p>DSEs can be defined between the "DSE" and "end" keywords.
After the 'upon' keyword, a MoccEvent from the ECL file can be referenced.
After the 'triggers' keyword, a navigation path from the context of the MoccEvent to an EOperation can be defined to specify which Execution Function is triggered by the Domain-Specific Event being defined.</p>
<p>A DSE (defined at the language level) results in corresponding Model-Specific Events (at the model-level) after a compilation phase. For every instance of the metaclass context of the MoccEvent referenced by the DSE, a corresponding Model-Specific Event is created. For instance if a DSE is created for Transitions and there are 3 Transitions in the model, there will be a corresponding Model-Specific Event for each Transition.</p>
</div>
<div class="section" title="1.9.&nbsp;Defining the Feedback Policies"><div class="titlepage"><div><div><h2 class="title"><a name="_defining_the_feedback_policies"></a>1.9.&nbsp;Defining the Feedback Policies</h2></div></div></div>

<p>The Feedback Policies can be defined in GEL as well. A Feedback Policy is responsible for specifying the influence of a piece of data from the domain on the MoCC. A Feedback Policy can be defined as follows.
First, give a name to the result of the Execution Function using the "returning" keyword. Then, between the "Feedback" and "end" keywords, the Feedback Rules can be defined as "[filter] &#8658; allow consequence".</p>
<p>A Feedback Policy must be used when the MoCC needs runtime data from the domain without which it would otherwise realize an arbitrary decision. This is typically the case for any form of conditional-based control flow.</p>
</div>
<div class="section" title="1.10.&nbsp;Defining an animation view"><div class="titlepage"><div><div><h2 class="title"><a name="_defining_an_animation_view"></a>1.10.&nbsp;Defining an animation view</h2></div></div></div>

<p>The animation layer is an extension on top of a graphical editor defined with <a class="indexterm" name="d5e260"></a>Sirius.</p>
<p>TODO Debug layer, Animation layer</p>
</div>
<div class="section" title="1.11.&nbsp;Process support view"><div class="titlepage"><div><div><h2 class="title"><a name="section-process-support-view"></a>1.11.&nbsp;Process support view</h2></div></div></div>

<p>TODO present process view</p>
</div>
</div><ul xmlns="http://www.w3.org/1999/xhtml" xmlns:d="http://docbook.org/ns/docbook" class="docnav"><li class="previous"><a accesskey="p" href="pr01.html"><strong>Prev</strong>Introduction</a></li><li class="up"><a accesskey="u" href="#"><strong>Up</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Home</strong></a></li><li class="next"><a accesskey="n" href="ch02.html"><strong>Next</strong>Chapter&nbsp;2.&nbsp;Gemoc Modeling workbench</a></li></ul></body></html>