<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 1. GEMOC Language Workbench</title><link rel="stylesheet" type="text/css" href="css/gemocorg.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"/><link rel="home" href="index.html" title="GEMOC Studio Guide"/><link rel="up" href="index.html" title="GEMOC Studio Guide"/><link rel="prev" href="pr01.html" title="Introduction"/><link rel="next" href="ch02.html" title="Chapter 2. Gemoc Modeling workbench"/><meta xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" http-equiv="Content-Type" content="text/html; charset=UTF-8"/></head><body><p xmlns:d="http://docbook.org/ns/docbook" id="title"><a href="http://www.gemoc.org" class="site_href"><strong>GEMOC.org</strong></a><a href="http://gemoc.github.io//" class="doc_href"><strong>Community Documentation</strong></a></p><ul xmlns:d="http://docbook.org/ns/docbook" class="docnav"><li class="previous"><a accesskey="p" href="pr01.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="ch02.html"><strong>Next</strong></a></li></ul><div class="chapter" title="Chapter 1. GEMOC Language Workbench"><div class="titlepage"><div><div><h2 class="title"><a id="_gemoc_language_workbench_inlinemediaobject_imageobject_imagedata_fileref_images_icons_iconegemoclanguage_16_png_contentwidth_16_contentdepth_16_imageobject_textobject_phrase_iconegemoclanguage_16_phrase_textobject_inlinemediaobject"/>Chapter 1. GEMOC Language Workbench <span class="inlinemediaobject"><img src="./images/icons/IconeGemocLanguage_16.png" alt="IconeGemocLanguage_16"/></span></h2></div></div></div>

<div class="section" title="1.1. Overview"><div class="titlepage"><div><div><h2 class="title"><a id="_overview"/>1.1. Overview</h2></div></div></div>

<p>The <span class="strong"><strong><a id="d5e191" class="indexterm"/>GEMOC Language Workbench</strong></span> is intended to be used by the <a id="d5e193" class="indexterm"/>Language Designers and the <a id="d5e195" class="indexterm"/>Language Integrators. It provides the tools to create and compose eXecutable Domain-Specific Modeling Languages (xDSMLs) using the GEMOC approach.</p>
<div class="figure"><a id="figure-glw-screenshot-of-language_workbench"/><p class="title"><strong>Figure 1.1. Screenshot of the GEMOC Language Workbench showing the design of a Timed Finite State Machine (TFSM) example.</strong></p><div class="figure-contents">

<div class="mediaobject"><img src="./images/gemoc_language_workbench_TFSM_screenshot.png" alt="Screenshot of the GEMOC Language Workbench"/></div>
</div></div><br class="figure-break"/>
<p><a id="d5e205" class="indexterm"/>
<a id="d5e208" class="indexterm"/></p>
<p><hr xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory"/></p>
</div>
<div class="section" title="1.2. xDSML Project"><div class="titlepage"><div><div><h2 class="title"><a id="section-gemoc-language-project"/>1.2. xDSML Project</h2></div></div></div>

<div class="section" title="1.2.1. Purpose"><div class="titlepage"><div><div><h3 class="title"><a id="_purpose"/>1.2.1. Purpose</h3></div></div></div>

<p>The xDSML Project is the core project of languages created using the GEMOC Studio. It has two main purposes:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
Referencing the different projects implementing the various parts constituting an xDSML;
</li><li class="listitem">
Guiding the <a id="d5e221" class="indexterm"/>Language Designer in the language creation process through the <a id="d5e223" class="indexterm"/>GEMOC Dashboard illustrating the workflow of creating an xDSML using the GEMOC Studio.
</li></ul></div>
</div>
<div class="section" title="1.2.2. Creating the xDSML Project"><div class="titlepage"><div><div><h3 class="title"><a id="_creating_the_xdsml_project"/>1.2.2. Creating the xDSML Project</h3></div></div></div>

<p>In the GEMOC Studio, go to: <span class="emphasis"><em>File &gt; New &gt; Project…​ &gt; New GEMOC Language Project</em></span>. This will create a new xDSML Project in your workspace.</p>
</div>
<div class="section" title="1.2.3. Editing the xDSML Project"><div class="titlepage"><div><div><h3 class="title"><a id="_editing_the_xdsml_project"/>1.2.3. Editing the xDSML Project</h3></div></div></div>

<p>The main file constituting the xDSML Project is the <span class="emphasis"><em>project.xdsml</em></span>. To edit this file, open it with the <span class="emphasis"><em>XDSML Model Editor</em></span>.</p>
<p>From the information contained in this file, the project generates additional code that is used by the Execution Engine during the execution of models conforming to the xDSML (see <a class="xref" href="ch02.html" title="Chapter 2. Gemoc Modeling workbench">Chapter 2, <em>Gemoc Modeling workbench</em></a>).</p>
</div>
</div>
<div class="section" title="1.3. Domain Model Project"><div class="titlepage"><div><div><h2 class="title"><a id="section-define-AS-project"/>1.3. Domain Model Project</h2></div></div></div>

<div class="section" title="1.3.1. Purpose"><div class="titlepage"><div><div><h3 class="title"><a id="_purpose_2"/>1.3.1. Purpose</h3></div></div></div>

<p>The Domain Model Project specifies the concepts of the domain at hand and the structural relations between the concepts.</p>
</div>
<div class="section" title="1.3.2. Creating the Domain Model Project"><div class="titlepage"><div><div><h3 class="title"><a id="_creating_the_domain_model_project"/>1.3.2. Creating the Domain Model Project</h3></div></div></div>

<p>The GEMOC Studio relies on the Eclipse Modeling Framework for its Domain Model Projects. See <a class="ulink" href="http://eclipse.org/modeling/emf/">the EMF website</a> for more information on how to create an EMF project in Eclipse. The Domain Model is materialized as an Ecore metamodel.</p>
<p>When your EMF Project is done, connect your xDSML Project to it by specifying in the <span class="emphasis"><em>project.xdsml</em></span> file the name of the EMF Project, the path to the genmodel of your Ecore metamodel and the name of the root element as <span class="emphasis"><em>package::root</em></span>.</p>
<p>TODO: Melange?</p>
</div>
<div class="section" title="1.3.3. Editing the Domain Model Project"><div class="titlepage"><div><div><h3 class="title"><a id="_editing_the_domain_model_project"/>1.3.3. Editing the Domain Model Project</h3></div></div></div>

<p>If you wish to modify your Domain Model, do not forget to reload the associated genmodel and regenerate the EMF model code (and edit/editor code if you use them).</p>
</div>
</div>
<div class="section" title="1.4. Defining the Domain-Specific Actions (DSA) Project"><div class="titlepage"><div><div><h2 class="title"><a id="section-define-dsa-project"/>1.4. Defining the Domain-Specific Actions (DSA) Project</h2></div></div></div>

<div class="section" title="1.4.1. Purpose"><div class="titlepage"><div><div><h3 class="title"><a id="_purpose_3"/>1.4.1. Purpose</h3></div></div></div>

<p>The Domain-Specific Actions define the runtime state (<span class="strong"><strong>Execution Data</strong></span>) of the model and the operations (<span class="strong"><strong>Execution Functions</strong></span>) which modify the runtime state of the model.</p>
</div>
<div class="section" title="1.4.2. Creating the DSA Project"><div class="titlepage"><div><div><h3 class="title"><a id="_creating_the_dsa_project"/>1.4.2. Creating the DSA Project</h3></div></div></div>

<p>In the GEMOC Studio, the DSA are implemented using <a class="ulink" href="https://github.com/diverse-project/k3/wiki">Kermeta 3</a>.
To create a new DSA Project, in the main menu of the GEMOC Studio, go to: <span class="emphasis"><em>File &gt; New &gt; Project…​ &gt; K3 Project</em></span>. In the wizard, create it as a Plug-in with EMF using the template of your choice.
Then, connect the xDSML Project to the DSA Project by referencing the DSA Project in the <span class="emphasis"><em>project.xdsml</em></span> file.</p>
</div>
<div class="section" title="1.4.3. Editing the DSA Project"><div class="titlepage"><div><div><h3 class="title"><a id="_editing_the_dsa_project"/>1.4.3. Editing the DSA Project</h3></div></div></div>

<p>Kermeta 3 is based on <a class="ulink" href="http://www.eclipse.org/xtend/index.html">xTend</a>. The Execution Data and Execution Functions are defined through aspects weaved onto the metaclasses of the Domain Model.</p>
<div class="section" title="Defining the Execution Data"><div class="titlepage"><div><div><h4 class="title"><a id="_defining_the_execution_data"/>Defining the Execution Data</h4></div></div></div>

<p>The Execution Data consist in attributes and references added to existing concepts (metaclasses) of the Abstract Syntax. They may also include new metaclasses which define the type of these new attributes and references.</p>
</div>
<div class="section" title="Defining the Execution Functions"><div class="titlepage"><div><div><h4 class="title"><a id="_defining_the_execution_functions"/>Defining the Execution Functions</h4></div></div></div>

<p>The Execution Functions define how the Execution Data evolve during the execution of the model. Execution Functions can be implemented by defining the body of a method.</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2>
<p>For now, Execution Functions are considered as <span class="strong"><strong>atomic, instantaneous and blocking</strong></span>. This means that any long computation will block the rest of the simulation, and concurrent Execution Functions are not executed in concurrence yet.</p>
</div>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Warning</h2>
<p>For technical reasons, the Domain Model (Ecore metamodel) must specify the signature of the Execution Functions as EOperations.</p>
</div>
</div>
</div>
<div class="section" title="1.4.4. Testing the Domain-Specific Actions"><div class="titlepage"><div><div><h3 class="title"><a id="_testing_the_domain_specific_actions"/>1.4.4. Testing the Domain-Specific Actions</h3></div></div></div>

<p>It is possible to test the DSA (in particular the Execution Functions) by simply writing a simple program with a <span class="emphasis"><em>main</em></span> function (using Java or Xtend/Kermeta3). Create or load a model conform to your Domain Model and call the Execution Functions in the right order to verify there are no runtime exceptions or domain issues.</p>
</div>
</div>
<div class="section" title="1.5. Defining Domain-Specific Constraints"><div class="titlepage"><div><div><h2 class="title"><a id="_defining_domain_specific_constraints"/>1.5. Defining Domain-Specific Constraints</h2></div></div></div>

<p>TODO</p>
</div>
<div class="section" title="1.6. Defining a Concrete Syntax"><div class="titlepage"><div><div><h2 class="title"><a id="defining-a-concrete-syntax-section"/>1.6. Defining a Concrete Syntax</h2></div></div></div>

<p>An xDSML can support different concrete syntaxes. Most EMF-based editors should work with GEMOC, however the GEMOC Studio provides additional support for some specific editors. Thus, we recommend using: an EMF arborescent editor, an Xtext editor, and/or a Sirius editor.
Don’t forget to link the xDSML Project to the concrete syntax project(s) you want to use by editing the <span class="emphasis"><em>project.xdsml</em></span> file.</p>
<div class="section" title="1.6.1. Defining a Concrete Syntax with Xtext"><div class="titlepage"><div><div><h3 class="title"><a id="defining-a-concrete-syntax-with-xtext-section"/>1.6.1. Defining a Concrete Syntax with Xtext</h3></div></div></div>

<p>See <a class="ulink" href="http://www.eclipse.org/Xtext/">the Xtext website</a>.</p>
</div>
<div class="section" title="1.6.2. Defining a Concrete Syntax with Sirius"><div class="titlepage"><div><div><h3 class="title"><a id="defining-a-concrete-syntax-with-sirius-section"/>1.6.2. Defining a Concrete Syntax with <a id="d5e297" class="indexterm"/>Sirius</h3></div></div></div>

<p>If you want to create a graphical concrete syntax you can use Sirius. The <a class="ulink" href="http://www.eclipse.org/sirius/doc/">Sirius documentation</a> provides information for <a class="ulink" href="http://www.eclipse.org/sirius/doc/specifier/Sirius%20Specifier%20Manual.html">Sirius Specifier Manual</a>.</p>
</div>
</div>
<div class="section" title="1.7. Defining a Model of Concurrency and Communication (MoCC)"><div class="titlepage"><div><div><h2 class="title"><a id="_defining_a_model_of_concurrency_and_communication_mocc"/>1.7. Defining a Model of Concurrency and Communication (MoCC)</h2></div></div></div>

<p>TODO: MoccML + ECL</p>
</div>
<div class="section" title="1.8. Defining the Domain-Specific Events (DSE)"><div class="titlepage"><div><div><h2 class="title"><a id="_defining_the_domain_specific_events_dse"/>1.8. Defining the Domain-Specific Events (DSE)</h2></div></div></div>

<div class="section" title="1.8.1. Purpose"><div class="titlepage"><div><div><h3 class="title"><a id="_purpose_4"/>1.8.1. Purpose</h3></div></div></div>

<p>The DSE define a mapping between MoccEvents from the MoCC and the Execution Functions. They specify the coordination between what happens in the MoCC, depending on its constraints, and which operations must be called in the model (thus resulting in changes in the Execution Data).
They are also exposed as the behavioral interface of the xDSML, based on which the Behavioral COmposition Operator Language (BCOoL) defines the composition of xDSMLs.</p>
</div>
<div class="section" title="1.8.2. Creating the DSE Project"><div class="titlepage"><div><div><h3 class="title"><a id="_creating_the_dse_project"/>1.8.2. Creating the DSE Project</h3></div></div></div>

<p>Create an empty Plug-in Project. In this project, create a new file with the ".GEL" extension. The DSE can be defined using the <span class="strong"><strong>Gemoc Events Language</strong></span> (GEL).</p>
</div>
<div class="section" title="1.8.3. Editing the DSE Project"><div class="titlepage"><div><div><h3 class="title"><a id="_editing_the_dse_project"/>1.8.3. Editing the DSE Project</h3></div></div></div>

<p>The first step to designing the DSE in GEL consists in importing the MoCC2AS Mapping (ECL file) and the Domain Model (Ecore metamodel) of the xDSML. You can do so by using the <span class="emphasis"><em>import platform:/resource/…​</em></span> syntax at the beginning of the file.</p>
<div class="section" title="Defining an Atomic Domain-Specific Event"><div class="titlepage"><div><div><h4 class="title"><a id="_defining_an_atomic_domain_specific_event"/>Defining an Atomic Domain-Specific Event</h4></div></div></div>

<p>Atomic Domain-Specific Events realize a 1-to-1 mapping between the MoccEvents and the Execution Functions of the xDSML.
An atomic DSE is defined using the following syntax:</p>
<pre class="screen">DSE &lt;name&gt;:
  upon &lt;MoccEvent&gt;
  triggers &lt;Path-to-ExecutionFunction&gt;
end</pre>
<p>Where:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
&lt;name&gt; is the name of the Domain-Specific Event;
</li><li class="listitem">
&lt;MoccEvent&gt; is any MoccEvent from the MoCC2AS Mapping. This will also automatically define the DSE in the same context as the MoccEvent referenced, thus defining the starting point of navigation expressions from this DSE;
</li><li class="listitem">
&lt;Path-to-ExecutionFunction&gt; is a navigation path from the context of this DSE to an Execution Function.
</li></ul></div>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>In case of difficulty, make use of the auto-completion feature.</p>
</div>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2>
<p>The implicit context of a Domain-Specific Event is inferred from the context in which its associated MoccEvent is defined in the MoCC2AS Mapping. Therefore, the DSE will be usable for any instance in the model of the context of the DSE. For instance if a DSE is mapped to a MoccEvent defined in the context of the metaclass <span class="emphasis"><em>Transition</em></span>, and there are 3 Transitions in the model being executed, this DSE will be usable for each of the 3 Transitions of the model.</p>
</div>
</div>
<div class="section" title="Semantics of Atomic Domain-Specific Events"><div class="titlepage"><div><div><h4 class="title"><a id="_semantics_of_atomic_domain_specific_events"/>Semantics of Atomic Domain-Specific Events</h4></div></div></div>

<p>Upon an occurrence of the associated MoccEvent, an occurrence of the Domain-Specific Event is created and consumed by the GEMOC Execution Engine. Its consumption triggers the execution of the designated Execution Function.</p>
</div>
<div class="section" title="Defining a Composite Domain-Specific Events"><div class="titlepage"><div><div><h4 class="title"><a id="_defining_a_composite_domain_specific_events"/>Defining a Composite Domain-Specific Events</h4></div></div></div>

<p>TODO</p>
</div>
<div class="section" title="Semantics of Composite Domain-Specific Events"><div class="titlepage"><div><div><h4 class="title"><a id="_semantics_of_composite_domain_specific_events"/>Semantics of Composite Domain-Specific Events</h4></div></div></div>

<p>TODO</p>
</div>
</div>
</div>
<div class="section" title="1.9. Defining the Feedback Specification"><div class="titlepage"><div><div><h2 class="title"><a id="_defining_the_indexterm_primary_feedback_specification_primary_indexterm_feedback_specification"/>1.9. Defining the <a id="d5e346" class="indexterm"/>Feedback Specification</h2></div></div></div>

<div class="section" title="1.9.1. Purpose"><div class="titlepage"><div><div><h3 class="title"><a id="_purpose_5"/>1.9.1. Purpose</h3></div></div></div>

<p>Many languages need to be able to parameterize their control flow with their data flow. For instance, conditional statements like <span class="emphasis"><em>if…​then…​else</em></span> or <span class="emphasis"><em>switch…​case</em></span> statements depend on the result of a boolean expression.
Since the GEMOC approach at designing xDSMLs promotes the separation of the concurrency (MoCC from the domain-specific data (DSA), there needs to be a form of communication from the DSA to the MoCC. For instance, the MoCC of an xDSML with a conditional statement specifies that after evaluating the condition, either the 'then' or the 'else' branch will be taken (in exclusion from one another), while the DSA provide the Execution Function that evaluates the condition, returning a boolean value. Making the link between the 'true' value and the 'then' branch, and between the 'false' value and the 'else' branch is the role of the Feedback Specification.
More formally, the Feedback Specification specifies how domain data returned by an Execution Function must be interpreted to parameterize the MoCC. The Feedback Specification consists in a set of Feedback Policies which are associated to the atomic Domain-Specific Events. Therefore, the Feedback Specification is also done using <a id="d5e353" class="indexterm"/>GEL.</p>
</div>
<div class="section" title="1.9.2. Creating a Feedback Policy"><div class="titlepage"><div><div><h3 class="title"><a id="_creating_a_indexterm_primary_feedback_policy_primary_indexterm_feedback_policy"/>1.9.2. Creating a <a id="d5e357" class="indexterm"/>Feedback Policy</h3></div></div></div>

<p>A Feedback Policy is associated to an atomic DSE by extending the syntax for defining the atomic DSE as follows:</p>
<pre class="screen">DSE &lt;name&gt;:
  upon &lt;MoccEvent&gt;
  triggers &lt;Path-to-ExecutionFunction&gt; returning &lt;resultName&gt;
  feedback:
    [&lt;filter1&gt;] =&gt; allow &lt;PathToMoccEventConsequence1&gt;
    [&lt;filter2&gt;] =&gt; allow &lt;PathToMoccEventConsequence2&gt;
    ...
    default =&gt; allow &lt;PathToMoccEventDefaultConsequence&gt;
  end
end</pre>
<p>Where:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
&lt;resultName&gt; is a local variable which will be affected with the value returned by the associated Execution Function;
</li><li class="listitem">
Between the <span class="emphasis"><em>feedback</em></span> and <span class="emphasis"><em>end</em></span> keywords, a set of Feedback Rules are defined (including a default Feedback Rule, with the <span class="emphasis"><em>default</em></span> keyword). A Feedback Rule is composed of a filter (between squared brackets) and a consequence;
</li><li class="listitem">
&lt;filterN&gt; are predicates, most likely using &lt;resultName&gt; which define whether or not this Feedback Rule must be applied;
</li><li class="listitem">
&lt;PathToMoccEventConsequenceN&gt; is a navigation expression to a MoccEvent which specifies which MoccEvent is allowed as a result of the data returned by the Execution Function.
</li></ul></div>
</div>
<div class="section" title="1.9.3. Semantics of the Feedback Policy"><div class="titlepage"><div><div><h3 class="title"><a id="_semantics_of_the_feedback_policy"/>1.9.3. Semantics of the Feedback Policy</h3></div></div></div>

<p>When the Execution Function associated to a DSE returns a result, the filter of every Feedback Policy is evaluated. If none of the filters is validated, then the default rule is applied. Else, the collection of rules for which the filter validated are applied.
For each rule to apply, the associated consequence is allowed to have occurrences in upcoming steps of execution. This is done by the Execution Engine by filtering out some solutions provided by the MoCC interpreter and only allowing the ones complying with the Feedback Specification.</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Caution</h2>
<p>Using the Feedback Specification implies the use of a certain design pattern in the MoCC. Make sure your MoCC is well-designed for using the Feedback Specification. Don’t forget to check the tutorial concerning the Feedback Specification.</p>
</div>
</div>
</div>
<div class="section" title="1.10. Defining a debug representation"><div class="titlepage"><div><div><h2 class="title"><a id="defining-a-debug-representation-section"/>1.10. Defining a debug representation</h2></div></div></div>

<p>The debug layer is an extension on top of a graphical editor defined with <a id="d5e382" class="indexterm"/>Sirius which represents runtime data and the current instruction. See <a class="xref" href="ch01.html#defining-a-concrete-syntax-with-sirius-section" title="1.6.2. Defining a Concrete Syntax with Sirius">Section 1.6.2, “Defining a Concrete Syntax with Sirius”</a> for more details about <a id="d5e385" class="indexterm"/>Sirius. This section covers the debug representation creation wizard and the technical implementation details. Technical implementation details are only useful for advanced use case and troubleshooting.</p>
<div class="section" title="1.10.1. The debug representation wizard"><div class="titlepage"><div><div><h3 class="title"><a id="_the_debug_representation_wizard"/>1.10.1. The debug representation wizard</h3></div></div></div>

<p>This wizard creates a layer to represent the current instruction and add commands in order to manage breakpoints and launch a simulation in debug mode. This is a default implementation, it can be customized to represent runtime data for instance. The customization uses the <a id="d5e390" class="indexterm"/>Sirius description definition, see the <a class="ulink" href="http://www.eclipse.org/sirius/doc/specifier/Sirius%20Specifier%20Manual.html">Sirius Specifier Manual</a> for more details.
The wizard presents three ways to implement this layer:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
Create a debug diagram description
</li><li class="listitem">
Extend an existing diagram description
</li><li class="listitem">
Add a debug layer to an existing diagram description
</li></ul></div>
<div class="informalfigure">
<div class="mediaobject"><img src="./images/workbench/language/debug_representation_wizard/wizard.png" alt="Debug representation wizard"/></div>
</div>
<div class="section" title="Create a debug diagram description"><div class="titlepage"><div><div><h4 class="title"><a id="_create_a_debug_diagram_description"/>Create a debug diagram description</h4></div></div></div>

<p>It creates a diagram representation with a default debug layer. The representation does not depend on another representation. A typical use case is a language where the runtime data representation is too far from the language graphical syntax.</p>
<div class="informalfigure">
<div class="mediaobject"><img src="./images/workbench/language/debug_representation_wizard/create/1.png" alt="Debug representation wizard"/></div>
</div>
<div class="informalfigure">
<div class="mediaobject"><img src="./images/workbench/language/debug_representation_wizard/create/2.png" alt="Debug representation wizard"/></div>
</div>
</div>
<div class="section" title="Extend an existing diagram description"><div class="titlepage"><div><div><h4 class="title"><a id="_extend_an_existing_diagram_description"/>Extend an existing diagram description</h4></div></div></div>

<p>It creates a diagram representation with a default debug layer that extends an existing representation. This allows to have a debug layer based on the representation of the language concrete syntax. The language concrete syntax can be deployed without the debug representation. A typical use case is the reuse of an existing diagram definition that you cannot modify by yourself. For instance if you want to use <a class="ulink" href="http://eclipse.org/modeling/mdt/?project=uml2">UML</a>, you can reuse the <a class="ulink" href="http://www.umldesigner.org/">UML Designer</a>.</p>
<p>You can select any diagram description.</p>
<div class="informalfigure">
<div class="mediaobject"><img src="./images/workbench/language/debug_representation_wizard/extend/1.png" alt="Debug representation wizard"/></div>
</div>
<p>And then define the new diagram description which extends the one you previously selected.</p>
<div class="informalfigure">
<div class="mediaobject"><img src="./images/workbench/language/debug_representation_wizard/extend/2.png" alt="Debug representation wizard"/></div>
</div>
<div class="informalfigure">
<div class="mediaobject"><img src="./images/workbench/language/debug_representation_wizard/extend/3.png" alt="Debug representation wizard"/></div>
</div>
</div>
<div class="section" title="Add a debug layer to an existing diagram description"><div class="titlepage"><div><div><h4 class="title"><a id="_add_a_debug_layer_to_an_existing_diagram_description"/>Add a debug layer to an existing diagram description</h4></div></div></div>

<p>It creates a default debug layer in an existing diagram representation. This should be used if you are also in charge of the language concrete syntax.</p>
<p>In this case, you can only select a diagram description from the workspace.</p>
<div class="informalfigure">
<div class="mediaobject"><img src="./images/workbench/language/debug_representation_wizard/add/1.png" alt="Debug representation wizard"/></div>
</div>
<div class="informalfigure">
<div class="mediaobject"><img src="./images/workbench/language/debug_representation_wizard/add/2.png" alt="Debug representation wizard"/></div>
</div>
</div>
</div>
<div class="section" title="1.10.2. Implementation details"><div class="titlepage"><div><div><h3 class="title"><a id="_implementation_details"/>1.10.2. Implementation details</h3></div></div></div>

<p>Implementation details are for advanced use and troubleshooting. It explains how the implementation works behind the scene. There are two main elements covered here : the debugger services class and the debug layer itself.</p>
<div class="section" title="Debugger services"><div class="titlepage"><div><div><h4 class="title"><a id="_debugger_services"/>Debugger services</h4></div></div></div>

<p>The debugger services class is use to tell which representations should be activated and refreshed during debug (see the getRepresentationRefreshList() method). It also provides a method to know if an element of the diagram is the current instruction. This is provided by the isCurrentInstruction() method.</p>
<div class="informalfigure">
<div class="mediaobject"><img src="./images/workbench/language/debug_services.png" alt="Debug services"/></div>
</div>
</div>
<div class="section" title="Debug layer"><div class="titlepage"><div><div><h4 class="title"><a id="_debug_layer"/>Debug layer</h4></div></div></div>

<p>The default debug layer adds action to start the simulation in debug mode and to toggle breakpoints (1). When a breakpoint exists for an element of the diagram, a visual feedback is displayed according to the breakpoint state (2). The current instruction is also highlighted in yellow by default (3).</p>
<div class="informalfigure">
<div class="mediaobject"><img src="./images/workbench/language/debug_layer.png" alt="Debug layer"/></div>
</div>
<p>This is a default debug layer, it can be customized to fit your needs. The customization use the <a id="d5e484" class="indexterm"/>Sirius description definition, see the <a class="ulink" href="http://www.eclipse.org/sirius/doc/specifier/Sirius%20Specifier%20Manual.html">Sirius Specifier Manual</a> for more details.</p>
</div>
</div>
</div>
<div class="section" title="1.11. Process support view"><div class="titlepage"><div><div><h2 class="title"><a id="section-process-support-view"/>1.11. Process support view</h2></div></div></div>

<p>TODO present process view</p>
</div>
</div><ul xmlns:d="http://docbook.org/ns/docbook" class="docnav"><li class="previous"><a accesskey="p" href="pr01.html"><strong>Prev</strong>Introduction</a></li><li class="up"><a accesskey="u" href="#"><strong>Up</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Home</strong></a></li><li class="next"><a accesskey="n" href="ch02.html"><strong>Next</strong>Chapter 2. Gemoc Modeling workbench</a></li></ul></body></html>