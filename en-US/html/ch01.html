<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 1. Gemoc Language workbench</title><link rel="stylesheet" type="text/css" href="css/gemocorg.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"/><link rel="home" href="index.html" title="GEMOC Studio Guide"/><link rel="up" href="index.html" title="GEMOC Studio Guide"/><link rel="prev" href="pr01.html" title="Introduction"/><link rel="next" href="ch02.html" title="Chapter 2. Gemoc Modeling workbench"/><meta xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" http-equiv="Content-Type" content="text/html; charset=UTF-8"/></head><body><p xmlns:d="http://docbook.org/ns/docbook" id="title"><a href="http://www.gemoc.org" class="site_href"><strong>GEMOC.org</strong></a><a href="http://gemoc.github.io//" class="doc_href"><strong>Community Documentation</strong></a></p><ul xmlns:d="http://docbook.org/ns/docbook" class="docnav"><li class="previous"><a accesskey="p" href="pr01.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="ch02.html"><strong>Next</strong></a></li></ul><div class="chapter" title="Chapter 1. Gemoc Language workbench"><div class="titlepage"><div><div><h2 class="title"><a id="_gemoc_language_workbench"/>Chapter 1. Gemoc Language workbench</h2></div></div></div>

<div class="section" title="1.1. Language Workbench overview"><div class="titlepage"><div><div><h2 class="title"><a id="_language_workbench_overview"/>1.1. Language Workbench overview</h2></div></div></div>

<p>The GEMOC Language Workbench, intended to be used by <a id="d5e129" class="indexterm"/>language designers:  it allows building and composing new executable DSMLs.</p>
<div class="figure"><a id="figure-glw-screenshot-of-language_workbench"/><p class="title"><strong>Figure 1.1. Screenshot of GEMOC Studio Language Workbench on the TFSM (Timed Finite State Machine) example.</strong></p><div class="figure-contents">

<div class="mediaobject"><img src="./images/gemoc_language_workbench_TFSM_screenshot.png" alt="Screenshot of GEMOC Studio Language Workbench on the TFSM (Timed Finite State Machine) example"/></div>
</div></div><br class="figure-break"/>
<p><a id="d5e139" class="indexterm"/>
<a id="d5e141" class="indexterm"/>
<a id="d5e144" class="indexterm"/></p>
<p><hr xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory"/></p>
</div>
<div class="section" title="1.2. Gemoc Language project"><div class="titlepage"><div><div><h2 class="title"><a id="section-gemoc-language-project"/>1.2. Gemoc Language project</h2></div></div></div>

<p>In the menu go to: File&gt; New&gt; Projects…​&gt; Gemoc Language project</p>
<p>This project will be the aggregator of the other Eclipse projects that will constitute the components of a Language Unit of the xDSML.</p>
<p>It mainly defines a project.xdsml file that references these other components.</p>
<p>The xDSML file isn’t supposed to be edited manually. The pop up menu on the project (available on right click) or the <a class="xref" href="ch01.html#section-process-support-view" title="1.11. Process support view">Section 1.11, “Process support view”</a> provides a set of wizard to fill this file.</p>
<p>From these information, the project will generate additional code that will be used by the execution engine when the language will be deployed and used by the <a class="xref" href="ch02.html" title="Chapter 2. Gemoc Modeling workbench">Chapter 2, <em>Gemoc Modeling workbench</em></a>.</p>
</div>
<div class="section" title="1.3. Defining Abstract Syntax (or domain concepts)"><div class="titlepage"><div><div><h2 class="title"><a id="section-define-AS-project"/>1.3. Defining Abstract Syntax (or domain concepts)</h2></div></div></div>

<p>Defining the abstract syntax (AS) in the Language Workbench is done thanks to an EMF Ecore project that will be associated to the xDSML definition.</p>
<p>All ecore editors can be used to edit the concepts in the ecore file.</p>
<p>The EMF project can be created manually and then associated to the xDSML or directly created for the specific use of a given xDSML.</p>
<div class="section" title="1.3.1. Method 1 : Creation via xDSML popup"><div class="titlepage"><div><div><h3 class="title"><a id="section-define-AS-project-method-1"/>1.3.1. Method 1 : Creation via xDSML popup</h3></div></div></div>

<p>To create the EMF project:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
right click on the xDSML project
</li><li class="listitem">
navigate in the <span class="emphasis"><em>Gemoc Language</em></span> entry.
</li><li class="listitem">
click on <span class="emphasis"><em>create Domain Model project</em></span>
</li></ul></div>
<p>This will open a wizard asking either to create a new EMF project or select an existing one (usefull for <a class="link" href="ch01.html#section-define-AS-project-method-2" title="1.3.2. Method 2 : Manual creation and association to the xDSML">method 2</a>).
Creating a new EMF project will ask for some</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2>
<p>In future version of the studio, this method may disapear and be replaced by <a class="link" href="ch01.html#section-define-AS-project-method-3" title="1.3.3. Method 3 : Creation or selection via Gemoc Guideline view">method 3</a>.</p>
</div>
</div>
<div class="section" title="1.3.2. Method 2 : Manual creation and association to the xDSML"><div class="titlepage"><div><div><h3 class="title"><a id="section-define-AS-project-method-2"/>1.3.2. Method 2 : Manual creation and association to the xDSML</h3></div></div></div>

<p>From eclipse menu:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
<span class="emphasis"><em>File &gt; New &gt; Projects…​ &gt; Ecore Modeling Project</em></span>
</li><li class="listitem">
in the Ecore diagram, define the concepts for your language as a class diagram.
</li></ul></div>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>There are several other ways to create valid EMF projects. Amung them we can consider: <span class="emphasis"><em>File &gt; New &gt; Projects…​ &gt; EMF Project</em></span>, <span class="emphasis"><em>File &gt; New &gt; Projects…​ &gt; Empty EMF Project</em></span>,  <span class="emphasis"><em>File &gt; New &gt; Projects…​ &gt; xText Project</em></span> …​ However, this isn’t in the scope of this document to detail them or explain how to correctly configure them for being used by Gemoc.</p>
</div>
<p>Then associate the EMF project to the xDSML. The association is done either with right click on the xDSML project, <span class="emphasis"><em>Gemoc Language</em></span> &gt; <span class="emphasis"><em>create Domain Model project</em></span> &gt; <span class="emphasis"><em>Select existing EMF project</em></span>; or via the Gemo Guideline view.</p>
</div>
<div class="section" title="1.3.3. Method 3 : Creation or selection via Gemoc Guideline view"><div class="titlepage"><div><div><h3 class="title"><a id="section-define-AS-project-method-3"/>1.3.3. Method 3 : Creation or selection via Gemoc Guideline view</h3></div></div></div>

<p>The Gemoc Guideline view offers an integrated vision of the most important steps of the xDSML creation process. When selecting the <span class="emphasis"><em>Define Domain Model</em></span> task, a button allows to launch the wizards of <a class="link" href="ch01.html#section-define-AS-project-method-1" title="1.3.1. Method 1 : Creation via xDSML popup">method 1</a>.</p>
<p>TODO new project wizard (via popup, via process)
TODO select existing project
TODO Ecore editor</p>
</div>
</div>
<div class="section" title="1.4. Defining Domain-Specific Actions (DSAs)"><div class="titlepage"><div><div><h2 class="title"><a id="_defining_domain_specific_actions_dsas"/>1.4. Defining Domain-Specific Actions (DSAs)</h2></div></div></div>

<p>In Gemoc, the DSAs are developped using Kermeta 3.</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2>
<p>There may exist other ways to create DSAs, but these methods aren’t in the scope of this document.</p>
</div>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
right click on the xDSML project
</li><li class="listitem">
navigate in the <span class="emphasis"><em>Gemoc Language</em></span> entry.
</li><li class="listitem">
click on <span class="emphasis"><em>create DSA project</em></span>
</li></ul></div>
<p>In the wizard you can select an existing templates to help create the aspects classes that will extend the classes of the Domain model.</p>
<p>You can manually create a Kermeta 3 project in the main eclipse menu, and then associate it to an xDSML project.</p>
<div class="section" title="1.4.1. Defining the Execution Data"><div class="titlepage"><div><div><h3 class="title"><a id="_defining_the_execution_data"/>1.4.1. Defining the Execution Data</h3></div></div></div>

<p>The Execution Data consist in attributes and references weaved onto existing concepts (metaclasses) of the Abstract Syntax. They may also include new metaclasses.</p>
</div>
<div class="section" title="1.4.2. Defining the Execution Functions"><div class="titlepage"><div><div><h3 class="title"><a id="_defining_the_execution_functions"/>1.4.2. Defining the Execution Functions</h3></div></div></div>

<p>The Execution Functions define how the Execution Data evolve during the execution of the model. Execution Functions can be implemented by defining the body of a method.</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2>
<p>For now, Execution Functions are considered as <span class="strong"><strong>atomic, instantaneous and blocking</strong></span>. This means that any long computation will block the rest of the simulation, and concurrent Execution Functions are not executed in concurrence yet.</p>
</div>
</div>
</div>
<div class="section" title="1.5. Defining Domain-Specific Constraints"><div class="titlepage"><div><div><h2 class="title"><a id="_defining_domain_specific_constraints"/>1.5. Defining Domain-Specific Constraints</h2></div></div></div>

<p>TODO</p>
</div>
<div class="section" title="1.6. Defining a Concrete Syntax"><div class="titlepage"><div><div><h2 class="title"><a id="_defining_a_concrete_syntax"/>1.6. Defining a Concrete Syntax</h2></div></div></div>

<p>An xDSML can support different concrete syntaxes. Most EMF-based editors should work, however GEMOC provides additional support for some editors.
Editors explictly supported are: EMF tree editor, Xtext editor, Sirius editor.</p>
<div class="section" title="1.6.1. Defining a Concrete Syntax with Xtext"><div class="titlepage"><div><div><h3 class="title"><a id="_defining_a_concrete_syntax_with_xtext"/>1.6.1. Defining a Concrete Syntax with Xtext</h3></div></div></div>

<p>See <a class="ulink" href="http://www.eclipse.org/Xtext/">the Xtext website</a>.</p>
</div>
<div class="section" title="1.6.2. Defining a Concrete Syntax with Sirius"><div class="titlepage"><div><div><h3 class="title"><a id="_defining_a_concrete_syntax_with_indexterm_primary_sirius_primary_indexterm_sirius"/>1.6.2. Defining a Concrete Syntax with <a id="d5e239" class="indexterm"/>Sirius</h3></div></div></div>

<p>If you want to create a graphical concrete syntax you can use Sirius. The <a class="ulink" href="http://www.eclipse.org/sirius/doc/">Sirius documentation</a> provides information for <a class="ulink" href="http://www.eclipse.org/sirius/doc/specifier/Sirius%20Specifier%20Manual.html">Sirius Specifier Manual</a>.</p>
</div>
</div>
<div class="section" title="1.7. Defining a Model of Concurrency and Communication (MoCC)"><div class="titlepage"><div><div><h2 class="title"><a id="_defining_a_model_of_concurrency_and_communication_mocc"/>1.7. Defining a Model of Concurrency and Communication (MoCC)</h2></div></div></div>

<p>TODO MoCCML + ECL</p>
</div>
<div class="section" title="1.8. Defining the Domain-Specific Events (DSE)"><div class="titlepage"><div><div><h2 class="title"><a id="_defining_the_domain_specific_events_dse"/>1.8. Defining the Domain-Specific Events (DSE)</h2></div></div></div>

<p>The DSE can be defined using the <span class="strong"><strong>Gemoc Events Language</strong></span> (GEL). Create a new file with extension ".GEL" in your DSE project.
The DSE define a mapping between MoccEvents from the MoCC and the Execution Functions (defined as methods in the DSA)</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2>
<p>For technical reasons, the Abstract Syntax (Ecore metamodel) must specify the signature of the Execution Functions.</p>
</div>
<p>Therefore, the first step to designing the DSE in GEL is importing the ECL file and the Ecore file of the xDSML. You can do using the "platform:/plugin" syntax.</p>
<p>DSEs can be defined between the "DSE" and "end" keywords.
After the 'upon' keyword, a MoccEvent from the ECL file can be referenced.
After the 'triggers' keyword, a navigation path from the context of the MoccEvent to an EOperation can be defined to specify which Execution Function is triggered by the Domain-Specific Event being defined.</p>
<p>A DSE (defined at the language level) results in corresponding Model-Specific Events (at the model-level) after a compilation phase. For every instance of the metaclass context of the MoccEvent referenced by the DSE, a corresponding Model-Specific Event is created. For instance if a DSE is created for Transitions and there are 3 Transitions in the model, there will be a corresponding Model-Specific Event for each Transition.</p>
</div>
<div class="section" title="1.9. Defining the Feedback Policies"><div class="titlepage"><div><div><h2 class="title"><a id="_defining_the_feedback_policies"/>1.9. Defining the Feedback Policies</h2></div></div></div>

<p>The Feedback Policies can be defined in GEL as well. A Feedback Policy is responsible for specifying the influence of a piece of data from the domain on the MoCC. A Feedback Policy can be defined as follows.
First, give a name to the result of the Execution Function using the "returning" keyword. Then, between the "Feedback" and "end" keywords, the Feedback Rules can be defined as "[filter] ⇒ allow consequence".</p>
<p>A Feedback Policy must be used when the MoCC needs runtime data from the domain without which it would otherwise realize an arbitrary decision. This is typically the case for any form of conditional-based control flow.</p>
</div>
<div class="section" title="1.10. Defining an animation view"><div class="titlepage"><div><div><h2 class="title"><a id="_defining_an_animation_view"/>1.10. Defining an animation view</h2></div></div></div>

<p>The animation layer is an extension on top of a graphical editor defined with <a id="d5e263" class="indexterm"/>Sirius.</p>
<p>TODO Debug layer, Animation layer</p>
</div>
<div class="section" title="1.11. Process support view"><div class="titlepage"><div><div><h2 class="title"><a id="section-process-support-view"/>1.11. Process support view</h2></div></div></div>

<p>TODO present process view</p>
</div>
</div><ul xmlns:d="http://docbook.org/ns/docbook" class="docnav"><li class="previous"><a accesskey="p" href="pr01.html"><strong>Prev</strong>Introduction</a></li><li class="up"><a accesskey="u" href="#"><strong>Up</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Home</strong></a></li><li class="next"><a accesskey="n" href="ch02.html"><strong>Next</strong>Chapter 2. Gemoc Modeling workbench</a></li></ul></body></html>